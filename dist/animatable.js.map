{"version":3,"file":"animatable.js","sources":["../node_modules/lodash.isnumber/index.js","../node_modules/lodash.isplainobject/index.js","../node_modules/lodash.isstring/index.js","../node_modules/css-tree/lib/common/List.js","../node_modules/css-tree/lib/utils/createCustomError.js","../node_modules/css-tree/lib/common/SyntaxError.js","../node_modules/css-tree/lib/tokenizer/const.js","../node_modules/css-tree/lib/tokenizer/char-code-definitions.js","../node_modules/css-tree/lib/tokenizer/utils.js","../node_modules/css-tree/lib/common/TokenStream.js","../node_modules/css-tree/lib/definition-syntax/generate.js","../node_modules/css-tree/lib/lexer/error.js","../node_modules/css-tree/lib/utils/names.js","../node_modules/css-tree/lib/common/adopt-buffer.js","../node_modules/css-tree/lib/tokenizer/index.js","../node_modules/css-tree/lib/lexer/generic-an-plus-b.js","../node_modules/css-tree/lib/lexer/generic-urange.js","../node_modules/css-tree/lib/lexer/generic.js","../node_modules/css-tree/lib/definition-syntax/SyntaxError.js","../node_modules/css-tree/lib/definition-syntax/tokenizer.js","../node_modules/css-tree/lib/definition-syntax/parse.js","../node_modules/css-tree/lib/definition-syntax/walk.js","../node_modules/css-tree/lib/lexer/prepare-tokens.js","../node_modules/css-tree/lib/lexer/match-graph.js","../node_modules/css-tree/lib/lexer/match.js","../node_modules/css-tree/lib/lexer/trace.js","../node_modules/css-tree/lib/lexer/search.js","../node_modules/css-tree/lib/lexer/structure.js","../node_modules/css-tree/lib/lexer/Lexer.js","../node_modules/css-tree/lib/definition-syntax/index.js","../node_modules/css-tree/lib/common/OffsetToLocation.js","../node_modules/css-tree/lib/parser/sequence.js","../node_modules/css-tree/lib/parser/create.js","../node_modules/source-map/lib/base64.js","../node_modules/source-map/lib/base64-vlq.js","../node_modules/source-map/lib/util.js","../node_modules/source-map/lib/array-set.js","../node_modules/source-map/lib/mapping-list.js","../node_modules/source-map/lib/source-map-generator.js","../node_modules/css-tree/lib/generator/sourceMap.js","../node_modules/css-tree/lib/generator/create.js","../node_modules/css-tree/lib/walker/create.js","../node_modules/css-tree/lib/utils/clone.js","../node_modules/css-tree/lib/syntax/config/mix.js","../node_modules/css-tree/lib/syntax/create.js","../node_modules/css-tree/lib/convertor/create.js","../node_modules/css-tree/data/index.js","../node_modules/css-tree/lib/syntax/node/AnPlusB.js","../node_modules/css-tree/lib/syntax/node/Raw.js","../node_modules/css-tree/lib/syntax/node/Atrule.js","../node_modules/css-tree/lib/syntax/node/AtrulePrelude.js","../node_modules/css-tree/lib/syntax/node/AttributeSelector.js","../node_modules/css-tree/lib/syntax/node/Block.js","../node_modules/css-tree/lib/syntax/node/Brackets.js","../node_modules/css-tree/lib/syntax/node/CDC.js","../node_modules/css-tree/lib/syntax/node/CDO.js","../node_modules/css-tree/lib/syntax/node/ClassSelector.js","../node_modules/css-tree/lib/syntax/node/Combinator.js","../node_modules/css-tree/lib/syntax/node/Comment.js","../node_modules/css-tree/lib/syntax/node/Declaration.js","../node_modules/css-tree/lib/syntax/node/DeclarationList.js","../node_modules/css-tree/lib/syntax/node/Dimension.js","../node_modules/css-tree/lib/syntax/node/Function.js","../node_modules/css-tree/lib/syntax/node/HexColor.js","../node_modules/css-tree/lib/syntax/node/Identifier.js","../node_modules/css-tree/lib/syntax/node/IdSelector.js","../node_modules/css-tree/lib/syntax/node/MediaFeature.js","../node_modules/css-tree/lib/syntax/node/MediaQuery.js","../node_modules/css-tree/lib/syntax/node/MediaQueryList.js","../node_modules/css-tree/lib/syntax/node/Number.js","../node_modules/css-tree/lib/syntax/node/Operator.js","../node_modules/css-tree/lib/syntax/node/Parentheses.js","../node_modules/css-tree/lib/syntax/node/Percentage.js","../node_modules/css-tree/lib/syntax/node/PseudoClassSelector.js","../node_modules/css-tree/lib/syntax/node/PseudoElementSelector.js","../node_modules/css-tree/lib/syntax/node/Ratio.js","../node_modules/css-tree/lib/syntax/node/Rule.js","../node_modules/css-tree/lib/syntax/node/SelectorList.js","../node_modules/css-tree/lib/syntax/node/String.js","../node_modules/css-tree/lib/syntax/node/StyleSheet.js","../node_modules/css-tree/lib/syntax/node/TypeSelector.js","../node_modules/css-tree/lib/syntax/node/UnicodeRange.js","../node_modules/css-tree/lib/syntax/node/Url.js","../node_modules/css-tree/lib/syntax/node/WhiteSpace.js","../node_modules/css-tree/lib/syntax/node/index.js","../node_modules/css-tree/lib/syntax/node/Nth.js","../node_modules/css-tree/lib/syntax/node/Selector.js","../node_modules/css-tree/lib/syntax/node/Value.js","../node_modules/css-tree/lib/syntax/config/lexer.js","../node_modules/css-tree/lib/syntax/scope/default.js","../node_modules/css-tree/lib/syntax/scope/atrulePrelude.js","../node_modules/css-tree/lib/syntax/scope/selector.js","../node_modules/css-tree/lib/syntax/function/element.js","../node_modules/css-tree/lib/syntax/function/var.js","../node_modules/css-tree/lib/syntax/scope/index.js","../node_modules/css-tree/lib/syntax/scope/value.js","../node_modules/css-tree/lib/syntax/function/expression.js","../node_modules/css-tree/lib/syntax/atrule/import.js","../node_modules/css-tree/lib/syntax/atrule/supports.js","../node_modules/css-tree/lib/syntax/pseudo/common/selectorList.js","../node_modules/css-tree/lib/syntax/pseudo/common/nthWithOfClause.js","../node_modules/css-tree/lib/syntax/pseudo/common/nth.js","../node_modules/css-tree/lib/syntax/index.js","../node_modules/css-tree/lib/syntax/config/parser.js","../node_modules/css-tree/lib/syntax/atrule/index.js","../node_modules/css-tree/lib/syntax/atrule/font-face.js","../node_modules/css-tree/lib/syntax/atrule/media.js","../node_modules/css-tree/lib/syntax/atrule/page.js","../node_modules/css-tree/lib/syntax/pseudo/index.js","../node_modules/css-tree/lib/syntax/pseudo/dir.js","../node_modules/css-tree/lib/syntax/pseudo/has.js","../node_modules/css-tree/lib/syntax/pseudo/lang.js","../node_modules/css-tree/lib/syntax/pseudo/matches.js","../node_modules/css-tree/lib/syntax/pseudo/not.js","../node_modules/css-tree/lib/syntax/pseudo/nth-child.js","../node_modules/css-tree/lib/syntax/pseudo/nth-last-child.js","../node_modules/css-tree/lib/syntax/pseudo/nth-last-of-type.js","../node_modules/css-tree/lib/syntax/pseudo/nth-of-type.js","../node_modules/css-tree/lib/syntax/pseudo/slotted.js","../node_modules/css-tree/lib/syntax/config/walker.js","../src/functions.js","../src/arrays.js","../src/index.js"],"sourcesContent":["/**\n * lodash 3.0.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n * as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && objectToString.call(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n","/**\n * lodash 4.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\nmodule.exports = isString;\n","//\n//                              list\n//                            ┌──────┐\n//             ┌──────────────┼─head │\n//             │              │ tail─┼──────────────┐\n//             │              └──────┘              │\n//             ▼                                    ▼\n//            item        item        item        item\n//          ┌──────┐    ┌──────┐    ┌──────┐    ┌──────┐\n//  null ◀──┼─prev │◀───┼─prev │◀───┼─prev │◀───┼─prev │\n//          │ next─┼───▶│ next─┼───▶│ next─┼───▶│ next─┼──▶ null\n//          ├──────┤    ├──────┤    ├──────┤    ├──────┤\n//          │ data │    │ data │    │ data │    │ data │\n//          └──────┘    └──────┘    └──────┘    └──────┘\n//\n\nfunction createItem(data) {\n    return {\n        prev: null,\n        next: null,\n        data: data\n    };\n}\n\nfunction allocateCursor(node, prev, next) {\n    var cursor;\n\n    if (cursors !== null) {\n        cursor = cursors;\n        cursors = cursors.cursor;\n        cursor.prev = prev;\n        cursor.next = next;\n        cursor.cursor = node.cursor;\n    } else {\n        cursor = {\n            prev: prev,\n            next: next,\n            cursor: node.cursor\n        };\n    }\n\n    node.cursor = cursor;\n\n    return cursor;\n}\n\nfunction releaseCursor(node) {\n    var cursor = node.cursor;\n\n    node.cursor = cursor.cursor;\n    cursor.prev = null;\n    cursor.next = null;\n    cursor.cursor = cursors;\n    cursors = cursor;\n}\n\nvar cursors = null;\nvar List = function() {\n    this.cursor = null;\n    this.head = null;\n    this.tail = null;\n};\n\nList.createItem = createItem;\nList.prototype.createItem = createItem;\n\nList.prototype.updateCursors = function(prevOld, prevNew, nextOld, nextNew) {\n    var cursor = this.cursor;\n\n    while (cursor !== null) {\n        if (cursor.prev === prevOld) {\n            cursor.prev = prevNew;\n        }\n\n        if (cursor.next === nextOld) {\n            cursor.next = nextNew;\n        }\n\n        cursor = cursor.cursor;\n    }\n};\n\nList.prototype.getSize = function() {\n    var size = 0;\n    var cursor = this.head;\n\n    while (cursor) {\n        size++;\n        cursor = cursor.next;\n    }\n\n    return size;\n};\n\nList.prototype.fromArray = function(array) {\n    var cursor = null;\n\n    this.head = null;\n\n    for (var i = 0; i < array.length; i++) {\n        var item = createItem(array[i]);\n\n        if (cursor !== null) {\n            cursor.next = item;\n        } else {\n            this.head = item;\n        }\n\n        item.prev = cursor;\n        cursor = item;\n    }\n\n    this.tail = cursor;\n\n    return this;\n};\n\nList.prototype.toArray = function() {\n    var cursor = this.head;\n    var result = [];\n\n    while (cursor) {\n        result.push(cursor.data);\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.toJSON = List.prototype.toArray;\n\nList.prototype.isEmpty = function() {\n    return this.head === null;\n};\n\nList.prototype.first = function() {\n    return this.head && this.head.data;\n};\n\nList.prototype.last = function() {\n    return this.tail && this.tail.data;\n};\n\nList.prototype.each = function(fn, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, this.head);\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        fn.call(context, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.forEach = List.prototype.each;\n\nList.prototype.eachRight = function(fn, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, this.tail, null);\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        fn.call(context, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.forEachRight = List.prototype.eachRight;\n\nList.prototype.nextUntil = function(start, fn, context) {\n    if (start === null) {\n        return;\n    }\n\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, start);\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        if (fn.call(context, item.data, item, this)) {\n            break;\n        }\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.prevUntil = function(start, fn, context) {\n    if (start === null) {\n        return;\n    }\n\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, start, null);\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        if (fn.call(context, item.data, item, this)) {\n            break;\n        }\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.some = function(fn, context) {\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        if (fn.call(context, cursor.data, cursor, this)) {\n            return true;\n        }\n\n        cursor = cursor.next;\n    }\n\n    return false;\n};\n\nList.prototype.map = function(fn, context) {\n    var result = new List();\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        result.appendData(fn.call(context, cursor.data, cursor, this));\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.filter = function(fn, context) {\n    var result = new List();\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        if (fn.call(context, cursor.data, cursor, this)) {\n            result.appendData(cursor.data);\n        }\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.clear = function() {\n    this.head = null;\n    this.tail = null;\n};\n\nList.prototype.copy = function() {\n    var result = new List();\n    var cursor = this.head;\n\n    while (cursor !== null) {\n        result.insert(createItem(cursor.data));\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.prepend = function(item) {\n    //      head\n    //    ^\n    // item\n    this.updateCursors(null, item, this.head, item);\n\n    // insert to the beginning of the list\n    if (this.head !== null) {\n        // new item <- first item\n        this.head.prev = item;\n\n        // new item -> first item\n        item.next = this.head;\n    } else {\n        // if list has no head, then it also has no tail\n        // in this case tail points to the new item\n        this.tail = item;\n    }\n\n    // head always points to new item\n    this.head = item;\n\n    return this;\n};\n\nList.prototype.prependData = function(data) {\n    return this.prepend(createItem(data));\n};\n\nList.prototype.append = function(item) {\n    return this.insert(item);\n};\n\nList.prototype.appendData = function(data) {\n    return this.insert(createItem(data));\n};\n\nList.prototype.insert = function(item, before) {\n    if (before !== undefined && before !== null) {\n        // prev   before\n        //      ^\n        //     item\n        this.updateCursors(before.prev, item, before, item);\n\n        if (before.prev === null) {\n            // insert to the beginning of list\n            if (this.head !== before) {\n                throw new Error('before doesn\\'t belong to list');\n            }\n\n            // since head points to before therefore list doesn't empty\n            // no need to check tail\n            this.head = item;\n            before.prev = item;\n            item.next = before;\n\n            this.updateCursors(null, item);\n        } else {\n\n            // insert between two items\n            before.prev.next = item;\n            item.prev = before.prev;\n\n            before.prev = item;\n            item.next = before;\n        }\n    } else {\n        // tail\n        //      ^\n        //      item\n        this.updateCursors(this.tail, item, null, item);\n\n        // insert to the ending of the list\n        if (this.tail !== null) {\n            // last item -> new item\n            this.tail.next = item;\n\n            // last item <- new item\n            item.prev = this.tail;\n        } else {\n            // if list has no tail, then it also has no head\n            // in this case head points to new item\n            this.head = item;\n        }\n\n        // tail always points to new item\n        this.tail = item;\n    }\n\n    return this;\n};\n\nList.prototype.insertData = function(data, before) {\n    return this.insert(createItem(data), before);\n};\n\nList.prototype.remove = function(item) {\n    //      item\n    //       ^\n    // prev     next\n    this.updateCursors(item, item.prev, item, item.next);\n\n    if (item.prev !== null) {\n        item.prev.next = item.next;\n    } else {\n        if (this.head !== item) {\n            throw new Error('item doesn\\'t belong to list');\n        }\n\n        this.head = item.next;\n    }\n\n    if (item.next !== null) {\n        item.next.prev = item.prev;\n    } else {\n        if (this.tail !== item) {\n            throw new Error('item doesn\\'t belong to list');\n        }\n\n        this.tail = item.prev;\n    }\n\n    item.prev = null;\n    item.next = null;\n\n    return item;\n};\n\nList.prototype.push = function(data) {\n    this.insert(createItem(data));\n};\n\nList.prototype.pop = function() {\n    if (this.tail !== null) {\n        return this.remove(this.tail);\n    }\n};\n\nList.prototype.unshift = function(data) {\n    this.prepend(createItem(data));\n};\n\nList.prototype.shift = function() {\n    if (this.head !== null) {\n        return this.remove(this.head);\n    }\n};\n\nList.prototype.prependList = function(list) {\n    return this.insertList(list, this.head);\n};\n\nList.prototype.appendList = function(list) {\n    return this.insertList(list);\n};\n\nList.prototype.insertList = function(list, before) {\n    // ignore empty lists\n    if (list.head === null) {\n        return this;\n    }\n\n    if (before !== undefined && before !== null) {\n        this.updateCursors(before.prev, list.tail, before, list.head);\n\n        // insert in the middle of dist list\n        if (before.prev !== null) {\n            // before.prev <-> list.head\n            before.prev.next = list.head;\n            list.head.prev = before.prev;\n        } else {\n            this.head = list.head;\n        }\n\n        before.prev = list.tail;\n        list.tail.next = before;\n    } else {\n        this.updateCursors(this.tail, list.tail, null, list.head);\n\n        // insert to end of the list\n        if (this.tail !== null) {\n            // if destination list has a tail, then it also has a head,\n            // but head doesn't change\n\n            // dest tail -> source head\n            this.tail.next = list.head;\n\n            // dest tail <- source head\n            list.head.prev = this.tail;\n        } else {\n            // if list has no a tail, then it also has no a head\n            // in this case points head to new item\n            this.head = list.head;\n        }\n\n        // tail always start point to new item\n        this.tail = list.tail;\n    }\n\n    list.head = null;\n    list.tail = null;\n\n    return this;\n};\n\nList.prototype.replace = function(oldItem, newItemOrList) {\n    if ('head' in newItemOrList) {\n        this.insertList(newItemOrList, oldItem);\n    } else {\n        this.insert(newItemOrList, oldItem);\n    }\n\n    this.remove(oldItem);\n};\n\nmodule.exports = List;\n","module.exports = function createCustomError(name, message) {\n    // use Object.create(), because some VMs prevent setting line/column otherwise\n    // (iOS Safari 10 even throws an exception)\n    var error = Object.create(SyntaxError.prototype);\n    var errorStack = new Error();\n\n    error.name = name;\n    error.message = message;\n\n    Object.defineProperty(error, 'stack', {\n        get: function() {\n            return (errorStack.stack || '').replace(/^(.+\\n){1,3}/, name + ': ' + message + '\\n');\n        }\n    });\n\n    return error;\n};\n","var createCustomError = require('../utils/createCustomError');\nvar MAX_LINE_LENGTH = 100;\nvar OFFSET_CORRECTION = 60;\nvar TAB_REPLACEMENT = '    ';\n\nfunction sourceFragment(error, extraLines) {\n    function processLines(start, end) {\n        return lines.slice(start, end).map(function(line, idx) {\n            var num = String(start + idx + 1);\n\n            while (num.length < maxNumLength) {\n                num = ' ' + num;\n            }\n\n            return num + ' |' + line;\n        }).join('\\n');\n    }\n\n    var lines = error.source.split(/\\r\\n?|\\n|\\f/);\n    var line = error.line;\n    var column = error.column;\n    var startLine = Math.max(1, line - extraLines) - 1;\n    var endLine = Math.min(line + extraLines, lines.length + 1);\n    var maxNumLength = Math.max(4, String(endLine).length) + 1;\n    var cutLeft = 0;\n\n    // column correction according to replaced tab before column\n    column += (TAB_REPLACEMENT.length - 1) * (lines[line - 1].substr(0, column - 1).match(/\\t/g) || []).length;\n\n    if (column > MAX_LINE_LENGTH) {\n        cutLeft = column - OFFSET_CORRECTION + 3;\n        column = OFFSET_CORRECTION - 2;\n    }\n\n    for (var i = startLine; i <= endLine; i++) {\n        if (i >= 0 && i < lines.length) {\n            lines[i] = lines[i].replace(/\\t/g, TAB_REPLACEMENT);\n            lines[i] =\n                (cutLeft > 0 && lines[i].length > cutLeft ? '\\u2026' : '') +\n                lines[i].substr(cutLeft, MAX_LINE_LENGTH - 2) +\n                (lines[i].length > cutLeft + MAX_LINE_LENGTH - 1 ? '\\u2026' : '');\n        }\n    }\n\n    return [\n        processLines(startLine, line),\n        new Array(column + maxNumLength + 2).join('-') + '^',\n        processLines(line, endLine)\n    ].filter(Boolean).join('\\n');\n}\n\nvar SyntaxError = function(message, source, offset, line, column) {\n    var error = createCustomError('SyntaxError', message);\n\n    error.source = source;\n    error.offset = offset;\n    error.line = line;\n    error.column = column;\n\n    error.sourceFragment = function(extraLines) {\n        return sourceFragment(error, isNaN(extraLines) ? 0 : extraLines);\n    };\n    Object.defineProperty(error, 'formattedMessage', {\n        get: function() {\n            return (\n                'Parse error: ' + error.message + '\\n' +\n                sourceFragment(error, 2)\n            );\n        }\n    });\n\n    // for backward capability\n    error.parseError = {\n        offset: offset,\n        line: line,\n        column: column\n    };\n\n    return error;\n};\n\nmodule.exports = SyntaxError;\n","// CSS Syntax Module Level 3\n// https://www.w3.org/TR/css-syntax-3/\nvar TYPE = {\n    EOF: 0,                 // <EOF-token>\n    Ident: 1,               // <ident-token>\n    Function: 2,            // <function-token>\n    AtKeyword: 3,           // <at-keyword-token>\n    Hash: 4,                // <hash-token>\n    String: 5,              // <string-token>\n    BadString: 6,           // <bad-string-token>\n    Url: 7,                 // <url-token>\n    BadUrl: 8,              // <bad-url-token>\n    Delim: 9,               // <delim-token>\n    Number: 10,             // <number-token>\n    Percentage: 11,         // <percentage-token>\n    Dimension: 12,          // <dimension-token>\n    WhiteSpace: 13,         // <whitespace-token>\n    CDO: 14,                // <CDO-token>\n    CDC: 15,                // <CDC-token>\n    Colon: 16,              // <colon-token>     :\n    Semicolon: 17,          // <semicolon-token> ;\n    Comma: 18,              // <comma-token>     ,\n    LeftSquareBracket: 19,  // <[-token>\n    RightSquareBracket: 20, // <]-token>\n    LeftParenthesis: 21,    // <(-token>\n    RightParenthesis: 22,   // <)-token>\n    LeftCurlyBracket: 23,   // <{-token>\n    RightCurlyBracket: 24,  // <}-token>\n    Comment: 25\n};\n\nvar NAME = Object.keys(TYPE).reduce(function(result, key) {\n    result[TYPE[key]] = key;\n    return result;\n}, {});\n\nmodule.exports = {\n    TYPE: TYPE,\n    NAME: NAME\n};\n","var EOF = 0;\n\n// https://drafts.csswg.org/css-syntax-3/\n// § 4.2. Definitions\n\n// digit\n// A code point between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).\nfunction isDigit(code) {\n    return code >= 0x0030 && code <= 0x0039;\n}\n\n// hex digit\n// A digit, or a code point between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),\n// or a code point between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).\nfunction isHexDigit(code) {\n    return (\n        isDigit(code) || // 0 .. 9\n        (code >= 0x0041 && code <= 0x0046) || // A .. F\n        (code >= 0x0061 && code <= 0x0066)    // a .. f\n    );\n}\n\n// uppercase letter\n// A code point between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).\nfunction isUppercaseLetter(code) {\n    return code >= 0x0041 && code <= 0x005A;\n}\n\n// lowercase letter\n// A code point between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).\nfunction isLowercaseLetter(code) {\n    return code >= 0x0061 && code <= 0x007A;\n}\n\n// letter\n// An uppercase letter or a lowercase letter.\nfunction isLetter(code) {\n    return isUppercaseLetter(code) || isLowercaseLetter(code);\n}\n\n// non-ASCII code point\n// A code point with a value equal to or greater than U+0080 <control>.\nfunction isNonAscii(code) {\n    return code >= 0x0080;\n}\n\n// name-start code point\n// A letter, a non-ASCII code point, or U+005F LOW LINE (_).\nfunction isNameStart(code) {\n    return isLetter(code) || isNonAscii(code) || code === 0x005F;\n}\n\n// name code point\n// A name-start code point, a digit, or U+002D HYPHEN-MINUS (-).\nfunction isName(code) {\n    return isNameStart(code) || isDigit(code) || code === 0x002D;\n}\n\n// non-printable code point\n// A code point between U+0000 NULL and U+0008 BACKSPACE, or U+000B LINE TABULATION,\n// or a code point between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE, or U+007F DELETE.\nfunction isNonPrintable(code) {\n    return (\n        (code >= 0x0000 && code <= 0x0008) ||\n        (code === 0x000B) ||\n        (code >= 0x000E && code <= 0x001F) ||\n        (code === 0x007F)\n    );\n}\n\n// newline\n// U+000A LINE FEED. Note that U+000D CARRIAGE RETURN and U+000C FORM FEED are not included in this definition,\n// as they are converted to U+000A LINE FEED during preprocessing.\n// TODO: we doesn't do a preprocessing, so check a code point for U+000D CARRIAGE RETURN and U+000C FORM FEED\nfunction isNewline(code) {\n    return code === 0x000A || code === 0x000D || code === 0x000C;\n}\n\n// whitespace\n// A newline, U+0009 CHARACTER TABULATION, or U+0020 SPACE.\nfunction isWhiteSpace(code) {\n    return isNewline(code) || code === 0x0020 || code === 0x0009;\n}\n\n// § 4.3.8. Check if two code points are a valid escape\nfunction isValidEscape(first, second) {\n    // If the first code point is not U+005C REVERSE SOLIDUS (\\), return false.\n    if (first !== 0x005C) {\n        return false;\n    }\n\n    // Otherwise, if the second code point is a newline or EOF, return false.\n    if (isNewline(second) || second === EOF) {\n        return false;\n    }\n\n    // Otherwise, return true.\n    return true;\n}\n\n// § 4.3.9. Check if three code points would start an identifier\nfunction isIdentifierStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002D HYPHEN-MINUS\n    if (first === 0x002D) {\n        // If the second code point is a name-start code point or a U+002D HYPHEN-MINUS,\n        // or the second and third code points are a valid escape, return true. Otherwise, return false.\n        return (\n            isNameStart(second) ||\n            second === 0x002D ||\n            isValidEscape(second, third)\n        );\n    }\n\n    // name-start code point\n    if (isNameStart(first)) {\n        // Return true.\n        return true;\n    }\n\n    // U+005C REVERSE SOLIDUS (\\)\n    if (first === 0x005C) {\n        // If the first and second code points are a valid escape, return true. Otherwise, return false.\n        return isValidEscape(first, second);\n    }\n\n    // anything else\n    // Return false.\n    return false;\n}\n\n// § 4.3.10. Check if three code points would start a number\nfunction isNumberStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002B PLUS SIGN (+)\n    // U+002D HYPHEN-MINUS (-)\n    if (first === 0x002B || first === 0x002D) {\n        // If the second code point is a digit, return true.\n        if (isDigit(second)) {\n            return 2;\n        }\n\n        // Otherwise, if the second code point is a U+002E FULL STOP (.)\n        // and the third code point is a digit, return true.\n        // Otherwise, return false.\n        return second === 0x002E && isDigit(third) ? 3 : 0;\n    }\n\n    // U+002E FULL STOP (.)\n    if (first === 0x002E) {\n        // If the second code point is a digit, return true. Otherwise, return false.\n        return isDigit(second) ? 2 : 0;\n    }\n\n    // digit\n    if (isDigit(first)) {\n        // Return true.\n        return 1;\n    }\n\n    // anything else\n    // Return false.\n    return 0;\n}\n\n//\n// Misc\n//\n\n// detect BOM (https://en.wikipedia.org/wiki/Byte_order_mark)\nfunction isBOM(code) {\n    // UTF-16BE\n    if (code === 0xFEFF) {\n        return 1;\n    }\n\n    // UTF-16LE\n    if (code === 0xFFFE) {\n        return 1;\n    }\n\n    return 0;\n}\n\n// Fast code category\n//\n// https://drafts.csswg.org/css-syntax/#tokenizer-definitions\n// > non-ASCII code point\n// >   A code point with a value equal to or greater than U+0080 <control>\n// > name-start code point\n// >   A letter, a non-ASCII code point, or U+005F LOW LINE (_).\n// > name code point\n// >   A name-start code point, a digit, or U+002D HYPHEN-MINUS (-)\n// That means only ASCII code points has a special meaning and we define a maps for 0..127 codes only\nvar CATEGORY = new Array(0x80);\ncharCodeCategory.Eof = 0x80;\ncharCodeCategory.WhiteSpace = 0x82;\ncharCodeCategory.Digit = 0x83;\ncharCodeCategory.NameStart = 0x84;\ncharCodeCategory.NonPrintable = 0x85;\n\nfor (var i = 0; i < CATEGORY.length; i++) {\n    switch (true) {\n        case isWhiteSpace(i):\n            CATEGORY[i] = charCodeCategory.WhiteSpace;\n            break;\n\n        case isDigit(i):\n            CATEGORY[i] = charCodeCategory.Digit;\n            break;\n\n        case isNameStart(i):\n            CATEGORY[i] = charCodeCategory.NameStart;\n            break;\n\n        case isNonPrintable(i):\n            CATEGORY[i] = charCodeCategory.NonPrintable;\n            break;\n\n        default:\n            CATEGORY[i] = i || charCodeCategory.Eof;\n    }\n}\n\nfunction charCodeCategory(code) {\n    return code < 0x80 ? CATEGORY[code] : charCodeCategory.NameStart;\n};\n\nmodule.exports = {\n    isDigit: isDigit,\n    isHexDigit: isHexDigit,\n    isUppercaseLetter: isUppercaseLetter,\n    isLowercaseLetter: isLowercaseLetter,\n    isLetter: isLetter,\n    isNonAscii: isNonAscii,\n    isNameStart: isNameStart,\n    isName: isName,\n    isNonPrintable: isNonPrintable,\n    isNewline: isNewline,\n    isWhiteSpace: isWhiteSpace,\n    isValidEscape: isValidEscape,\n    isIdentifierStart: isIdentifierStart,\n    isNumberStart: isNumberStart,\n\n    isBOM: isBOM,\n    charCodeCategory: charCodeCategory\n};\n","var charCodeDef = require('./char-code-definitions');\nvar isDigit = charCodeDef.isDigit;\nvar isHexDigit = charCodeDef.isHexDigit;\nvar isUppercaseLetter = charCodeDef.isUppercaseLetter;\nvar isName = charCodeDef.isName;\nvar isWhiteSpace = charCodeDef.isWhiteSpace;\nvar isValidEscape = charCodeDef.isValidEscape;\n\nfunction getCharCode(source, offset) {\n    return offset < source.length ? source.charCodeAt(offset) : 0;\n}\n\nfunction getNewlineLength(source, offset, code) {\n    if (code === 13 /* \\r */ && getCharCode(source, offset + 1) === 10 /* \\n */) {\n        return 2;\n    }\n\n    return 1;\n}\n\nfunction cmpChar(testStr, offset, referenceCode) {\n    var code = testStr.charCodeAt(offset);\n\n    // code.toLowerCase() for A..Z\n    if (isUppercaseLetter(code)) {\n        code = code | 32;\n    }\n\n    return code === referenceCode;\n}\n\nfunction cmpStr(testStr, start, end, referenceStr) {\n    if (end - start !== referenceStr.length) {\n        return false;\n    }\n\n    if (start < 0 || end > testStr.length) {\n        return false;\n    }\n\n    for (var i = start; i < end; i++) {\n        var testCode = testStr.charCodeAt(i);\n        var referenceCode = referenceStr.charCodeAt(i - start);\n\n        // testCode.toLowerCase() for A..Z\n        if (isUppercaseLetter(testCode)) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction findWhiteSpaceStart(source, offset) {\n    for (; offset >= 0; offset--) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset + 1;\n}\n\nfunction findWhiteSpaceEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\nfunction findDecimalNumberEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isDigit(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.7. Consume an escaped code point\nfunction consumeEscaped(source, offset) {\n    // It assumes that the U+005C REVERSE SOLIDUS (\\) has already been consumed and\n    // that the next input code point has already been verified to be part of a valid escape.\n    offset += 2;\n\n    // hex digit\n    if (isHexDigit(getCharCode(source, offset - 1))) {\n        // Consume as many hex digits as possible, but no more than 5.\n        // Note that this means 1-6 hex digits have been consumed in total.\n        for (var maxOffset = Math.min(source.length, offset + 5); offset < maxOffset; offset++) {\n            if (!isHexDigit(getCharCode(source, offset))) {\n                break;\n            }\n        }\n\n        // If the next input code point is whitespace, consume it as well.\n        var code = getCharCode(source, offset);\n        if (isWhiteSpace(code)) {\n            offset += getNewlineLength(source, offset, code);\n        }\n    }\n\n    return offset;\n}\n\n// §4.3.11. Consume a name\n// Note: This algorithm does not do the verification of the first few code points that are necessary\n// to ensure the returned code points would constitute an <ident-token>. If that is the intended use,\n// ensure that the stream starts with an identifier before calling this algorithm.\nfunction consumeName(source, offset) {\n    // Let result initially be an empty string.\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        var code = source.charCodeAt(offset);\n\n        // name code point\n        if (isName(code)) {\n            // Append the code point to result.\n            continue;\n        }\n\n        // the stream starts with a valid escape\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point. Append the returned code point to result.\n            offset = consumeEscaped(source, offset) - 1;\n            continue;\n        }\n\n        // anything else\n        // Reconsume the current input code point. Return result.\n        break;\n    }\n\n    return offset;\n}\n\n// §4.3.12. Consume a number\nfunction consumeNumber(source, offset) {\n    var code = source.charCodeAt(offset);\n\n    // 2. If the next input code point is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),\n    // consume it and append it to repr.\n    if (code === 0x002B || code === 0x002D) {\n        code = source.charCodeAt(offset += 1);\n    }\n\n    // 3. While the next input code point is a digit, consume it and append it to repr.\n    if (isDigit(code)) {\n        offset = findDecimalNumberEnd(source, offset + 1);\n        code = source.charCodeAt(offset);\n    }\n\n    // 4. If the next 2 input code points are U+002E FULL STOP (.) followed by a digit, then:\n    if (code === 0x002E && isDigit(source.charCodeAt(offset + 1))) {\n        // 4.1 Consume them.\n        // 4.2 Append them to repr.\n        code = source.charCodeAt(offset += 2);\n\n        // 4.3 Set type to \"number\".\n        // TODO\n\n        // 4.4 While the next input code point is a digit, consume it and append it to repr.\n\n        offset = findDecimalNumberEnd(source, offset);\n    }\n\n    // 5. If the next 2 or 3 input code points are U+0045 LATIN CAPITAL LETTER E (E)\n    // or U+0065 LATIN SMALL LETTER E (e), ... , followed by a digit, then:\n    if (cmpChar(source, offset, 101 /* e */)) {\n        var sign = 0;\n        code = source.charCodeAt(offset + 1);\n\n        // ... optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+) ...\n        if (code === 0x002D || code === 0x002B) {\n            sign = 1;\n            code = source.charCodeAt(offset + 2);\n        }\n\n        // ... followed by a digit\n        if (isDigit(code)) {\n            // 5.1 Consume them.\n            // 5.2 Append them to repr.\n\n            // 5.3 Set type to \"number\".\n            // TODO\n\n            // 5.4 While the next input code point is a digit, consume it and append it to repr.\n            offset = findDecimalNumberEnd(source, offset + 1 + sign + 1);\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.14. Consume the remnants of a bad url\n// ... its sole use is to consume enough of the input stream to reach a recovery point\n// where normal tokenizing can resume.\nfunction consumeBadUrlRemnants(source, offset) {\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        var code = source.charCodeAt(offset);\n\n        // U+0029 RIGHT PARENTHESIS ())\n        // EOF\n        if (code === 0x0029) {\n            // Return.\n            offset++;\n            break;\n        }\n\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point.\n            // Note: This allows an escaped right parenthesis (\"\\)\") to be encountered\n            // without ending the <bad-url-token>. This is otherwise identical to\n            // the \"anything else\" clause.\n            offset = consumeEscaped(source, offset);\n        }\n    }\n\n    return offset;\n}\n\nmodule.exports = {\n    consumeEscaped: consumeEscaped,\n    consumeName: consumeName,\n    consumeNumber: consumeNumber,\n    consumeBadUrlRemnants: consumeBadUrlRemnants,\n\n    cmpChar: cmpChar,\n    cmpStr: cmpStr,\n\n    getNewlineLength: getNewlineLength,\n    findWhiteSpaceStart: findWhiteSpaceStart,\n    findWhiteSpaceEnd: findWhiteSpaceEnd\n};\n","var constants = require('../tokenizer/const');\nvar TYPE = constants.TYPE;\nvar NAME = constants.NAME;\n\nvar utils = require('../tokenizer/utils');\nvar cmpStr = utils.cmpStr;\n\nvar EOF = TYPE.EOF;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\n\nvar OFFSET_MASK = 0x00FFFFFF;\nvar TYPE_SHIFT = 24;\n\nvar TokenStream = function() {\n    this.offsetAndType = null;\n    this.balance = null;\n\n    this.reset();\n};\n\nTokenStream.prototype = {\n    reset: function() {\n        this.eof = false;\n        this.tokenIndex = -1;\n        this.tokenType = 0;\n        this.tokenStart = this.firstCharOffset;\n        this.tokenEnd = this.firstCharOffset;\n    },\n\n    lookupType: function(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset] >> TYPE_SHIFT;\n        }\n\n        return EOF;\n    },\n    lookupOffset: function(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset - 1] & OFFSET_MASK;\n        }\n\n        return this.source.length;\n    },\n    lookupValue: function(offset, referenceStr) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return cmpStr(\n                this.source,\n                this.offsetAndType[offset - 1] & OFFSET_MASK,\n                this.offsetAndType[offset] & OFFSET_MASK,\n                referenceStr\n            );\n        }\n\n        return false;\n    },\n    getTokenStart: function(tokenIndex) {\n        if (tokenIndex === this.tokenIndex) {\n            return this.tokenStart;\n        }\n\n        if (tokenIndex > 0) {\n            return tokenIndex < this.tokenCount\n                ? this.offsetAndType[tokenIndex - 1] & OFFSET_MASK\n                : this.offsetAndType[this.tokenCount] & OFFSET_MASK;\n        }\n\n        return this.firstCharOffset;\n    },\n\n    // TODO: -> skipUntilBalanced\n    getRawLength: function(startToken, mode) {\n        var cursor = startToken;\n        var balanceEnd;\n        var offset = this.offsetAndType[Math.max(cursor - 1, 0)] & OFFSET_MASK;\n        var type;\n\n        loop:\n        for (; cursor < this.tokenCount; cursor++) {\n            balanceEnd = this.balance[cursor];\n\n            // stop scanning on balance edge that points to offset before start token\n            if (balanceEnd < startToken) {\n                break loop;\n            }\n\n            type = this.offsetAndType[cursor] >> TYPE_SHIFT;\n\n            // check token is stop type\n            switch (mode(type, this.source, offset)) {\n                case 1:\n                    break loop;\n\n                case 2:\n                    cursor++;\n                    break loop;\n\n                default:\n                    offset = this.offsetAndType[cursor] & OFFSET_MASK;\n\n                    // fast forward to the end of balanced block\n                    if (this.balance[balanceEnd] === cursor) {\n                        cursor = balanceEnd;\n                    }\n            }\n        }\n\n        return cursor - this.tokenIndex;\n    },\n    isBalanceEdge: function(pos) {\n        return this.balance[this.tokenIndex] < pos;\n    },\n    isDelim: function(code, offset) {\n        if (offset) {\n            return (\n                this.lookupType(offset) === TYPE.Delim &&\n                this.source.charCodeAt(this.lookupOffset(offset)) === code\n            );\n        }\n\n        return (\n            this.tokenType === TYPE.Delim &&\n            this.source.charCodeAt(this.tokenStart) === code\n        );\n    },\n\n    getTokenValue: function() {\n        return this.source.substring(this.tokenStart, this.tokenEnd);\n    },\n    getTokenLength: function() {\n        return this.tokenEnd - this.tokenStart;\n    },\n    substrToCursor: function(start) {\n        return this.source.substring(start, this.tokenStart);\n    },\n\n    skipWS: function() {\n        for (var i = this.tokenIndex, skipTokenCount = 0; i < this.tokenCount; i++, skipTokenCount++) {\n            if ((this.offsetAndType[i] >> TYPE_SHIFT) !== WHITESPACE) {\n                break;\n            }\n        }\n\n        if (skipTokenCount > 0) {\n            this.skip(skipTokenCount);\n        }\n    },\n    skipSC: function() {\n        while (this.tokenType === WHITESPACE || this.tokenType === COMMENT) {\n            this.next();\n        }\n    },\n    skip: function(tokenCount) {\n        var next = this.tokenIndex + tokenCount;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.offsetAndType[next - 1] & OFFSET_MASK;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.next();\n        }\n    },\n    next: function() {\n        var next = this.tokenIndex + 1;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.tokenEnd;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.eof = true;\n            this.tokenType = EOF;\n            this.tokenStart = this.tokenEnd = this.source.length;\n        }\n    },\n\n    dump: function() {\n        var offset = this.firstCharOffset;\n\n        return Array.prototype.slice.call(this.offsetAndType, 0, this.tokenCount).map(function(item, idx) {\n            var start = offset;\n            var end = item & OFFSET_MASK;\n\n            offset = end;\n\n            return {\n                idx: idx,\n                type: NAME[item >> TYPE_SHIFT],\n                chunk: this.source.substring(start, end),\n                balance: this.balance[idx]\n            };\n        }, this);\n    }\n};\n\nmodule.exports = TokenStream;\n","function noop(value) {\n    return value;\n}\n\nfunction generateMultiplier(multiplier) {\n    if (multiplier.min === 0 && multiplier.max === 0) {\n        return '*';\n    }\n\n    if (multiplier.min === 0 && multiplier.max === 1) {\n        return '?';\n    }\n\n    if (multiplier.min === 1 && multiplier.max === 0) {\n        return multiplier.comma ? '#' : '+';\n    }\n\n    if (multiplier.min === 1 && multiplier.max === 1) {\n        return '';\n    }\n\n    return (\n        (multiplier.comma ? '#' : '') +\n        (multiplier.min === multiplier.max\n            ? '{' + multiplier.min + '}'\n            : '{' + multiplier.min + ',' + (multiplier.max !== 0 ? multiplier.max : '') + '}'\n        )\n    );\n}\n\nfunction generateTypeOpts(node) {\n    switch (node.type) {\n        case 'Range':\n            return (\n                ' [' +\n                (node.min === null ? '-∞' : node.min) +\n                ',' +\n                (node.max === null ? '∞' : node.max) +\n                ']'\n            );\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n}\n\nfunction generateSequence(node, decorate, forceBraces, compact) {\n    var combinator = node.combinator === ' ' || compact ? node.combinator : ' ' + node.combinator + ' ';\n    var result = node.terms.map(function(term) {\n        return generate(term, decorate, forceBraces, compact);\n    }).join(combinator);\n\n    if (node.explicit || forceBraces) {\n        result = (compact || result[0] === ',' ? '[' : '[ ') + result + (compact ? ']' : ' ]');\n    }\n\n    return result;\n}\n\nfunction generate(node, decorate, forceBraces, compact) {\n    var result;\n\n    switch (node.type) {\n        case 'Group':\n            result =\n                generateSequence(node, decorate, forceBraces, compact) +\n                (node.disallowEmpty ? '!' : '');\n            break;\n\n        case 'Multiplier':\n            // return since node is a composition\n            return (\n                generate(node.term, decorate, forceBraces, compact) +\n                decorate(generateMultiplier(node), node)\n            );\n\n        case 'Type':\n            result = '<' + node.name + (node.opts ? decorate(generateTypeOpts(node.opts), node.opts) : '') + '>';\n            break;\n\n        case 'Property':\n            result = '<\\'' + node.name + '\\'>';\n            break;\n\n        case 'Keyword':\n            result = node.name;\n            break;\n\n        case 'AtKeyword':\n            result = '@' + node.name;\n            break;\n\n        case 'Function':\n            result = node.name + '(';\n            break;\n\n        case 'String':\n        case 'Token':\n            result = node.value;\n            break;\n\n        case 'Comma':\n            result = ',';\n            break;\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n\n    return decorate(result, node);\n}\n\nmodule.exports = function(node, options) {\n    var decorate = noop;\n    var forceBraces = false;\n    var compact = false;\n\n    if (typeof options === 'function') {\n        decorate = options;\n    } else if (options) {\n        forceBraces = Boolean(options.forceBraces);\n        compact = Boolean(options.compact);\n        if (typeof options.decorate === 'function') {\n            decorate = options.decorate;\n        }\n    }\n\n    return generate(node, decorate, forceBraces, compact);\n};\n","var createCustomError = require('../utils/createCustomError');\nvar generate = require('../definition-syntax/generate');\n\nfunction fromMatchResult(matchResult) {\n    var tokens = matchResult.tokens;\n    var longestMatch = matchResult.longestMatch;\n    var node = longestMatch < tokens.length ? tokens[longestMatch].node : null;\n    var mismatchOffset = -1;\n    var entries = 0;\n    var css = '';\n\n    for (var i = 0; i < tokens.length; i++) {\n        if (i === longestMatch) {\n            mismatchOffset = css.length;\n        }\n\n        if (node !== null && tokens[i].node === node) {\n            if (i <= longestMatch) {\n                entries++;\n            } else {\n                entries = 0;\n            }\n        }\n\n        css += tokens[i].value;\n    }\n\n    return {\n        node: node,\n        css: css,\n        mismatchOffset: mismatchOffset === -1 ? css.length : mismatchOffset,\n        last: node === null || entries > 1\n    };\n}\n\nfunction getLocation(node, point) {\n    var loc = node && node.loc && node.loc[point];\n\n    if (loc) {\n        return {\n            offset: loc.offset,\n            line: loc.line,\n            column: loc.column\n        };\n    }\n\n    return null;\n}\n\nvar SyntaxReferenceError = function(type, referenceName) {\n    var error = createCustomError(\n        'SyntaxReferenceError',\n        type + (referenceName ? ' `' + referenceName + '`' : '')\n    );\n\n    error.reference = referenceName;\n\n    return error;\n};\n\nvar MatchError = function(message, syntax, node, matchResult) {\n    var error = createCustomError('SyntaxMatchError', message);\n    var details = fromMatchResult(matchResult);\n    var mismatchOffset = details.mismatchOffset || 0;\n    var badNode = details.node || node;\n    var end = getLocation(badNode, 'end');\n    var start = details.last ? end : getLocation(badNode, 'start');\n    var css = details.css;\n\n    error.rawMessage = message;\n    error.syntax = syntax ? generate(syntax) : '<generic>';\n    error.css = css;\n    error.mismatchOffset = mismatchOffset;\n    error.loc = {\n        source: (badNode && badNode.loc && badNode.loc.source) || '<unknown>',\n        start: start,\n        end: end\n    };\n    error.line = start ? start.line : undefined;\n    error.column = start ? start.column : undefined;\n    error.offset = start ? start.offset : undefined;\n    error.message = message + '\\n' +\n        '  syntax: ' + error.syntax + '\\n' +\n        '   value: ' + (error.css || '<empty string>') + '\\n' +\n        '  --------' + new Array(error.mismatchOffset + 1).join('-') + '^';\n\n    return error;\n};\n\nmodule.exports = {\n    SyntaxReferenceError: SyntaxReferenceError,\n    MatchError: MatchError\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar keywords = Object.create(null);\nvar properties = Object.create(null);\nvar HYPHENMINUS = 45; // '-'.charCodeAt()\n\nfunction isCustomProperty(str, offset) {\n    offset = offset || 0;\n\n    return str.length - offset >= 2 &&\n           str.charCodeAt(offset) === HYPHENMINUS &&\n           str.charCodeAt(offset + 1) === HYPHENMINUS;\n}\n\nfunction getVendorPrefix(str, offset) {\n    offset = offset || 0;\n\n    // verdor prefix should be at least 3 chars length\n    if (str.length - offset >= 3) {\n        // vendor prefix starts with hyper minus following non-hyper minus\n        if (str.charCodeAt(offset) === HYPHENMINUS &&\n            str.charCodeAt(offset + 1) !== HYPHENMINUS) {\n            // vendor prefix should contain a hyper minus at the ending\n            var secondDashIndex = str.indexOf('-', offset + 2);\n\n            if (secondDashIndex !== -1) {\n                return str.substring(offset, secondDashIndex + 1);\n            }\n        }\n    }\n\n    return '';\n}\n\nfunction getKeywordDescriptor(keyword) {\n    if (hasOwnProperty.call(keywords, keyword)) {\n        return keywords[keyword];\n    }\n\n    var name = keyword.toLowerCase();\n\n    if (hasOwnProperty.call(keywords, name)) {\n        return keywords[keyword] = keywords[name];\n    }\n\n    var custom = isCustomProperty(name, 0);\n    var vendor = !custom ? getVendorPrefix(name, 0) : '';\n\n    return keywords[keyword] = Object.freeze({\n        basename: name.substr(vendor.length),\n        name: name,\n        vendor: vendor,\n        prefix: vendor,\n        custom: custom\n    });\n}\n\nfunction getPropertyDescriptor(property) {\n    if (hasOwnProperty.call(properties, property)) {\n        return properties[property];\n    }\n\n    var name = property;\n    var hack = property[0];\n\n    if (hack === '/') {\n        hack = property[1] === '/' ? '//' : '/';\n    } else if (hack !== '_' &&\n               hack !== '*' &&\n               hack !== '$' &&\n               hack !== '#' &&\n               hack !== '+' &&\n               hack !== '&') {\n        hack = '';\n    }\n\n    var custom = isCustomProperty(name, hack.length);\n\n    // re-use result when possible (the same as for lower case)\n    if (!custom) {\n        name = name.toLowerCase();\n        if (hasOwnProperty.call(properties, name)) {\n            return properties[property] = properties[name];\n        }\n    }\n\n    var vendor = !custom ? getVendorPrefix(name, hack.length) : '';\n    var prefix = name.substr(0, hack.length + vendor.length);\n\n    return properties[property] = Object.freeze({\n        basename: name.substr(prefix.length),\n        name: name.substr(hack.length),\n        hack: hack,\n        vendor: vendor,\n        prefix: prefix,\n        custom: custom\n    });\n}\n\nmodule.exports = {\n    keyword: getKeywordDescriptor,\n    property: getPropertyDescriptor,\n    isCustomProperty: isCustomProperty,\n    vendorPrefix: getVendorPrefix\n};\n","var MIN_SIZE = 16 * 1024;\nvar SafeUint32Array = typeof Uint32Array !== 'undefined' ? Uint32Array : Array; // fallback on Array when TypedArray is not supported\n\nmodule.exports = function adoptBuffer(buffer, size) {\n    if (buffer === null || buffer.length < size) {\n        return new SafeUint32Array(Math.max(size + 1024, MIN_SIZE));\n    }\n\n    return buffer;\n};\n","var TokenStream = require('../common/TokenStream');\nvar adoptBuffer = require('../common/adopt-buffer');\n\nvar constants = require('./const');\nvar TYPE = constants.TYPE;\n\nvar charCodeDefinitions = require('./char-code-definitions');\nvar isNewline = charCodeDefinitions.isNewline;\nvar isName = charCodeDefinitions.isName;\nvar isValidEscape = charCodeDefinitions.isValidEscape;\nvar isNumberStart = charCodeDefinitions.isNumberStart;\nvar isIdentifierStart = charCodeDefinitions.isIdentifierStart;\nvar charCodeCategory = charCodeDefinitions.charCodeCategory;\nvar isBOM = charCodeDefinitions.isBOM;\n\nvar utils = require('./utils');\nvar cmpStr = utils.cmpStr;\nvar getNewlineLength = utils.getNewlineLength;\nvar findWhiteSpaceEnd = utils.findWhiteSpaceEnd;\nvar consumeEscaped = utils.consumeEscaped;\nvar consumeName = utils.consumeName;\nvar consumeNumber = utils.consumeNumber;\nvar consumeBadUrlRemnants = utils.consumeBadUrlRemnants;\n\nvar OFFSET_MASK = 0x00FFFFFF;\nvar TYPE_SHIFT = 24;\n\nfunction tokenize(source, stream) {\n    function getCharCode(offset) {\n        return offset < sourceLength ? source.charCodeAt(offset) : 0;\n    }\n\n    // § 4.3.3. Consume a numeric token\n    function consumeNumericToken() {\n        // Consume a number and let number be the result.\n        offset = consumeNumber(source, offset);\n\n        // If the next 3 input code points would start an identifier, then:\n        if (isIdentifierStart(getCharCode(offset), getCharCode(offset + 1), getCharCode(offset + 2))) {\n            // Create a <dimension-token> with the same value and type flag as number, and a unit set initially to the empty string.\n            // Consume a name. Set the <dimension-token>’s unit to the returned value.\n            // Return the <dimension-token>.\n            type = TYPE.Dimension;\n            offset = consumeName(source, offset);\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0025 PERCENTAGE SIGN (%), consume it.\n        if (getCharCode(offset) === 0x0025) {\n            // Create a <percentage-token> with the same value as number, and return it.\n            type = TYPE.Percentage;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create a <number-token> with the same value and type flag as number, and return it.\n        type = TYPE.Number;\n    }\n\n    // § 4.3.4. Consume an ident-like token\n    function consumeIdentLikeToken() {\n        const nameStartOffset = offset;\n\n        // Consume a name, and let string be the result.\n        offset = consumeName(source, offset);\n\n        // If string’s value is an ASCII case-insensitive match for \"url\",\n        // and the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        if (cmpStr(source, nameStartOffset, offset, 'url') && getCharCode(offset) === 0x0028) {\n            // While the next two input code points are whitespace, consume the next input code point.\n            offset = findWhiteSpaceEnd(source, offset + 1);\n\n            // If the next one or two input code points are U+0022 QUOTATION MARK (\"), U+0027 APOSTROPHE ('),\n            // or whitespace followed by U+0022 QUOTATION MARK (\") or U+0027 APOSTROPHE ('),\n            // then create a <function-token> with its value set to string and return it.\n            if (getCharCode(offset) === 0x0022 ||\n                getCharCode(offset) === 0x0027) {\n                type = TYPE.Function;\n                offset = nameStartOffset + 4;\n                return;\n            }\n\n            // Otherwise, consume a url token, and return it.\n            consumeUrlToken();\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        // Create a <function-token> with its value set to string and return it.\n        if (getCharCode(offset) === 0x0028) {\n            type = TYPE.Function;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create an <ident-token> with its value set to string and return it.\n        type = TYPE.Ident;\n    }\n\n    // § 4.3.5. Consume a string token\n    function consumeStringToken(endingCodePoint) {\n        // This algorithm may be called with an ending code point, which denotes the code point\n        // that ends the string. If an ending code point is not specified,\n        // the current input code point is used.\n        if (!endingCodePoint) {\n            endingCodePoint = getCharCode(offset++);\n        }\n\n        // Initially create a <string-token> with its value set to the empty string.\n        type = TYPE.String;\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            var code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // ending code point\n                case endingCodePoint:\n                    // Return the <string-token>.\n                    offset++;\n                    return;\n\n                // EOF\n                case charCodeCategory.Eof:\n                    // This is a parse error. Return the <string-token>.\n                    return;\n\n                // newline\n                case charCodeCategory.WhiteSpace:\n                    if (isNewline(code)) {\n                        // This is a parse error. Reconsume the current input code point,\n                        // create a <bad-string-token>, and return it.\n                        offset += getNewlineLength(source, offset, code);\n                        type = TYPE.BadString;\n                        return;\n                    }\n                    break;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the next input code point is EOF, do nothing.\n                    if (offset === source.length - 1) {\n                        break;\n                    }\n\n                    var nextCode = getCharCode(offset + 1);\n\n                    // Otherwise, if the next input code point is a newline, consume it.\n                    if (isNewline(nextCode)) {\n                        offset += getNewlineLength(source, offset + 1, nextCode);\n                    } else if (isValidEscape(code, nextCode)) {\n                        // Otherwise, (the stream starts with a valid escape) consume\n                        // an escaped code point and append the returned code point to\n                        // the <string-token>’s value.\n                        offset = consumeEscaped(source, offset) - 1;\n                    }\n                    break;\n\n                // anything else\n                // Append the current input code point to the <string-token>’s value.\n            }\n        }\n    }\n\n    // § 4.3.6. Consume a url token\n    // Note: This algorithm assumes that the initial \"url(\" has already been consumed.\n    // This algorithm also assumes that it’s being called to consume an \"unquoted\" value, like url(foo).\n    // A quoted value, like url(\"foo\"), is parsed as a <function-token>. Consume an ident-like token\n    // automatically handles this distinction; this algorithm shouldn’t be called directly otherwise.\n    function consumeUrlToken() {\n        // Initially create a <url-token> with its value set to the empty string.\n        type = TYPE.Url;\n\n        // Consume as much whitespace as possible.\n        offset = findWhiteSpaceEnd(source, offset);\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            var code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // U+0029 RIGHT PARENTHESIS ())\n                case 0x0029:\n                    // Return the <url-token>.\n                    offset++;\n                    return;\n\n                // EOF\n                case charCodeCategory.Eof:\n                    // This is a parse error. Return the <url-token>.\n                    return;\n\n                // whitespace\n                case charCodeCategory.WhiteSpace:\n                    // Consume as much whitespace as possible.\n                    offset = findWhiteSpaceEnd(source, offset);\n\n                    // If the next input code point is U+0029 RIGHT PARENTHESIS ()) or EOF,\n                    // consume it and return the <url-token>\n                    // (if EOF was encountered, this is a parse error);\n                    if (getCharCode(offset) === 0x0029 || offset >= source.length) {\n                        if (offset < source.length) {\n                            offset++;\n                        }\n                        return;\n                    }\n\n                    // otherwise, consume the remnants of a bad url, create a <bad-url-token>,\n                    // and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+0022 QUOTATION MARK (\")\n                // U+0027 APOSTROPHE (')\n                // U+0028 LEFT PARENTHESIS (()\n                // non-printable code point\n                case 0x0022:\n                case 0x0027:\n                case 0x0028:\n                case charCodeCategory.NonPrintable:\n                    // This is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the stream starts with a valid escape, consume an escaped code point and\n                    // append the returned code point to the <url-token>’s value.\n                    if (isValidEscape(code, getCharCode(offset + 1))) {\n                        offset = consumeEscaped(source, offset) - 1;\n                        break;\n                    }\n\n                    // Otherwise, this is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // anything else\n                // Append the current input code point to the <url-token>’s value.\n            }\n        }\n    }\n\n    if (!stream) {\n        stream = new TokenStream();\n    }\n\n    // ensure source is a string\n    source = String(source || '');\n\n    var sourceLength = source.length;\n    var offsetAndType = adoptBuffer(stream.offsetAndType, sourceLength + 1); // +1 because of eof-token\n    var balance = adoptBuffer(stream.balance, sourceLength + 1);\n    var tokenCount = 0;\n    var start = isBOM(getCharCode(0));\n    var offset = start;\n    var balanceCloseType = 0;\n    var balanceStart = 0;\n    var balancePrev = 0;\n\n    // https://drafts.csswg.org/css-syntax-3/#consume-token\n    // § 4.3.1. Consume a token\n    while (offset < sourceLength) {\n        var code = source.charCodeAt(offset);\n        var type = 0;\n\n        balance[tokenCount] = sourceLength;\n\n        switch (charCodeCategory(code)) {\n            // whitespace\n            case charCodeCategory.WhiteSpace:\n                // Consume as much whitespace as possible. Return a <whitespace-token>.\n                type = TYPE.WhiteSpace;\n                offset = findWhiteSpaceEnd(source, offset + 1);\n                break;\n\n            // U+0022 QUOTATION MARK (\")\n            case 0x0022:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0023 NUMBER SIGN (#)\n            case 0x0023:\n                // If the next input code point is a name code point or the next two input code points are a valid escape, then:\n                if (isName(getCharCode(offset + 1)) || isValidEscape(getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // Create a <hash-token>.\n                    type = TYPE.Hash;\n\n                    // If the next 3 input code points would start an identifier, set the <hash-token>’s type flag to \"id\".\n                    // if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    //     // TODO: set id flag\n                    // }\n\n                    // Consume a name, and set the <hash-token>’s value to the returned string.\n                    offset = consumeName(source, offset + 1);\n\n                    // Return the <hash-token>.\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0027 APOSTROPHE (')\n            case 0x0027:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0028 LEFT PARENTHESIS (()\n            case 0x0028:\n                // Return a <(-token>.\n                type = TYPE.LeftParenthesis;\n                offset++;\n                break;\n\n            // U+0029 RIGHT PARENTHESIS ())\n            case 0x0029:\n                // Return a <)-token>.\n                type = TYPE.RightParenthesis;\n                offset++;\n                break;\n\n            // U+002B PLUS SIGN (+)\n            case 0x002B:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+002C COMMA (,)\n            case 0x002C:\n                // Return a <comma-token>.\n                type = TYPE.Comma;\n                offset++;\n                break;\n\n            // U+002D HYPHEN-MINUS (-)\n            case 0x002D:\n                // If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, if the next 2 input code points are U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (->), consume them and return a <CDC-token>.\n                    if (getCharCode(offset + 1) === 0x002D &&\n                        getCharCode(offset + 2) === 0x003E) {\n                        type = TYPE.CDC;\n                        offset = offset + 3;\n                    } else {\n                        // Otherwise, if the input stream starts with an identifier, ...\n                        if (isIdentifierStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                            // ... reconsume the current input code point, consume an ident-like token, and return it.\n                            consumeIdentLikeToken();\n                        } else {\n                            // Otherwise, return a <delim-token> with its value set to the current input code point.\n                            type = TYPE.Delim;\n                            offset++;\n                        }\n                    }\n                }\n                break;\n\n            // U+002E FULL STOP (.)\n            case 0x002E:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+002F SOLIDUS (/)\n            case 0x002F:\n                // If the next two input code point are U+002F SOLIDUS (/) followed by a U+002A ASTERISK (*),\n                if (getCharCode(offset + 1) === 0x002A) {\n                    // ... consume them and all following code points up to and including the first U+002A ASTERISK (*)\n                    // followed by a U+002F SOLIDUS (/), or up to an EOF code point.\n                    type = TYPE.Comment;\n                    offset = source.indexOf('*/', offset + 2) + 2;\n                    if (offset === 1) {\n                        offset = source.length;\n                    }\n                } else {\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+003A COLON (:)\n            case 0x003A:\n                // Return a <colon-token>.\n                type = TYPE.Colon;\n                offset++;\n                break;\n\n            // U+003B SEMICOLON (;)\n            case 0x003B:\n                // Return a <semicolon-token>.\n                type = TYPE.Semicolon;\n                offset++;\n                break;\n\n            // U+003C LESS-THAN SIGN (<)\n            case 0x003C:\n                // If the next 3 input code points are U+0021 EXCLAMATION MARK U+002D HYPHEN-MINUS U+002D HYPHEN-MINUS (!--), ...\n                if (getCharCode(offset + 1) === 0x0021 &&\n                    getCharCode(offset + 2) === 0x002D &&\n                    getCharCode(offset + 3) === 0x002D) {\n                    // ... consume them and return a <CDO-token>.\n                    type = TYPE.CDO;\n                    offset = offset + 4;\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0040 COMMERCIAL AT (@)\n            case 0x0040:\n                // If the next 3 input code points would start an identifier, ...\n                if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    // ... consume a name, create an <at-keyword-token> with its value set to the returned value, and return it.\n                    type = TYPE.AtKeyword;\n                    offset = consumeName(source, offset + 1);\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+005B LEFT SQUARE BRACKET ([)\n            case 0x005B:\n                // Return a <[-token>.\n                type = TYPE.LeftSquareBracket;\n                offset++;\n                break;\n\n            // U+005C REVERSE SOLIDUS (\\)\n            case 0x005C:\n                // If the input stream starts with a valid escape, ...\n                if (isValidEscape(code, getCharCode(offset + 1))) {\n                    // ... reconsume the current input code point, consume an ident-like token, and return it.\n                    consumeIdentLikeToken();\n                } else {\n                    // Otherwise, this is a parse error. Return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+005D RIGHT SQUARE BRACKET (])\n            case 0x005D:\n                // Return a <]-token>.\n                type = TYPE.RightSquareBracket;\n                offset++;\n                break;\n\n            // U+007B LEFT CURLY BRACKET ({)\n            case 0x007B:\n                // Return a <{-token>.\n                type = TYPE.LeftCurlyBracket;\n                offset++;\n                break;\n\n            // U+007D RIGHT CURLY BRACKET (})\n            case 0x007D:\n                // Return a <}-token>.\n                type = TYPE.RightCurlyBracket;\n                offset++;\n                break;\n\n            // digit\n            case charCodeCategory.Digit:\n                // Reconsume the current input code point, consume a numeric token, and return it.\n                consumeNumericToken();\n                break;\n\n            // name-start code point\n            case charCodeCategory.NameStart:\n                // Reconsume the current input code point, consume an ident-like token, and return it.\n                consumeIdentLikeToken();\n                break;\n\n            // EOF\n            case charCodeCategory.Eof:\n                // Return an <EOF-token>.\n                break;\n\n            // anything else\n            default:\n                // Return a <delim-token> with its value set to the current input code point.\n                type = TYPE.Delim;\n                offset++;\n        }\n\n        switch (type) {\n            case balanceCloseType:\n                balancePrev = balanceStart & OFFSET_MASK;\n                balanceStart = balance[balancePrev];\n                balanceCloseType = balanceStart >> TYPE_SHIFT;\n                balance[tokenCount] = balancePrev;\n                balance[balancePrev++] = tokenCount;\n                for (; balancePrev < tokenCount; balancePrev++) {\n                    if (balance[balancePrev] === sourceLength) {\n                        balance[balancePrev] = tokenCount;\n                    }\n                }\n                break;\n\n            case TYPE.LeftParenthesis:\n            case TYPE.Function:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightParenthesis;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n\n            case TYPE.LeftSquareBracket:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightSquareBracket;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n\n            case TYPE.LeftCurlyBracket:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightCurlyBracket;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n        }\n\n        offsetAndType[tokenCount++] = (type << TYPE_SHIFT) | offset;\n    }\n\n    // finalize buffers\n    offsetAndType[tokenCount] = (TYPE.EOF << TYPE_SHIFT) | offset; // <EOF-token>\n    balance[tokenCount] = sourceLength;\n    balance[sourceLength] = sourceLength; // prevents false positive balance match with any token\n    while (balanceStart !== 0) {\n        balancePrev = balanceStart & OFFSET_MASK;\n        balanceStart = balance[balancePrev];\n        balance[balancePrev] = sourceLength;\n    }\n\n    // update stream\n    stream.source = source;\n    stream.firstCharOffset = start;\n    stream.offsetAndType = offsetAndType;\n    stream.tokenCount = tokenCount;\n    stream.balance = balance;\n    stream.reset();\n    stream.next();\n\n    return stream;\n}\n\n// extend tokenizer with constants\nObject.keys(constants).forEach(function(key) {\n    tokenize[key] = constants[key];\n});\n\n// extend tokenizer with static methods from utils\nObject.keys(charCodeDefinitions).forEach(function(key) {\n    tokenize[key] = charCodeDefinitions[key];\n});\nObject.keys(utils).forEach(function(key) {\n    tokenize[key] = utils[key];\n});\n\nmodule.exports = tokenize;\n","var isDigit = require('../tokenizer').isDigit;\nvar cmpChar = require('../tokenizer').cmpChar;\nvar TYPE = require('../tokenizer').TYPE;\n\nvar DELIM = TYPE.Delim;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === DELIM && token.value.charCodeAt(0) === code;\n}\n\nfunction skipSC(token, offset, getNextToken) {\n    while (token !== null && (token.type === WHITESPACE || token.type === COMMENT)) {\n        token = getNextToken(++offset);\n    }\n\n    return offset;\n}\n\nfunction checkInteger(token, valueOffset, disallowSign, offset) {\n    if (!token) {\n        return 0;\n    }\n\n    var code = token.value.charCodeAt(valueOffset);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            // Number sign is not allowed\n            return 0;\n        }\n        valueOffset++;\n    }\n\n    for (; valueOffset < token.value.length; valueOffset++) {\n        if (!isDigit(token.value.charCodeAt(valueOffset))) {\n            // Integer is expected\n            return 0;\n        }\n    }\n\n    return offset + 1;\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB(token, offset_, getNextToken) {\n    var sign = false;\n    var offset = skipSC(token, offset_, getNextToken);\n\n    token = getNextToken(offset);\n\n    if (token === null) {\n        return offset_;\n    }\n\n    if (token.type !== NUMBER) {\n        if (isDelim(token, PLUSSIGN) || isDelim(token, HYPHENMINUS)) {\n            sign = true;\n            offset = skipSC(getNextToken(++offset), offset, getNextToken);\n            token = getNextToken(offset);\n\n            if (token === null && token.type !== NUMBER) {\n                return 0;\n            }\n        } else {\n            return offset_;\n        }\n    }\n\n    if (!sign) {\n        var code = token.value.charCodeAt(0);\n        if (code !== PLUSSIGN && code !== HYPHENMINUS) {\n            // Number sign is expected\n            return 0;\n        }\n    }\n\n    return checkInteger(token, sign ? 0 : 1, sign, offset);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = function anPlusB(token, getNextToken) {\n    /* eslint-disable brace-style*/\n    var offset = 0;\n\n    if (!token) {\n        return 0;\n    }\n\n    // <integer>\n    if (token.type === NUMBER) {\n        return checkInteger(token, 0, ALLOW_SIGN, offset); // b\n    }\n\n    // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (token.type === IDENT && token.value.charCodeAt(0) === HYPHENMINUS) {\n        // expect 1st char is N\n        if (!cmpChar(token.value, 1, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // -n\n            // -n <signed-integer>\n            // -n ['+' | '-'] <signless-integer>\n            case 2:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // -n- <signless-integer>\n            case 3:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // <dashndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 3, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (token.type === IDENT || (isDelim(token, PLUSSIGN) && getNextToken(offset + 1).type === IDENT)) {\n        // just ignore a plus\n        if (token.type !== IDENT) {\n            token = getNextToken(++offset);\n        }\n\n        if (token === null || !cmpChar(token.value, 0, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // '+'? n\n            // '+'? n <signed-integer>\n            // '+'? n ['+' | '-'] <signless-integer>\n            case 1:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // '+'? n- <signless-integer>\n            case 2:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // '+'? <ndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 2, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (token.type === DIMENSION) {\n        var code = token.value.charCodeAt(0);\n        var sign = code === PLUSSIGN || code === HYPHENMINUS ? 1 : 0;\n\n        for (var i = sign; i < token.value.length; i++) {\n            if (!isDigit(token.value.charCodeAt(i))) {\n                break;\n            }\n        }\n\n        if (i === sign) {\n            // Integer is expected\n            return 0;\n        }\n\n        if (!cmpChar(token.value, i, N)) {\n            return 0;\n        }\n\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        if (i + 1 === token.value.length) {\n            return consumeB(getNextToken(++offset), offset, getNextToken);\n        } else {\n            if (token.value.charCodeAt(i + 1) !== HYPHENMINUS) {\n                return 0;\n            }\n\n            // <ndash-dimension> <signless-integer>\n            if (i + 2 === token.value.length) {\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n            }\n            // <ndashdigit-dimension>\n            else {\n                return checkInteger(token, i + 2, DISALLOW_SIGN, offset);\n            }\n        }\n    }\n\n    return 0;\n};\n","var isHexDigit = require('../tokenizer').isHexDigit;\nvar cmpChar = require('../tokenizer').cmpChar;\nvar TYPE = require('../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar DELIM = TYPE.Delim;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nvar QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nvar U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === DELIM && token.value.charCodeAt(0) === code;\n}\n\nfunction startsWith(token, code) {\n    return token.value.charCodeAt(0) === code;\n}\n\nfunction hexSequence(token, offset, allowDash) {\n    for (var pos = offset, hexlen = 0; pos < token.value.length; pos++) {\n        var code = token.value.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && hexlen !== 0) {\n            if (hexSequence(token, offset + hexlen + 1, false) > 0) {\n                return 6; // dissallow following question marks\n            }\n\n            return 0; // dash at the ending of a hex sequence is not allowed\n        }\n\n        if (!isHexDigit(code)) {\n            return 0; // not a hex digit\n        }\n\n        if (++hexlen > 6) {\n            return 0; // too many hex digits\n        };\n    }\n\n    return hexlen;\n}\n\nfunction withQuestionMarkSequence(consumed, length, getNextToken) {\n    if (!consumed) {\n        return 0; // nothing consumed\n    }\n\n    while (isDelim(getNextToken(length), QUESTIONMARK)) {\n        if (++consumed > 6) {\n            return 0; // too many question marks\n        }\n\n        length++;\n    }\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nmodule.exports = function urange(token, getNextToken) {\n    var length = 0;\n\n    // should start with `u` or `U`\n    if (token === null || token.type !== IDENT || !cmpChar(token.value, 0, U)) {\n        return 0;\n    }\n\n    token = getNextToken(++length);\n    if (token === null) {\n        return 0;\n    }\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (isDelim(token, PLUSSIGN)) {\n        token = getNextToken(++length);\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === IDENT) {\n            // u '+' <ident-token> '?'*\n            return withQuestionMarkSequence(hexSequence(token, 0, true), ++length, getNextToken);\n        }\n\n        if (isDelim(token, QUESTIONMARK)) {\n            // u '+' '?'+\n            return withQuestionMarkSequence(1, ++length, getNextToken);\n        }\n\n        // Hex digit or question mark is expected\n        return 0;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (token.type === NUMBER) {\n        if (!startsWith(token, PLUSSIGN)) {\n            return 0;\n        }\n\n        var consumedHexLength = hexSequence(token, 1, true);\n        if (consumedHexLength === 0) {\n            return 0;\n        }\n\n        token = getNextToken(++length);\n        if (token === null) {\n            // u <number-token> <eof>\n            return length;\n        }\n\n        if (token.type === DIMENSION || token.type === NUMBER) {\n            // u <number-token> <dimension-token>\n            // u <number-token> <number-token>\n            if (!startsWith(token, HYPHENMINUS) || !hexSequence(token, 1, false)) {\n                return 0;\n            }\n\n            return length + 1;\n        }\n\n        // u <number-token> '?'*\n        return withQuestionMarkSequence(consumedHexLength, length, getNextToken);\n    }\n\n    // u <dimension-token> '?'*\n    if (token.type === DIMENSION) {\n        if (!startsWith(token, PLUSSIGN)) {\n            return 0;\n        }\n\n        return withQuestionMarkSequence(hexSequence(token, 1, true), ++length, getNextToken);\n    }\n\n    return 0;\n};\n","var tokenizer = require('../tokenizer');\nvar isIdentifierStart = tokenizer.isIdentifierStart;\nvar isHexDigit = tokenizer.isHexDigit;\nvar isDigit = tokenizer.isDigit;\nvar cmpStr = tokenizer.cmpStr;\nvar consumeNumber = tokenizer.consumeNumber;\nvar TYPE = tokenizer.TYPE;\nvar anPlusB = require('./generic-an-plus-b');\nvar urange = require('./generic-urange');\n\nvar cssWideKeywords = ['unset', 'initial', 'inherit'];\nvar calcFunctionNames = ['calc(', '-moz-calc(', '-webkit-calc('];\n\n// https://www.w3.org/TR/css-values-3/#lengths\nvar LENGTH = {\n    // absolute length units\n    'px': true,\n    'mm': true,\n    'cm': true,\n    'in': true,\n    'pt': true,\n    'pc': true,\n    'q': true,\n\n    // relative length units\n    'em': true,\n    'ex': true,\n    'ch': true,\n    'rem': true,\n\n    // viewport-percentage lengths\n    'vh': true,\n    'vw': true,\n    'vmin': true,\n    'vmax': true,\n    'vm': true\n};\n\nvar ANGLE = {\n    'deg': true,\n    'grad': true,\n    'rad': true,\n    'turn': true\n};\n\nvar TIME = {\n    's': true,\n    'ms': true\n};\n\nvar FREQUENCY = {\n    'hz': true,\n    'khz': true\n};\n\n// https://www.w3.org/TR/css-values-3/#resolution (https://drafts.csswg.org/css-values/#resolution)\nvar RESOLUTION = {\n    'dpi': true,\n    'dpcm': true,\n    'dppx': true,\n    'x': true      // https://github.com/w3c/csswg-drafts/issues/461\n};\n\n// https://drafts.csswg.org/css-grid/#fr-unit\nvar FLEX = {\n    'fr': true\n};\n\n// https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume\nvar DECIBEL = {\n    'db': true\n};\n\n// https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch\nvar SEMITONES = {\n    'st': true\n};\n\n// safe char code getter\nfunction charCode(str, index) {\n    return index < str.length ? str.charCodeAt(index) : 0;\n}\n\nfunction eqStr(actual, expected) {\n    return cmpStr(actual, 0, actual.length, expected);\n}\n\nfunction eqStrAny(actual, expected) {\n    for (var i = 0; i < expected.length; i++) {\n        if (eqStr(actual, expected[i])) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// IE postfix hack, i.e. 123\\0 or 123px\\9\nfunction isPostfixIeHack(str, offset) {\n    if (offset !== str.length - 2) {\n        return false;\n    }\n\n    return (\n        str.charCodeAt(offset) === 0x005C &&  // U+005C REVERSE SOLIDUS (\\)\n        isDigit(str.charCodeAt(offset + 1))\n    );\n}\n\nfunction outOfRange(opts, value, numEnd) {\n    if (opts && opts.type === 'Range') {\n        var num = Number(\n            numEnd !== undefined && numEnd !== value.length\n                ? value.substr(0, numEnd)\n                : value\n        );\n\n        if (isNaN(num)) {\n            return true;\n        }\n\n        if (opts.min !== null && num < opts.min) {\n            return true;\n        }\n\n        if (opts.max !== null && num > opts.max) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction consumeFunction(token, getNextToken) {\n    var startIdx = token.index;\n    var length = 0;\n\n    // balanced token consuming\n    do {\n        length++;\n\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// TODO: implement\n// can be used wherever <length>, <frequency>, <angle>, <time>, <percentage>, <number>, or <integer> values are allowed\n// https://drafts.csswg.org/css-values/#calc-notation\nfunction calc(next) {\n    return function(token, getNextToken, opts) {\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === TYPE.Function && eqStrAny(token.value, calcFunctionNames)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\nfunction tokenType(expectedTokenType) {\n    return function(token) {\n        if (token === null || token.type !== expectedTokenType) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\nfunction func(name) {\n    name = name + '(';\n\n    return function(token, getNextToken) {\n        if (token !== null && eqStr(token.value, name)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return 0;\n    };\n}\n\n// =========================\n// Complex types\n//\n\n// https://drafts.csswg.org/css-values-4/#custom-idents\n// 4.2. Author-defined Identifiers: the <custom-ident> type\n// Some properties accept arbitrary author-defined identifiers as a component value.\n// This generic data type is denoted by <custom-ident>, and represents any valid CSS identifier\n// that would not be misinterpreted as a pre-defined keyword in that property’s value definition.\n//\n// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident\nfunction customIdent(token) {\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    var name = token.value.toLowerCase();\n\n    // The CSS-wide keywords are not valid <custom-ident>s\n    if (eqStrAny(name, cssWideKeywords)) {\n        return 0;\n    }\n\n    // The default keyword is reserved and is also not a valid <custom-ident>\n    if (eqStr(name, 'default')) {\n        return 0;\n    }\n\n    // TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)\n    // Specifications using <custom-ident> must specify clearly what other keywords\n    // are excluded from <custom-ident>, if any—for example by saying that any pre-defined keywords\n    // in that property’s value definition are excluded. Excluded keywords are excluded\n    // in all ASCII case permutations.\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-variables/#typedef-custom-property-name\n// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.\n// The <custom-property-name> production corresponds to this: it’s defined as any valid identifier\n// that starts with two dashes, except -- itself, which is reserved for future use by CSS.\n// NOTE: Current implementation treat `--` as a valid name since most (all?) major browsers treat it as valid.\nfunction customPropertyName(token) {\n    // ... defined as any valid identifier\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    // ... that starts with two dashes (U+002D HYPHEN-MINUS)\n    if (charCode(token.value, 0) !== 0x002D || charCode(token.value, 1) !== 0x002D) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-color-4/#hex-notation\n// The syntax of a <hex-color> is a <hash-token> token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n// In other words, a hex color is written as a hash character, \"#\", followed by some number of digits 0-9 or\n// letters a-f (the case of the letters doesn’t matter - #00ff00 is identical to #00FF00).\nfunction hexColor(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    var length = token.value.length;\n\n    // valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)\n    if (length !== 4 && length !== 5 && length !== 7 && length !== 9) {\n        return 0;\n    }\n\n    for (var i = 1; i < length; i++) {\n        if (!isHexDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    return 1;\n}\n\nfunction idSelector(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    if (!isIdentifierStart(charCode(token.value, 1), charCode(token.value, 2), charCode(token.value, 3))) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// It represents the entirety of what a valid declaration can have as its value.\nfunction declarationValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var length = 0;\n    var level = 0;\n    var startIdx = token.index;\n\n    // The <declaration-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                level--;\n                break;\n\n            // ... or top-level <semicolon-token> tokens\n            case TYPE.Semicolon:\n                if (level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            // ... or <delim-token> tokens with a value of \"!\"\n            case TYPE.Delim:\n                if (token.value === '!' && level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            case TYPE.Function:\n            case TYPE.LeftParenthesis:\n            case TYPE.LeftSquareBracket:\n            case TYPE.LeftCurlyBracket:\n                level++;\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// The <any-value> production is identical to <declaration-value>, but also\n// allows top-level <semicolon-token> tokens and <delim-token> tokens\n// with a value of \"!\". It represents the entirety of what valid CSS can be in any context.\nfunction anyValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var startIdx = token.index;\n    var length = 0;\n\n    // The <any-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// =========================\n// Dimensions\n//\n\nfunction dimension(type) {\n    return function(token, getNextToken, opts) {\n        if (token === null || token.type !== TYPE.Dimension) {\n            return 0;\n        }\n\n        var numberEnd = consumeNumber(token.value, 0);\n\n        // check unit\n        if (type !== null) {\n            // check for IE postfix hack, i.e. 123px\\0 or 123px\\9\n            var reverseSolidusOffset = token.value.indexOf('\\\\', numberEnd);\n            var unit = reverseSolidusOffset === -1 || !isPostfixIeHack(token.value, reverseSolidusOffset)\n                ? token.value.substr(numberEnd)\n                : token.value.substring(numberEnd, reverseSolidusOffset);\n\n            if (type.hasOwnProperty(unit.toLowerCase()) === false) {\n                return 0;\n            }\n        }\n\n        // check range if specified\n        if (outOfRange(opts, token.value, numberEnd)) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Percentage\n//\n\n// §5.5. Percentages: the <percentage> type\n// https://drafts.csswg.org/css-values-4/#percentages\nfunction percentage(token, getNextToken, opts) {\n    // ... corresponds to the <percentage-token> production\n    if (token === null || token.type !== TYPE.Percentage) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, token.value.length - 1)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// =========================\n// Numeric\n//\n\n// https://drafts.csswg.org/css-values-4/#numbers\n// The value <zero> represents a literal number with the value 0. Expressions that merely\n// evaluate to a <number> with the value 0 (for example, calc(0)) do not match <zero>;\n// only literal <number-token>s do.\nfunction zero(next) {\n    if (typeof next !== 'function') {\n        next = function() {\n            return 0;\n        };\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token !== null && token.type === TYPE.Number) {\n            if (Number(token.value) === 0) {\n                return 1;\n            }\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\n// § 5.3. Real Numbers: the <number> type\n// https://drafts.csswg.org/css-values-4/#numbers\n// Number values are denoted by <number>, and represent real numbers, possibly with a fractional component.\n// ... It corresponds to the <number-token> production\nfunction number(token, getNextToken, opts) {\n    if (token === null) {\n        return 0;\n    }\n\n    var numberEnd = consumeNumber(token.value, 0);\n    var isNumber = numberEnd === token.value.length;\n    if (!isNumber && !isPostfixIeHack(token.value, numberEnd)) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, numberEnd)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// §5.2. Integers: the <integer> type\n// https://drafts.csswg.org/css-values-4/#integers\nfunction integer(token, getNextToken, opts) {\n    // ... corresponds to a subset of the <number-token> production\n    if (token === null || token.type !== TYPE.Number) {\n        return 0;\n    }\n\n    // The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integer’s sign.\n    var i = token.value.charCodeAt(0) === 0x002B ||       // U+002B PLUS SIGN (+)\n            token.value.charCodeAt(0) === 0x002D ? 1 : 0; // U+002D HYPHEN-MINUS (-)\n\n    // When written literally, an integer is one or more decimal digits 0 through 9 ...\n    for (; i < token.value.length; i++) {\n        if (!isDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, i)) {\n        return 0;\n    }\n\n    return 1;\n}\n\nmodule.exports = {\n    // token types\n    'ident-token': tokenType(TYPE.Ident),\n    'function-token': tokenType(TYPE.Function),\n    'at-keyword-token': tokenType(TYPE.AtKeyword),\n    'hash-token': tokenType(TYPE.Hash),\n    'string-token': tokenType(TYPE.String),\n    'bad-string-token': tokenType(TYPE.BadString),\n    'url-token': tokenType(TYPE.Url),\n    'bad-url-token': tokenType(TYPE.BadUrl),\n    'delim-token': tokenType(TYPE.Delim),\n    'number-token': tokenType(TYPE.Number),\n    'percentage-token': tokenType(TYPE.Percentage),\n    'dimension-token': tokenType(TYPE.Dimension),\n    'whitespace-token': tokenType(TYPE.WhiteSpace),\n    'CDO-token': tokenType(TYPE.CDO),\n    'CDC-token': tokenType(TYPE.CDC),\n    'colon-token': tokenType(TYPE.Colon),\n    'semicolon-token': tokenType(TYPE.Semicolon),\n    'comma-token': tokenType(TYPE.Comma),\n    '[-token': tokenType(TYPE.LeftSquareBracket),\n    ']-token': tokenType(TYPE.RightSquareBracket),\n    '(-token': tokenType(TYPE.LeftParenthesis),\n    ')-token': tokenType(TYPE.RightParenthesis),\n    '{-token': tokenType(TYPE.LeftCurlyBracket),\n    '}-token': tokenType(TYPE.RightCurlyBracket),\n\n    // token type aliases\n    'string': tokenType(TYPE.String),\n    'ident': tokenType(TYPE.Ident),\n\n    // complex types\n    'custom-ident': customIdent,\n    'custom-property-name': customPropertyName,\n    'hex-color': hexColor,\n    'id-selector': idSelector, // element( <id-selector> )\n    'an-plus-b': anPlusB,\n    'urange': urange,\n    'declaration-value': declarationValue,\n    'any-value': anyValue,\n\n    // dimensions\n    'dimension': calc(dimension(null)),\n    'angle': calc(dimension(ANGLE)),\n    'decibel': calc(dimension(DECIBEL)),\n    'frequency': calc(dimension(FREQUENCY)),\n    'flex': calc(dimension(FLEX)),\n    'length': calc(zero(dimension(LENGTH))),\n    'resolution': calc(dimension(RESOLUTION)),\n    'semitones': calc(dimension(SEMITONES)),\n    'time': calc(dimension(TIME)),\n\n    // percentage\n    'percentage': calc(percentage),\n\n    // numeric\n    'zero': zero(),\n    'number': calc(number),\n    'integer': calc(integer),\n\n    // old IE stuff\n    '-ms-legacy-expression': func('expression')\n};\n","var createCustomError = require('../utils/createCustomError');\n\nmodule.exports = function SyntaxError(message, input, offset) {\n    var error = createCustomError('SyntaxError', message);\n\n    error.input = input;\n    error.offset = offset;\n    error.rawMessage = message;\n    error.message = error.rawMessage + '\\n' +\n        '  ' + error.input + '\\n' +\n        '--' + new Array((error.offset || error.input.length) + 1).join('-') + '^';\n\n    return error;\n};\n","var SyntaxError = require('./SyntaxError');\n\nvar TAB = 9;\nvar N = 10;\nvar F = 12;\nvar R = 13;\nvar SPACE = 32;\n\nvar Tokenizer = function(str) {\n    this.str = str;\n    this.pos = 0;\n};\n\nTokenizer.prototype = {\n    charCodeAt: function(pos) {\n        return pos < this.str.length ? this.str.charCodeAt(pos) : 0;\n    },\n    charCode: function() {\n        return this.charCodeAt(this.pos);\n    },\n    nextCharCode: function() {\n        return this.charCodeAt(this.pos + 1);\n    },\n    nextNonWsCode: function(pos) {\n        return this.charCodeAt(this.findWsEnd(pos));\n    },\n    findWsEnd: function(pos) {\n        for (; pos < this.str.length; pos++) {\n            var code = this.str.charCodeAt(pos);\n            if (code !== R && code !== N && code !== F && code !== SPACE && code !== TAB) {\n                break;\n            }\n        }\n\n        return pos;\n    },\n    substringToPos: function(end) {\n        return this.str.substring(this.pos, this.pos = end);\n    },\n    eat: function(code) {\n        if (this.charCode() !== code) {\n            this.error('Expect `' + String.fromCharCode(code) + '`');\n        }\n\n        this.pos++;\n    },\n    peek: function() {\n        return this.pos < this.str.length ? this.str.charAt(this.pos++) : '';\n    },\n    error: function(message) {\n        throw new SyntaxError(message, this.str, this.pos);\n    }\n};\n\nmodule.exports = Tokenizer;\n","var Tokenizer = require('./tokenizer');\nvar TAB = 9;\nvar N = 10;\nvar F = 12;\nvar R = 13;\nvar SPACE = 32;\nvar EXCLAMATIONMARK = 33;    // !\nvar NUMBERSIGN = 35;         // #\nvar AMPERSAND = 38;          // &\nvar APOSTROPHE = 39;         // '\nvar LEFTPARENTHESIS = 40;    // (\nvar RIGHTPARENTHESIS = 41;   // )\nvar ASTERISK = 42;           // *\nvar PLUSSIGN = 43;           // +\nvar COMMA = 44;              // ,\nvar HYPERMINUS = 45;         // -\nvar LESSTHANSIGN = 60;       // <\nvar GREATERTHANSIGN = 62;    // >\nvar QUESTIONMARK = 63;       // ?\nvar COMMERCIALAT = 64;       // @\nvar LEFTSQUAREBRACKET = 91;  // [\nvar RIGHTSQUAREBRACKET = 93; // ]\nvar LEFTCURLYBRACKET = 123;  // {\nvar VERTICALLINE = 124;      // |\nvar RIGHTCURLYBRACKET = 125; // }\nvar INFINITY = 8734;         // ∞\nvar NAME_CHAR = createCharMap(function(ch) {\n    return /[a-zA-Z0-9\\-]/.test(ch);\n});\nvar COMBINATOR_PRECEDENCE = {\n    ' ': 1,\n    '&&': 2,\n    '||': 3,\n    '|': 4\n};\n\nfunction createCharMap(fn) {\n    var array = typeof Uint32Array === 'function' ? new Uint32Array(128) : new Array(128);\n    for (var i = 0; i < 128; i++) {\n        array[i] = fn(String.fromCharCode(i)) ? 1 : 0;\n    }\n    return array;\n}\n\nfunction scanSpaces(tokenizer) {\n    return tokenizer.substringToPos(\n        tokenizer.findWsEnd(tokenizer.pos)\n    );\n}\n\nfunction scanWord(tokenizer) {\n    var end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        var code = tokenizer.str.charCodeAt(end);\n        if (code >= 128 || NAME_CHAR[code] === 0) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a keyword');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanNumber(tokenizer) {\n    var end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        var code = tokenizer.str.charCodeAt(end);\n        if (code < 48 || code > 57) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a number');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanString(tokenizer) {\n    var end = tokenizer.str.indexOf('\\'', tokenizer.pos + 1);\n\n    if (end === -1) {\n        tokenizer.pos = tokenizer.str.length;\n        tokenizer.error('Expect an apostrophe');\n    }\n\n    return tokenizer.substringToPos(end + 1);\n}\n\nfunction readMultiplierRange(tokenizer) {\n    var min = null;\n    var max = null;\n\n    tokenizer.eat(LEFTCURLYBRACKET);\n\n    min = scanNumber(tokenizer);\n\n    if (tokenizer.charCode() === COMMA) {\n        tokenizer.pos++;\n        if (tokenizer.charCode() !== RIGHTCURLYBRACKET) {\n            max = scanNumber(tokenizer);\n        }\n    } else {\n        max = min;\n    }\n\n    tokenizer.eat(RIGHTCURLYBRACKET);\n\n    return {\n        min: Number(min),\n        max: max ? Number(max) : 0\n    };\n}\n\nfunction readMultiplier(tokenizer) {\n    var range = null;\n    var comma = false;\n\n    switch (tokenizer.charCode()) {\n        case ASTERISK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 0\n            };\n\n            break;\n\n        case PLUSSIGN:\n            tokenizer.pos++;\n\n            range = {\n                min: 1,\n                max: 0\n            };\n\n            break;\n\n        case QUESTIONMARK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 1\n            };\n\n            break;\n\n        case NUMBERSIGN:\n            tokenizer.pos++;\n\n            comma = true;\n\n            if (tokenizer.charCode() === LEFTCURLYBRACKET) {\n                range = readMultiplierRange(tokenizer);\n            } else {\n                range = {\n                    min: 1,\n                    max: 0\n                };\n            }\n\n            break;\n\n        case LEFTCURLYBRACKET:\n            range = readMultiplierRange(tokenizer);\n            break;\n\n        default:\n            return null;\n    }\n\n    return {\n        type: 'Multiplier',\n        comma: comma,\n        min: range.min,\n        max: range.max,\n        term: null\n    };\n}\n\nfunction maybeMultiplied(tokenizer, node) {\n    var multiplier = readMultiplier(tokenizer);\n\n    if (multiplier !== null) {\n        multiplier.term = node;\n        return multiplier;\n    }\n\n    return node;\n}\n\nfunction maybeToken(tokenizer) {\n    var ch = tokenizer.peek();\n\n    if (ch === '') {\n        return null;\n    }\n\n    return {\n        type: 'Token',\n        value: ch\n    };\n}\n\nfunction readProperty(tokenizer) {\n    var name;\n\n    tokenizer.eat(LESSTHANSIGN);\n    tokenizer.eat(APOSTROPHE);\n\n    name = scanWord(tokenizer);\n\n    tokenizer.eat(APOSTROPHE);\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Property',\n        name: name\n    });\n}\n\n// https://drafts.csswg.org/css-values-3/#numeric-ranges\n// 4.1. Range Restrictions and Range Definition Notation\n//\n// Range restrictions can be annotated in the numeric type notation using CSS bracketed\n// range notation—[min,max]—within the angle brackets, after the identifying keyword,\n// indicating a closed range between (and including) min and max.\n// For example, <integer [0, 10]> indicates an integer between 0 and 10, inclusive.\nfunction readTypeRange(tokenizer) {\n    // use null for Infinity to make AST format JSON serializable/deserializable\n    var min = null; // -Infinity\n    var max = null; // Infinity\n    var sign = 1;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n\n    if (tokenizer.charCode() === HYPERMINUS) {\n        tokenizer.peek();\n        sign = -1;\n    }\n\n    if (sign == -1 && tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        min = sign * Number(scanNumber(tokenizer));\n    }\n\n    scanSpaces(tokenizer);\n    tokenizer.eat(COMMA);\n    scanSpaces(tokenizer);\n\n    if (tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        sign = 1;\n\n        if (tokenizer.charCode() === HYPERMINUS) {\n            tokenizer.peek();\n            sign = -1;\n        }\n\n        max = sign * Number(scanNumber(tokenizer));\n    }\n\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    // If no range is indicated, either by using the bracketed range notation\n    // or in the property description, then [−∞,∞] is assumed.\n    if (min === null && max === null) {\n        return null;\n    }\n\n    return {\n        type: 'Range',\n        min: min,\n        max: max\n    };\n}\n\nfunction readType(tokenizer) {\n    var name;\n    var opts = null;\n\n    tokenizer.eat(LESSTHANSIGN);\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS &&\n        tokenizer.nextCharCode() === RIGHTPARENTHESIS) {\n        tokenizer.pos += 2;\n        name += '()';\n    }\n\n    if (tokenizer.charCodeAt(tokenizer.findWsEnd(tokenizer.pos)) === LEFTSQUAREBRACKET) {\n        scanSpaces(tokenizer);\n        opts = readTypeRange(tokenizer);\n    }\n\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Type',\n        name: name,\n        opts: opts\n    });\n}\n\nfunction readKeywordOrFunction(tokenizer) {\n    var name;\n\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS) {\n        tokenizer.pos++;\n\n        return {\n            type: 'Function',\n            name: name\n        };\n    }\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Keyword',\n        name: name\n    });\n}\n\nfunction regroupTerms(terms, combinators) {\n    function createGroup(terms, combinator) {\n        return {\n            type: 'Group',\n            terms: terms,\n            combinator: combinator,\n            disallowEmpty: false,\n            explicit: false\n        };\n    }\n\n    combinators = Object.keys(combinators).sort(function(a, b) {\n        return COMBINATOR_PRECEDENCE[a] - COMBINATOR_PRECEDENCE[b];\n    });\n\n    while (combinators.length > 0) {\n        var combinator = combinators.shift();\n        for (var i = 0, subgroupStart = 0; i < terms.length; i++) {\n            var term = terms[i];\n            if (term.type === 'Combinator') {\n                if (term.value === combinator) {\n                    if (subgroupStart === -1) {\n                        subgroupStart = i - 1;\n                    }\n                    terms.splice(i, 1);\n                    i--;\n                } else {\n                    if (subgroupStart !== -1 && i - subgroupStart > 1) {\n                        terms.splice(\n                            subgroupStart,\n                            i - subgroupStart,\n                            createGroup(terms.slice(subgroupStart, i), combinator)\n                        );\n                        i = subgroupStart + 1;\n                    }\n                    subgroupStart = -1;\n                }\n            }\n        }\n\n        if (subgroupStart !== -1 && combinators.length) {\n            terms.splice(\n                subgroupStart,\n                i - subgroupStart,\n                createGroup(terms.slice(subgroupStart, i), combinator)\n            );\n        }\n    }\n\n    return combinator;\n}\n\nfunction readImplicitGroup(tokenizer) {\n    var terms = [];\n    var combinators = {};\n    var token;\n    var prevToken = null;\n    var prevTokenPos = tokenizer.pos;\n\n    while (token = peek(tokenizer)) {\n        if (token.type !== 'Spaces') {\n            if (token.type === 'Combinator') {\n                // check for combinator in group beginning and double combinator sequence\n                if (prevToken === null || prevToken.type === 'Combinator') {\n                    tokenizer.pos = prevTokenPos;\n                    tokenizer.error('Unexpected combinator');\n                }\n\n                combinators[token.value] = true;\n            } else if (prevToken !== null && prevToken.type !== 'Combinator') {\n                combinators[' '] = true;  // a b\n                terms.push({\n                    type: 'Combinator',\n                    value: ' '\n                });\n            }\n\n            terms.push(token);\n            prevToken = token;\n            prevTokenPos = tokenizer.pos;\n        }\n    }\n\n    // check for combinator in group ending\n    if (prevToken !== null && prevToken.type === 'Combinator') {\n        tokenizer.pos -= prevTokenPos;\n        tokenizer.error('Unexpected combinator');\n    }\n\n    return {\n        type: 'Group',\n        terms: terms,\n        combinator: regroupTerms(terms, combinators) || ' ',\n        disallowEmpty: false,\n        explicit: false\n    };\n}\n\nfunction readGroup(tokenizer) {\n    var result;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n    result = readImplicitGroup(tokenizer);\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    result.explicit = true;\n\n    if (tokenizer.charCode() === EXCLAMATIONMARK) {\n        tokenizer.pos++;\n        result.disallowEmpty = true;\n    }\n\n    return result;\n}\n\nfunction peek(tokenizer) {\n    var code = tokenizer.charCode();\n\n    if (code < 128 && NAME_CHAR[code] === 1) {\n        return readKeywordOrFunction(tokenizer);\n    }\n\n    switch (code) {\n        case RIGHTSQUAREBRACKET:\n            // don't eat, stop scan a group\n            break;\n\n        case LEFTSQUAREBRACKET:\n            return maybeMultiplied(tokenizer, readGroup(tokenizer));\n\n        case LESSTHANSIGN:\n            return tokenizer.nextCharCode() === APOSTROPHE\n                ? readProperty(tokenizer)\n                : readType(tokenizer);\n\n        case VERTICALLINE:\n            return {\n                type: 'Combinator',\n                value: tokenizer.substringToPos(\n                    tokenizer.nextCharCode() === VERTICALLINE\n                        ? tokenizer.pos + 2\n                        : tokenizer.pos + 1\n                )\n            };\n\n        case AMPERSAND:\n            tokenizer.pos++;\n            tokenizer.eat(AMPERSAND);\n\n            return {\n                type: 'Combinator',\n                value: '&&'\n            };\n\n        case COMMA:\n            tokenizer.pos++;\n            return {\n                type: 'Comma'\n            };\n\n        case APOSTROPHE:\n            return maybeMultiplied(tokenizer, {\n                type: 'String',\n                value: scanString(tokenizer)\n            });\n\n        case SPACE:\n        case TAB:\n        case N:\n        case R:\n        case F:\n            return {\n                type: 'Spaces',\n                value: scanSpaces(tokenizer)\n            };\n\n        case COMMERCIALAT:\n            code = tokenizer.nextCharCode();\n\n            if (code < 128 && NAME_CHAR[code] === 1) {\n                tokenizer.pos++;\n                return {\n                    type: 'AtKeyword',\n                    name: scanWord(tokenizer)\n                };\n            }\n\n            return maybeToken(tokenizer);\n\n        case ASTERISK:\n        case PLUSSIGN:\n        case QUESTIONMARK:\n        case NUMBERSIGN:\n        case EXCLAMATIONMARK:\n            // prohibited tokens (used as a multiplier start)\n            break;\n\n        case LEFTCURLYBRACKET:\n            // LEFTCURLYBRACKET is allowed since mdn/data uses it w/o quoting\n            // check next char isn't a number, because it's likely a disjoined multiplier\n            code = tokenizer.nextCharCode();\n\n            if (code < 48 || code > 57) {\n                return maybeToken(tokenizer);\n            }\n\n            break;\n\n        default:\n            return maybeToken(tokenizer);\n    }\n}\n\nfunction parse(source) {\n    var tokenizer = new Tokenizer(source);\n    var result = readImplicitGroup(tokenizer);\n\n    if (tokenizer.pos !== source.length) {\n        tokenizer.error('Unexpected input');\n    }\n\n    // reduce redundant groups with single group term\n    if (result.terms.length === 1 && result.terms[0].type === 'Group') {\n        result = result.terms[0];\n    }\n\n    return result;\n}\n\n// warm up parse to elimitate code branches that never execute\n// fix soft deoptimizations (insufficient type feedback)\nparse('[a&&<b>#|<\\'c\\'>*||e() f{2} /,(% g#{1,2} h{2,})]!');\n\nmodule.exports = parse;\n","var noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nmodule.exports = function(node, options, context) {\n    function walk(node) {\n        enter.call(context, node);\n\n        switch (node.type) {\n            case 'Group':\n                node.terms.forEach(walk);\n                break;\n\n            case 'Multiplier':\n                walk(node.term);\n                break;\n\n            case 'Type':\n            case 'Property':\n            case 'Keyword':\n            case 'AtKeyword':\n            case 'Function':\n            case 'String':\n            case 'Token':\n            case 'Comma':\n                break;\n\n            default:\n                throw new Error('Unknown type: ' + node.type);\n        }\n\n        leave.call(context, node);\n    }\n\n    var enter = noop;\n    var leave = noop;\n\n    if (typeof options === 'function') {\n        enter = options;\n    } else if (options) {\n        enter = ensureFunction(options.enter);\n        leave = ensureFunction(options.leave);\n    }\n\n    if (enter === noop && leave === noop) {\n        throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n    }\n\n    walk(node, context);\n};\n","var tokenize = require('../tokenizer');\nvar TokenStream = require('../common/TokenStream');\nvar tokenStream = new TokenStream();\nvar astToTokens = {\n    decorator: function(handlers) {\n        var curNode = null;\n        var prev = { len: 0, node: null };\n        var nodes = [prev];\n        var buffer = '';\n\n        return {\n            children: handlers.children,\n            node: function(node) {\n                var tmp = curNode;\n                curNode = node;\n                handlers.node.call(this, node);\n                curNode = tmp;\n            },\n            chunk: function(chunk) {\n                buffer += chunk;\n                if (prev.node !== curNode) {\n                    nodes.push({\n                        len: chunk.length,\n                        node: curNode\n                    });\n                } else {\n                    prev.len += chunk.length;\n                }\n            },\n            result: function() {\n                return prepareTokens(buffer, nodes);\n            }\n        };\n    }\n};\n\nfunction prepareTokens(str, nodes) {\n    var tokens = [];\n    var nodesOffset = 0;\n    var nodesIndex = 0;\n    var currentNode = nodes ? nodes[nodesIndex].node : null;\n\n    tokenize(str, tokenStream);\n\n    while (!tokenStream.eof) {\n        if (nodes) {\n            while (nodesIndex < nodes.length && nodesOffset + nodes[nodesIndex].len <= tokenStream.tokenStart) {\n                nodesOffset += nodes[nodesIndex++].len;\n                currentNode = nodes[nodesIndex].node;\n            }\n        }\n\n        tokens.push({\n            type: tokenStream.tokenType,\n            value: tokenStream.getTokenValue(),\n            index: tokenStream.tokenIndex, // TODO: remove it, temporary solution\n            balance: tokenStream.balance[tokenStream.tokenIndex], // TODO: remove it, temporary solution\n            node: currentNode\n        });\n        tokenStream.next();\n        // console.log({ ...tokens[tokens.length - 1], node: undefined });\n    }\n\n    return tokens;\n}\n\nmodule.exports = function(value, syntax) {\n    if (typeof value === 'string') {\n        return prepareTokens(value, null);\n    }\n\n    return syntax.generate(value, astToTokens);\n};\n","var parse = require('../definition-syntax/parse');\n\nvar MATCH = { type: 'Match' };\nvar MISMATCH = { type: 'Mismatch' };\nvar DISALLOW_EMPTY = { type: 'DisallowEmpty' };\nvar LEFTPARENTHESIS = 40;  // (\nvar RIGHTPARENTHESIS = 41; // )\n\nfunction createCondition(match, thenBranch, elseBranch) {\n    // reduce node count\n    if (thenBranch === MATCH && elseBranch === MISMATCH) {\n        return match;\n    }\n\n    if (match === MATCH && thenBranch === MATCH && elseBranch === MATCH) {\n        return match;\n    }\n\n    if (match.type === 'If' && match.else === MISMATCH && thenBranch === MATCH) {\n        thenBranch = match.then;\n        match = match.match;\n    }\n\n    return {\n        type: 'If',\n        match: match,\n        then: thenBranch,\n        else: elseBranch\n    };\n}\n\nfunction isFunctionType(name) {\n    return (\n        name.length > 2 &&\n        name.charCodeAt(name.length - 2) === LEFTPARENTHESIS &&\n        name.charCodeAt(name.length - 1) === RIGHTPARENTHESIS\n    );\n}\n\nfunction isEnumCapatible(term) {\n    return (\n        term.type === 'Keyword' ||\n        term.type === 'AtKeyword' ||\n        term.type === 'Function' ||\n        term.type === 'Type' && isFunctionType(term.name)\n    );\n}\n\nfunction buildGroupMatchGraph(combinator, terms, atLeastOneTermMatched) {\n    switch (combinator) {\n        case ' ':\n            // Juxtaposing components means that all of them must occur, in the given order.\n            //\n            // a b c\n            // =\n            // match a\n            //   then match b\n            //     then match c\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            //   else MISMATCH\n            var result = MATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n\n                result = createCondition(\n                    term,\n                    result,\n                    MISMATCH\n                );\n            };\n\n            return result;\n\n        case '|':\n            // A bar (|) separates two or more alternatives: exactly one of them must occur.\n            //\n            // a | b | c\n            // =\n            // match a\n            //   then MATCH\n            //   else match b\n            //     then MATCH\n            //     else match c\n            //       then MATCH\n            //       else MISMATCH\n\n            var result = MISMATCH;\n            var map = null;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n\n                // reduce sequence of keywords into a Enum\n                if (isEnumCapatible(term)) {\n                    if (map === null && i > 0 && isEnumCapatible(terms[i - 1])) {\n                        map = Object.create(null);\n                        result = createCondition(\n                            {\n                                type: 'Enum',\n                                map: map\n                            },\n                            MATCH,\n                            result\n                        );\n                    }\n\n                    if (map !== null) {\n                        var key = (isFunctionType(term.name) ? term.name.slice(0, -1) : term.name).toLowerCase();\n                        if (key in map === false) {\n                            map[key] = term;\n                            continue;\n                        }\n                    }\n                }\n\n                map = null;\n\n                // create a new conditonal node\n                result = createCondition(\n                    term,\n                    MATCH,\n                    result\n                );\n            };\n\n            return result;\n\n        case '&&':\n            // A double ampersand (&&) separates two or more components,\n            // all of which must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since &&-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms: terms,\n                    all: true\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a && b && c\n            // =\n            // match a\n            //   then [b && c]\n            //   else match b\n            //     then [a && c]\n            //     else match c\n            //       then [a && b]\n            //       else MISMATCH\n            //\n            // a && b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MISMATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            var result = MISMATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n                var thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        false\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n\n        case '||':\n            // A double bar (||) separates two or more options:\n            // one or more of them must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since ||-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms: terms,\n                    all: false\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a || b || c\n            // =\n            // match a\n            //   then [b || c]\n            //   else match b\n            //     then [a || c]\n            //     else match c\n            //       then [a || b]\n            //       else MISMATCH\n            //\n            // a || b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MATCH\n            //     else MISMATCH\n            var result = atLeastOneTermMatched ? MATCH : MISMATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n                var thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        true\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n    }\n}\n\nfunction buildMultiplierMatchGraph(node) {\n    var result = MATCH;\n    var matchTerm = buildMatchGraph(node.term);\n\n    if (node.max === 0) {\n        // disable repeating of empty match to prevent infinite loop\n        matchTerm = createCondition(\n            matchTerm,\n            DISALLOW_EMPTY,\n            MISMATCH\n        );\n\n        // an occurrence count is not limited, make a cycle;\n        // to collect more terms on each following matching mismatch\n        result = createCondition(\n            matchTerm,\n            null, // will be a loop\n            MISMATCH\n        );\n\n        result.then = createCondition(\n            MATCH,\n            MATCH,\n            result // make a loop\n        );\n\n        if (node.comma) {\n            result.then.else = createCondition(\n                { type: 'Comma', syntax: node },\n                result,\n                MISMATCH\n            );\n        }\n    } else {\n        // create a match node chain for [min .. max] interval with optional matches\n        for (var i = node.min || 1; i <= node.max; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                createCondition(\n                    MATCH,\n                    MATCH,\n                    result\n                ),\n                MISMATCH\n            );\n        }\n    }\n\n    if (node.min === 0) {\n        // allow zero match\n        result = createCondition(\n            MATCH,\n            MATCH,\n            result\n        );\n    } else {\n        // create a match node chain to collect [0 ... min - 1] required matches\n        for (var i = 0; i < node.min - 1; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                result,\n                MISMATCH\n            );\n        }\n    }\n\n    return result;\n}\n\nfunction buildMatchGraph(node) {\n    if (typeof node === 'function') {\n        return {\n            type: 'Generic',\n            fn: node\n        };\n    }\n\n    switch (node.type) {\n        case 'Group':\n            var result = buildGroupMatchGraph(\n                node.combinator,\n                node.terms.map(buildMatchGraph),\n                false\n            );\n\n            if (node.disallowEmpty) {\n                result = createCondition(\n                    result,\n                    DISALLOW_EMPTY,\n                    MISMATCH\n                );\n            }\n\n            return result;\n\n        case 'Multiplier':\n            return buildMultiplierMatchGraph(node);\n\n        case 'Type':\n        case 'Property':\n            return {\n                type: node.type,\n                name: node.name,\n                syntax: node\n            };\n\n        case 'Keyword':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'AtKeyword':\n            return {\n                type: node.type,\n                name: '@' + node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'Function':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase() + '(',\n                syntax: node\n            };\n\n        case 'String':\n            // convert a one char length String to a Token\n            if (node.value.length === 3) {\n                return {\n                    type: 'Token',\n                    value: node.value.charAt(1),\n                    syntax: node\n                };\n            }\n\n            // otherwise use it as is\n            return {\n                type: node.type,\n                value: node.value.substr(1, node.value.length - 2).replace(/\\\\'/g, '\\''),\n                syntax: node\n            };\n\n        case 'Token':\n            return {\n                type: node.type,\n                value: node.value,\n                syntax: node\n            };\n\n        case 'Comma':\n            return {\n                type: node.type,\n                syntax: node\n            };\n\n        default:\n            throw new Error('Unknown node type:', node.type);\n    }\n}\n\nmodule.exports = {\n    MATCH: MATCH,\n    MISMATCH: MISMATCH,\n    DISALLOW_EMPTY: DISALLOW_EMPTY,\n    buildMatchGraph: function(syntaxTree, ref) {\n        if (typeof syntaxTree === 'string') {\n            syntaxTree = parse(syntaxTree);\n        }\n\n        return {\n            type: 'MatchGraph',\n            match: buildMatchGraph(syntaxTree),\n            syntax: ref || null,\n            source: syntaxTree\n        };\n    }\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar matchGraph = require('./match-graph');\nvar MATCH = matchGraph.MATCH;\nvar MISMATCH = matchGraph.MISMATCH;\nvar DISALLOW_EMPTY = matchGraph.DISALLOW_EMPTY;\nvar TYPE = require('../tokenizer/const').TYPE;\n\nvar STUB = 0;\nvar TOKEN = 1;\nvar OPEN_SYNTAX = 2;\nvar CLOSE_SYNTAX = 3;\n\nvar EXIT_REASON_MATCH = 'Match';\nvar EXIT_REASON_MISMATCH = 'Mismatch';\nvar EXIT_REASON_ITERATION_LIMIT = 'Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)';\n\nvar ITERATION_LIMIT = 15000;\nvar totalIterationCount = 0;\n\nfunction reverseList(list) {\n    var prev = null;\n    var next = null;\n    var item = list;\n\n    while (item !== null) {\n        next = item.prev;\n        item.prev = prev;\n        prev = item;\n        item = next;\n    }\n\n    return prev;\n}\n\nfunction areStringsEqualCaseInsensitive(testStr, referenceStr) {\n    if (testStr.length !== referenceStr.length) {\n        return false;\n    }\n\n    for (var i = 0; i < testStr.length; i++) {\n        var testCode = testStr.charCodeAt(i);\n        var referenceCode = referenceStr.charCodeAt(i);\n\n        // testCode.toLowerCase() for U+0041 LATIN CAPITAL LETTER A (A) .. U+005A LATIN CAPITAL LETTER Z (Z).\n        if (testCode >= 0x0041 && testCode <= 0x005A) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction isCommaContextStart(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.Comma ||\n        token.type === TYPE.Function ||\n        token.type === TYPE.LeftParenthesis ||\n        token.type === TYPE.LeftSquareBracket ||\n        token.type === TYPE.LeftCurlyBracket ||\n        token.type === TYPE.Delim\n    );\n}\n\nfunction isCommaContextEnd(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.RightParenthesis ||\n        token.type === TYPE.RightSquareBracket ||\n        token.type === TYPE.RightCurlyBracket ||\n        token.type === TYPE.Delim\n    );\n}\n\nfunction internalMatch(tokens, state, syntaxes) {\n    function moveToNextToken() {\n        do {\n            tokenIndex++;\n            token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n        } while (token !== null && (token.type === TYPE.WhiteSpace || token.type === TYPE.Comment));\n    }\n\n    function getNextToken(offset) {\n        var nextIndex = tokenIndex + offset;\n\n        return nextIndex < tokens.length ? tokens[nextIndex] : null;\n    }\n\n    function stateSnapshotFromSyntax(nextState, prev) {\n        return {\n            nextState: nextState,\n            matchStack: matchStack,\n            syntaxStack: syntaxStack,\n            thenStack: thenStack,\n            tokenIndex: tokenIndex,\n            prev: prev\n        };\n    }\n\n    function pushThenStack(nextState) {\n        thenStack = {\n            nextState: nextState,\n            matchStack: matchStack,\n            syntaxStack: syntaxStack,\n            prev: thenStack\n        };\n    }\n\n    function pushElseStack(nextState) {\n        elseStack = stateSnapshotFromSyntax(nextState, elseStack);\n    }\n\n    function addTokenToMatch() {\n        matchStack = {\n            type: TOKEN,\n            syntax: state.syntax,\n            token: token,\n            prev: matchStack\n        };\n\n        moveToNextToken();\n        syntaxStash = null;\n\n        if (tokenIndex > longestMatch) {\n            longestMatch = tokenIndex;\n        }\n    }\n\n    function openSyntax() {\n        syntaxStack = {\n            syntax: state.syntax,\n            opts: state.syntax.opts || (syntaxStack !== null && syntaxStack.opts) || null,\n            prev: syntaxStack\n        };\n\n        matchStack = {\n            type: OPEN_SYNTAX,\n            syntax: state.syntax,\n            token: matchStack.token,\n            prev: matchStack\n        };\n    }\n\n    function closeSyntax() {\n        if (matchStack.type === OPEN_SYNTAX) {\n            matchStack = matchStack.prev;\n        } else {\n            matchStack = {\n                type: CLOSE_SYNTAX,\n                syntax: syntaxStack.syntax,\n                token: matchStack.token,\n                prev: matchStack\n            };\n        }\n\n        syntaxStack = syntaxStack.prev;\n    }\n\n    var syntaxStack = null;\n    var thenStack = null;\n    var elseStack = null;\n\n    // null – stashing allowed, nothing stashed\n    // false – stashing disabled, nothing stashed\n    // anithing else – fail stashable syntaxes, some syntax stashed\n    var syntaxStash = null;\n\n    var iterationCount = 0; // count iterations and prevent infinite loop\n    var exitReason = null;\n\n    var token = null;\n    var tokenIndex = -1;\n    var longestMatch = 0;\n    var matchStack = {\n        type: STUB,\n        syntax: null,\n        token: null,\n        prev: null\n    };\n\n    moveToNextToken();\n\n    while (exitReason === null && ++iterationCount < ITERATION_LIMIT) {\n        // function mapList(list, fn) {\n        //     var result = [];\n        //     while (list) {\n        //         result.unshift(fn(list));\n        //         list = list.prev;\n        //     }\n        //     return result;\n        // }\n        // console.log('--\\n',\n        //     '#' + iterationCount,\n        //     require('util').inspect({\n        //         match: mapList(matchStack, x => x.type === TOKEN ? x.token && x.token.value : x.syntax ? ({ [OPEN_SYNTAX]: '<', [CLOSE_SYNTAX]: '</' }[x.type] || x.type) + '!' + x.syntax.name : null),\n        //         token: token && token.value,\n        //         tokenIndex,\n        //         syntax: syntax.type + (syntax.id ? ' #' + syntax.id : '')\n        //     }, { depth: null })\n        // );\n        switch (state.type) {\n            case 'Match':\n                if (thenStack === null) {\n                    // turn to MISMATCH when some tokens left unmatched\n                    if (token !== null) {\n                        // doesn't mismatch if just one token left and it's an IE hack\n                        if (tokenIndex !== tokens.length - 1 || (token.value !== '\\\\0' && token.value !== '\\\\9')) {\n                            state = MISMATCH;\n                            break;\n                        }\n                    }\n\n                    // break the main loop, return a result - MATCH\n                    exitReason = EXIT_REASON_MATCH;\n                    break;\n                }\n\n                // go to next syntax (`then` branch)\n                state = thenStack.nextState;\n\n                // check match is not empty\n                if (state === DISALLOW_EMPTY) {\n                    if (thenStack.matchStack === matchStack) {\n                        state = MISMATCH;\n                        break;\n                    } else {\n                        state = MATCH;\n                    }\n                }\n\n                // close syntax if needed\n                while (thenStack.syntaxStack !== syntaxStack) {\n                    closeSyntax();\n                }\n\n                // pop stack\n                thenStack = thenStack.prev;\n                break;\n\n            case 'Mismatch':\n                // when some syntax is stashed\n                if (syntaxStash !== null && syntaxStash !== false) {\n                    // there is no else branches or a branch reduce match stack\n                    if (elseStack === null || tokenIndex > elseStack.tokenIndex) {\n                        // restore state from the stash\n                        elseStack = syntaxStash;\n                        syntaxStash = false; // disable stashing\n                    }\n                } else if (elseStack === null) {\n                    // no else branches -> break the main loop\n                    // return a result - MISMATCH\n                    exitReason = EXIT_REASON_MISMATCH;\n                    break;\n                }\n\n                // go to next syntax (`else` branch)\n                state = elseStack.nextState;\n\n                // restore all the rest stack states\n                thenStack = elseStack.thenStack;\n                syntaxStack = elseStack.syntaxStack;\n                matchStack = elseStack.matchStack;\n                tokenIndex = elseStack.tokenIndex;\n                token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n\n                // pop stack\n                elseStack = elseStack.prev;\n                break;\n\n            case 'MatchGraph':\n                state = state.match;\n                break;\n\n            case 'If':\n                // IMPORTANT: else stack push must go first,\n                // since it stores the state of thenStack before changes\n                if (state.else !== MISMATCH) {\n                    pushElseStack(state.else);\n                }\n\n                if (state.then !== MATCH) {\n                    pushThenStack(state.then);\n                }\n\n                state = state.match;\n                break;\n\n            case 'MatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state,\n                    index: 0,\n                    mask: 0\n                };\n                break;\n\n            case 'MatchOnceBuffer':\n                var terms = state.syntax.terms;\n\n                if (state.index === terms.length) {\n                    // no matches at all or it's required all terms to be matched\n                    if (state.mask === 0 || state.syntax.all) {\n                        state = MISMATCH;\n                        break;\n                    }\n\n                    // a partial match is ok\n                    state = MATCH;\n                    break;\n                }\n\n                // all terms are matched\n                if (state.mask === (1 << terms.length) - 1) {\n                    state = MATCH;\n                    break;\n                }\n\n                for (; state.index < terms.length; state.index++) {\n                    var matchFlag = 1 << state.index;\n\n                    if ((state.mask & matchFlag) === 0) {\n                        // IMPORTANT: else stack push must go first,\n                        // since it stores the state of thenStack before changes\n                        pushElseStack(state);\n                        pushThenStack({\n                            type: 'AddMatchOnce',\n                            syntax: state.syntax,\n                            mask: state.mask | matchFlag\n                        });\n\n                        // match\n                        state = terms[state.index++];\n                        break;\n                    }\n                }\n                break;\n\n            case 'AddMatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state.syntax,\n                    index: 0,\n                    mask: state.mask\n                };\n                break;\n\n            case 'Enum':\n                if (token !== null) {\n                    var name = token.value.toLowerCase();\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (name.indexOf('\\\\') !== -1) {\n                        name = name.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (hasOwnProperty.call(state.map, name)) {\n                        state = state.map[name];\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Generic':\n                var opts = syntaxStack !== null ? syntaxStack.opts : null;\n                var lastTokenIndex = tokenIndex + Math.floor(state.fn(token, getNextToken, opts));\n\n                if (!isNaN(lastTokenIndex) && lastTokenIndex > tokenIndex) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            case 'Type':\n            case 'Property':\n                var syntaxDict = state.type === 'Type' ? 'types' : 'properties';\n                var dictSyntax = hasOwnProperty.call(syntaxes, syntaxDict) ? syntaxes[syntaxDict][state.name] : null;\n\n                if (!dictSyntax || !dictSyntax.match) {\n                    throw new Error(\n                        'Bad syntax reference: ' +\n                        (state.type === 'Type'\n                            ? '<' + state.name + '>'\n                            : '<\\'' + state.name + '\\'>')\n                    );\n                }\n\n                // stash a syntax for types with low priority\n                if (syntaxStash !== false && token !== null && state.type === 'Type') {\n                    var lowPriorityMatching =\n                        // https://drafts.csswg.org/css-values-4/#custom-idents\n                        // When parsing positionally-ambiguous keywords in a property value, a <custom-ident> production\n                        // can only claim the keyword if no other unfulfilled production can claim it.\n                        (state.name === 'custom-ident' && token.type === TYPE.Ident) ||\n\n                        // https://drafts.csswg.org/css-values-4/#lengths\n                        // ... if a `0` could be parsed as either a <number> or a <length> in a property (such as line-height),\n                        // it must parse as a <number>\n                        (state.name === 'length' && token.value === '0');\n\n                    if (lowPriorityMatching) {\n                        if (syntaxStash === null) {\n                            syntaxStash = stateSnapshotFromSyntax(state, elseStack);\n                        }\n\n                        state = MISMATCH;\n                        break;\n                    }\n                }\n\n                openSyntax();\n                state = dictSyntax.match;\n                break;\n\n            case 'Keyword':\n                var name = state.name;\n\n                if (token !== null) {\n                    var keywordName = token.value;\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (keywordName.indexOf('\\\\') !== -1) {\n                        keywordName = keywordName.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (areStringsEqualCaseInsensitive(keywordName, name)) {\n                        addTokenToMatch();\n                        state = MATCH;\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'AtKeyword':\n            case 'Function':\n                if (token !== null && areStringsEqualCaseInsensitive(token.value, state.name)) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Token':\n                if (token !== null && token.value === state.value) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Comma':\n                if (token !== null && token.type === TYPE.Comma) {\n                    if (isCommaContextStart(matchStack.token)) {\n                        state = MISMATCH;\n                    } else {\n                        addTokenToMatch();\n                        state = isCommaContextEnd(token) ? MISMATCH : MATCH;\n                    }\n                } else {\n                    state = isCommaContextStart(matchStack.token) || isCommaContextEnd(token) ? MATCH : MISMATCH;\n                }\n\n                break;\n\n            case 'String':\n                var string = '';\n\n                for (var lastTokenIndex = tokenIndex; lastTokenIndex < tokens.length && string.length < state.value.length; lastTokenIndex++) {\n                    string += tokens[lastTokenIndex].value;\n                }\n\n                if (areStringsEqualCaseInsensitive(string, state.value)) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            default:\n                throw new Error('Unknown node type: ' + state.type);\n        }\n    }\n\n    totalIterationCount += iterationCount;\n\n    switch (exitReason) {\n        case null:\n            console.warn('[csstree-match] BREAK after ' + ITERATION_LIMIT + ' iterations');\n            exitReason = EXIT_REASON_ITERATION_LIMIT;\n            matchStack = null;\n            break;\n\n        case EXIT_REASON_MATCH:\n            while (syntaxStack !== null) {\n                closeSyntax();\n            }\n            break;\n\n        default:\n            matchStack = null;\n    }\n\n    return {\n        tokens: tokens,\n        reason: exitReason,\n        iterations: iterationCount,\n        match: matchStack,\n        longestMatch: longestMatch\n    };\n}\n\nfunction matchAsList(tokens, matchGraph, syntaxes) {\n    var matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match !== null) {\n        var item = reverseList(matchResult.match).prev;\n\n        matchResult.match = [];\n\n        while (item !== null) {\n            switch (item.type) {\n                case STUB:\n                    break;\n\n                case OPEN_SYNTAX:\n                case CLOSE_SYNTAX:\n                    matchResult.match.push({\n                        type: item.type,\n                        syntax: item.syntax\n                    });\n                    break;\n\n                default:\n                    matchResult.match.push({\n                        token: item.token.value,\n                        node: item.token.node\n                    });\n                    break;\n            }\n\n            item = item.prev;\n        }\n    }\n\n    return matchResult;\n}\n\nfunction matchAsTree(tokens, matchGraph, syntaxes) {\n    var matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match === null) {\n        return matchResult;\n    }\n\n    var item = matchResult.match;\n    var host = matchResult.match = {\n        syntax: matchGraph.syntax || null,\n        match: []\n    };\n    var hostStack = [host];\n\n    // revert a list and start with 2nd item since 1st is a stub item\n    item = reverseList(item).prev;\n\n    // build a tree\n    while (item !== null) {\n        switch (item.type) {\n            case OPEN_SYNTAX:\n                host.match.push(host = {\n                    syntax: item.syntax,\n                    match: []\n                });\n                hostStack.push(host);\n                break;\n\n            case CLOSE_SYNTAX:\n                hostStack.pop();\n                host = hostStack[hostStack.length - 1];\n                break;\n\n            default:\n                host.match.push({\n                    syntax: item.syntax || null,\n                    token: item.token.value,\n                    node: item.token.node\n                });\n        }\n\n        item = item.prev;\n    }\n\n    return matchResult;\n}\n\nmodule.exports = {\n    matchAsList: matchAsList,\n    matchAsTree: matchAsTree,\n    getTotalIterationCount: function() {\n        return totalIterationCount;\n    }\n};\n","function getTrace(node) {\n    function shouldPutToTrace(syntax) {\n        if (syntax === null) {\n            return false;\n        }\n\n        return (\n            syntax.type === 'Type' ||\n            syntax.type === 'Property' ||\n            syntax.type === 'Keyword'\n        );\n    }\n\n    function hasMatch(matchNode) {\n        if (Array.isArray(matchNode.match)) {\n            // use for-loop for better perfomance\n            for (var i = 0; i < matchNode.match.length; i++) {\n                if (hasMatch(matchNode.match[i])) {\n                    if (shouldPutToTrace(matchNode.syntax)) {\n                        result.unshift(matchNode.syntax);\n                    }\n\n                    return true;\n                }\n            }\n        } else if (matchNode.node === node) {\n            result = shouldPutToTrace(matchNode.syntax)\n                ? [matchNode.syntax]\n                : [];\n\n            return true;\n        }\n\n        return false;\n    }\n\n    var result = null;\n\n    if (this.matched !== null) {\n        hasMatch(this.matched);\n    }\n\n    return result;\n}\n\nfunction testNode(match, node, fn) {\n    var trace = getTrace.call(match, node);\n\n    if (trace === null) {\n        return false;\n    }\n\n    return trace.some(fn);\n}\n\nfunction isType(node, type) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Type' && matchNode.name === type;\n    });\n}\n\nfunction isProperty(node, property) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Property' && matchNode.name === property;\n    });\n}\n\nfunction isKeyword(node) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Keyword';\n    });\n}\n\nmodule.exports = {\n    getTrace: getTrace,\n    isType: isType,\n    isProperty: isProperty,\n    isKeyword: isKeyword\n};\n","var List = require('../common/List');\n\nfunction getFirstMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getFirstMatchNode(matchNode.match[0]);\n}\n\nfunction getLastMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getLastMatchNode(matchNode.match[matchNode.match.length - 1]);\n}\n\nfunction matchFragments(lexer, ast, match, type, name) {\n    function findFragments(matchNode) {\n        if (matchNode.syntax !== null &&\n            matchNode.syntax.type === type &&\n            matchNode.syntax.name === name) {\n            var start = getFirstMatchNode(matchNode);\n            var end = getLastMatchNode(matchNode);\n\n            lexer.syntax.walk(ast, function(node, item, list) {\n                if (node === start) {\n                    var nodes = new List();\n\n                    do {\n                        nodes.appendData(item.data);\n\n                        if (item.data === end) {\n                            break;\n                        }\n\n                        item = item.next;\n                    } while (item !== null);\n\n                    fragments.push({\n                        parent: list,\n                        nodes: nodes\n                    });\n                }\n            });\n        }\n\n        if (Array.isArray(matchNode.match)) {\n            matchNode.match.forEach(findFragments);\n        }\n    }\n\n    var fragments = [];\n\n    if (match.matched !== null) {\n        findFragments(match.matched);\n    }\n\n    return fragments;\n}\n\nmodule.exports = {\n    matchFragments: matchFragments\n};\n","var List = require('../common/List');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isValidNumber(value) {\n    // Number.isInteger(value) && value >= 0\n    return (\n        typeof value === 'number' &&\n        isFinite(value) &&\n        Math.floor(value) === value &&\n        value >= 0\n    );\n}\n\nfunction isValidLocation(loc) {\n    return (\n        Boolean(loc) &&\n        isValidNumber(loc.offset) &&\n        isValidNumber(loc.line) &&\n        isValidNumber(loc.column)\n    );\n}\n\nfunction createNodeStructureChecker(type, fields) {\n    return function checkNode(node, warn) {\n        if (!node || node.constructor !== Object) {\n            return warn(node, 'Type of node should be an Object');\n        }\n\n        for (var key in node) {\n            var valid = true;\n\n            if (hasOwnProperty.call(node, key) === false) {\n                continue;\n            }\n\n            if (key === 'type') {\n                if (node.type !== type) {\n                    warn(node, 'Wrong node type `' + node.type + '`, expected `' + type + '`');\n                }\n            } else if (key === 'loc') {\n                if (node.loc === null) {\n                    continue;\n                } else if (node.loc && node.loc.constructor === Object) {\n                    if (typeof node.loc.source !== 'string') {\n                        key += '.source';\n                    } else if (!isValidLocation(node.loc.start)) {\n                        key += '.start';\n                    } else if (!isValidLocation(node.loc.end)) {\n                        key += '.end';\n                    } else {\n                        continue;\n                    }\n                }\n\n                valid = false;\n            } else if (fields.hasOwnProperty(key)) {\n                for (var i = 0, valid = false; !valid && i < fields[key].length; i++) {\n                    var fieldType = fields[key][i];\n\n                    switch (fieldType) {\n                        case String:\n                            valid = typeof node[key] === 'string';\n                            break;\n\n                        case Boolean:\n                            valid = typeof node[key] === 'boolean';\n                            break;\n\n                        case null:\n                            valid = node[key] === null;\n                            break;\n\n                        default:\n                            if (typeof fieldType === 'string') {\n                                valid = node[key] && node[key].type === fieldType;\n                            } else if (Array.isArray(fieldType)) {\n                                valid = node[key] instanceof List;\n                            }\n                    }\n                }\n            } else {\n                warn(node, 'Unknown field `' + key + '` for ' + type + ' node type');\n            }\n\n            if (!valid) {\n                warn(node, 'Bad value for `' + type + '.' + key + '`');\n            }\n        }\n\n        for (var key in fields) {\n            if (hasOwnProperty.call(fields, key) &&\n                hasOwnProperty.call(node, key) === false) {\n                warn(node, 'Field `' + type + '.' + key + '` is missed');\n            }\n        }\n    };\n}\n\nfunction processStructure(name, nodeType) {\n    var structure = nodeType.structure;\n    var fields = {\n        type: String,\n        loc: true\n    };\n    var docs = {\n        type: '\"' + name + '\"'\n    };\n\n    for (var key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        var docsTypes = [];\n        var fieldTypes = fields[key] = Array.isArray(structure[key])\n            ? structure[key].slice()\n            : [structure[key]];\n\n        for (var i = 0; i < fieldTypes.length; i++) {\n            var fieldType = fieldTypes[i];\n            if (fieldType === String || fieldType === Boolean) {\n                docsTypes.push(fieldType.name);\n            } else if (fieldType === null) {\n                docsTypes.push('null');\n            } else if (typeof fieldType === 'string') {\n                docsTypes.push('<' + fieldType + '>');\n            } else if (Array.isArray(fieldType)) {\n                docsTypes.push('List'); // TODO: use type enum\n            } else {\n                throw new Error('Wrong value `' + fieldType + '` in `' + name + '.' + key + '` structure definition');\n            }\n        }\n\n        docs[key] = docsTypes.join(' | ');\n    }\n\n    return {\n        docs: docs,\n        check: createNodeStructureChecker(name, fields)\n    };\n}\n\nmodule.exports = {\n    getStructureFromConfig: function(config) {\n        var structure = {};\n\n        if (config.node) {\n            for (var name in config.node) {\n                if (hasOwnProperty.call(config.node, name)) {\n                    var nodeType = config.node[name];\n\n                    if (nodeType.structure) {\n                        structure[name] = processStructure(name, nodeType);\n                    } else {\n                        throw new Error('Missed `structure` field in `' + name + '` node type definition');\n                    }\n                }\n            }\n        }\n\n        return structure;\n    }\n};\n","var SyntaxReferenceError = require('./error').SyntaxReferenceError;\nvar MatchError = require('./error').MatchError;\nvar names = require('../utils/names');\nvar generic = require('./generic');\nvar parse = require('../definition-syntax/parse');\nvar generate = require('../definition-syntax/generate');\nvar walk = require('../definition-syntax/walk');\nvar prepareTokens = require('./prepare-tokens');\nvar buildMatchGraph = require('./match-graph').buildMatchGraph;\nvar matchAsTree = require('./match').matchAsTree;\nvar trace = require('./trace');\nvar search = require('./search');\nvar getStructureFromConfig = require('./structure').getStructureFromConfig;\nvar cssWideKeywords = buildMatchGraph('inherit | initial | unset');\nvar cssWideKeywordsWithExpression = buildMatchGraph('inherit | initial | unset | <-ms-legacy-expression>');\n\nfunction dumpMapSyntax(map, compact, syntaxAsAst) {\n    var result = {};\n\n    for (var name in map) {\n        if (map[name].syntax) {\n            result[name] = syntaxAsAst\n                ? map[name].syntax\n                : generate(map[name].syntax, { compact: compact });\n        }\n    }\n\n    return result;\n}\n\nfunction valueHasVar(tokens) {\n    for (var i = 0; i < tokens.length; i++) {\n        if (tokens[i].value.toLowerCase() === 'var(') {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction buildMatchResult(match, error, iterations) {\n    return {\n        matched: match,\n        iterations: iterations,\n        error: error,\n        getTrace: trace.getTrace,\n        isType: trace.isType,\n        isProperty: trace.isProperty,\n        isKeyword: trace.isKeyword\n    };\n}\n\nfunction matchSyntax(lexer, syntax, value, useCommon) {\n    var tokens = prepareTokens(value, lexer.syntax);\n    var result;\n\n    if (valueHasVar(tokens)) {\n        return buildMatchResult(null, new Error('Matching for a tree with var() is not supported'));\n    }\n\n    if (useCommon) {\n        result = matchAsTree(tokens, lexer.valueCommonSyntax, lexer);\n    }\n\n    if (!useCommon || !result.match) {\n        result = matchAsTree(tokens, syntax.match, lexer);\n        if (!result.match) {\n            return buildMatchResult(\n                null,\n                new MatchError(result.reason, syntax.syntax, value, result),\n                result.iterations\n            );\n        }\n    }\n\n    return buildMatchResult(result.match, null, result.iterations);\n}\n\nvar Lexer = function(config, syntax, structure) {\n    this.valueCommonSyntax = cssWideKeywords;\n    this.syntax = syntax;\n    this.generic = false;\n    this.atrules = {};\n    this.properties = {};\n    this.types = {};\n    this.structure = structure || getStructureFromConfig(config);\n\n    if (config) {\n        if (config.types) {\n            for (var name in config.types) {\n                this.addType_(name, config.types[name]);\n            }\n        }\n\n        if (config.generic) {\n            this.generic = true;\n            for (var name in generic) {\n                this.addType_(name, generic[name]);\n            }\n        }\n\n        if (config.atrules) {\n            for (var name in config.atrules) {\n                this.addAtrule_(name, config.atrules[name]);\n            }\n        }\n\n        if (config.properties) {\n            for (var name in config.properties) {\n                this.addProperty_(name, config.properties[name]);\n            }\n        }\n    }\n};\n\nLexer.prototype = {\n    structure: {},\n    checkStructure: function(ast) {\n        function collectWarning(node, message) {\n            warns.push({\n                node: node,\n                message: message\n            });\n        }\n\n        var structure = this.structure;\n        var warns = [];\n\n        this.syntax.walk(ast, function(node) {\n            if (structure.hasOwnProperty(node.type)) {\n                structure[node.type].check(node, collectWarning);\n            } else {\n                collectWarning(node, 'Unknown node type `' + node.type + '`');\n            }\n        });\n\n        return warns.length ? warns : false;\n    },\n\n    createDescriptor: function(syntax, type, name) {\n        var ref = {\n            type: type,\n            name: name\n        };\n        var descriptor = {\n            type: type,\n            name: name,\n            syntax: null,\n            match: null\n        };\n\n        if (typeof syntax === 'function') {\n            descriptor.match = buildMatchGraph(syntax, ref);\n        } else {\n            if (typeof syntax === 'string') {\n                // lazy parsing on first access\n                Object.defineProperty(descriptor, 'syntax', {\n                    get: function() {\n                        Object.defineProperty(descriptor, 'syntax', {\n                            value: parse(syntax)\n                        });\n\n                        return descriptor.syntax;\n                    }\n                });\n            } else {\n                descriptor.syntax = syntax;\n            }\n\n            // lazy graph build on first access\n            Object.defineProperty(descriptor, 'match', {\n                get: function() {\n                    Object.defineProperty(descriptor, 'match', {\n                        value: buildMatchGraph(descriptor.syntax, ref)\n                    });\n\n                    return descriptor.match;\n                }\n            });\n        }\n\n        return descriptor;\n    },\n    addAtrule_: function(name, syntax) {\n        this.atrules[name] = {\n            prelude: syntax.prelude ? this.createDescriptor(syntax.prelude, 'AtrulePrelude', name) : null,\n            descriptors: syntax.descriptors\n                ? Object.keys(syntax.descriptors).reduce((res, name) => {\n                    res[name] = this.createDescriptor(syntax.descriptors[name], 'AtruleDescriptor', name);\n                    return res;\n                }, {})\n                : null\n        };\n    },\n    addProperty_: function(name, syntax) {\n        this.properties[name] = this.createDescriptor(syntax, 'Property', name);\n    },\n    addType_: function(name, syntax) {\n        this.types[name] = this.createDescriptor(syntax, 'Type', name);\n\n        if (syntax === generic['-ms-legacy-expression']) {\n            this.valueCommonSyntax = cssWideKeywordsWithExpression;\n        }\n    },\n\n    matchAtrulePrelude: function(atruleName, prelude) {\n        var atrule = names.keyword(atruleName);\n\n        var atrulePreludeSyntax = atrule.vendor\n            ? this.getAtrulePrelude(atrule.name) || this.getAtrulePrelude(atrule.basename)\n            : this.getAtrulePrelude(atrule.name);\n\n        if (!atrulePreludeSyntax) {\n            if (atrule.basename in this.atrules) {\n                return buildMatchResult(null, new Error('At-rule `' + atruleName + '` should not contain a prelude'));\n            }\n\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule', atruleName));\n        }\n\n        return matchSyntax(this, atrulePreludeSyntax, prelude, true);\n    },\n    matchAtruleDescriptor: function(atruleName, descriptorName, value) {\n        var atrule = names.keyword(atruleName);\n        var descriptor = names.keyword(descriptorName);\n\n        var atruleEntry = atrule.vendor\n            ? this.atrules[atrule.name] || this.atrules[atrule.basename]\n            : this.atrules[atrule.name];\n\n        if (!atruleEntry) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule', atruleName));\n        }\n\n        if (!atruleEntry.descriptors) {\n            return buildMatchResult(null, new Error('At-rule `' + atruleName + '` has no known descriptors'));\n        }\n\n        var atruleDescriptorSyntax = descriptor.vendor\n            ? atruleEntry.descriptors[descriptor.name] || atruleEntry.descriptors[descriptor.basename]\n            : atruleEntry.descriptors[descriptor.name];\n\n        if (!atruleDescriptorSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule descriptor', descriptorName));\n        }\n\n        return matchSyntax(this, atruleDescriptorSyntax, value, true);\n    },\n    matchDeclaration: function(node) {\n        if (node.type !== 'Declaration') {\n            return buildMatchResult(null, new Error('Not a Declaration node'));\n        }\n\n        return this.matchProperty(node.property, node.value);\n    },\n    matchProperty: function(propertyName, value) {\n        var property = names.property(propertyName);\n\n        // don't match syntax for a custom property\n        if (property.custom) {\n            return buildMatchResult(null, new Error('Lexer matching doesn\\'t applicable for custom properties'));\n        }\n\n        var propertySyntax = property.vendor\n            ? this.getProperty(property.name) || this.getProperty(property.basename)\n            : this.getProperty(property.name);\n\n        if (!propertySyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown property', propertyName));\n        }\n\n        return matchSyntax(this, propertySyntax, value, true);\n    },\n    matchType: function(typeName, value) {\n        var typeSyntax = this.getType(typeName);\n\n        if (!typeSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown type', typeName));\n        }\n\n        return matchSyntax(this, typeSyntax, value, false);\n    },\n    match: function(syntax, value) {\n        if (typeof syntax !== 'string' && (!syntax || !syntax.type)) {\n            return buildMatchResult(null, new SyntaxReferenceError('Bad syntax'));\n        }\n\n        if (typeof syntax === 'string' || !syntax.match) {\n            syntax = this.createDescriptor(syntax, 'Type', 'anonymous');\n        }\n\n        return matchSyntax(this, syntax, value, false);\n    },\n\n    findValueFragments: function(propertyName, value, type, name) {\n        return search.matchFragments(this, value, this.matchProperty(propertyName, value), type, name);\n    },\n    findDeclarationValueFragments: function(declaration, type, name) {\n        return search.matchFragments(this, declaration.value, this.matchDeclaration(declaration), type, name);\n    },\n    findAllFragments: function(ast, type, name) {\n        var result = [];\n\n        this.syntax.walk(ast, {\n            visit: 'Declaration',\n            enter: function(declaration) {\n                result.push.apply(result, this.findDeclarationValueFragments(declaration, type, name));\n            }.bind(this)\n        });\n\n        return result;\n    },\n\n    getAtrulePrelude: function(atruleName) {\n        return this.atrules.hasOwnProperty(atruleName) ? this.atrules[atruleName].prelude : null;\n    },\n    getAtruleDescriptor: function(atruleName, name) {\n        return this.atrules.hasOwnProperty(atruleName) && this.atrules.declarators\n            ? this.atrules[atruleName].declarators[name] || null\n            : null;\n    },\n    getProperty: function(name) {\n        return this.properties.hasOwnProperty(name) ? this.properties[name] : null;\n    },\n    getType: function(name) {\n        return this.types.hasOwnProperty(name) ? this.types[name] : null;\n    },\n\n    validate: function() {\n        function validate(syntax, name, broken, descriptor) {\n            if (broken.hasOwnProperty(name)) {\n                return broken[name];\n            }\n\n            broken[name] = false;\n            if (descriptor.syntax !== null) {\n                walk(descriptor.syntax, function(node) {\n                    if (node.type !== 'Type' && node.type !== 'Property') {\n                        return;\n                    }\n\n                    var map = node.type === 'Type' ? syntax.types : syntax.properties;\n                    var brokenMap = node.type === 'Type' ? brokenTypes : brokenProperties;\n\n                    if (!map.hasOwnProperty(node.name) || validate(syntax, node.name, brokenMap, map[node.name])) {\n                        broken[name] = true;\n                    }\n                }, this);\n            }\n        }\n\n        var brokenTypes = {};\n        var brokenProperties = {};\n\n        for (var key in this.types) {\n            validate(this, key, brokenTypes, this.types[key]);\n        }\n\n        for (var key in this.properties) {\n            validate(this, key, brokenProperties, this.properties[key]);\n        }\n\n        brokenTypes = Object.keys(brokenTypes).filter(function(name) {\n            return brokenTypes[name];\n        });\n        brokenProperties = Object.keys(brokenProperties).filter(function(name) {\n            return brokenProperties[name];\n        });\n\n        if (brokenTypes.length || brokenProperties.length) {\n            return {\n                types: brokenTypes,\n                properties: brokenProperties\n            };\n        }\n\n        return null;\n    },\n    dump: function(syntaxAsAst, pretty) {\n        return {\n            generic: this.generic,\n            types: dumpMapSyntax(this.types, !pretty, syntaxAsAst),\n            properties: dumpMapSyntax(this.properties, !pretty, syntaxAsAst)\n        };\n    },\n    toString: function() {\n        return JSON.stringify(this.dump());\n    }\n};\n\nmodule.exports = Lexer;\n","module.exports = {\n    SyntaxError: require('./SyntaxError'),\n    parse: require('./parse'),\n    generate: require('./generate'),\n    walk: require('./walk')\n};\n","var adoptBuffer = require('./adopt-buffer');\nvar isBOM = require('../tokenizer').isBOM;\n\nvar N = 10;\nvar F = 12;\nvar R = 13;\n\nfunction computeLinesAndColumns(host, source) {\n    var sourceLength = source.length;\n    var lines = adoptBuffer(host.lines, sourceLength); // +1\n    var line = host.startLine;\n    var columns = adoptBuffer(host.columns, sourceLength);\n    var column = host.startColumn;\n    var startOffset = source.length > 0 ? isBOM(source.charCodeAt(0)) : 0;\n\n    for (var i = startOffset; i < sourceLength; i++) { // -1\n        var code = source.charCodeAt(i);\n\n        lines[i] = line;\n        columns[i] = column++;\n\n        if (code === N || code === R || code === F) {\n            if (code === R && i + 1 < sourceLength && source.charCodeAt(i + 1) === N) {\n                i++;\n                lines[i] = line;\n                columns[i] = column;\n            }\n\n            line++;\n            column = 1;\n        }\n    }\n\n    lines[i] = line;\n    columns[i] = column;\n\n    host.lines = lines;\n    host.columns = columns;\n}\n\nvar OffsetToLocation = function() {\n    this.lines = null;\n    this.columns = null;\n    this.linesAndColumnsComputed = false;\n};\n\nOffsetToLocation.prototype = {\n    setSource: function(source, startOffset, startLine, startColumn) {\n        this.source = source;\n        this.startOffset = typeof startOffset === 'undefined' ? 0 : startOffset;\n        this.startLine = typeof startLine === 'undefined' ? 1 : startLine;\n        this.startColumn = typeof startColumn === 'undefined' ? 1 : startColumn;\n        this.linesAndColumnsComputed = false;\n    },\n\n    ensureLinesAndColumnsComputed: function() {\n        if (!this.linesAndColumnsComputed) {\n            computeLinesAndColumns(this, this.source);\n            this.linesAndColumnsComputed = true;\n        }\n    },\n    getLocation: function(offset, filename) {\n        this.ensureLinesAndColumnsComputed();\n\n        return {\n            source: filename,\n            offset: this.startOffset + offset,\n            line: this.lines[offset],\n            column: this.columns[offset]\n        };\n    },\n    getLocationRange: function(start, end, filename) {\n        this.ensureLinesAndColumnsComputed();\n\n        return {\n            source: filename,\n            start: {\n                offset: this.startOffset + start,\n                line: this.lines[start],\n                column: this.columns[start]\n            },\n            end: {\n                offset: this.startOffset + end,\n                line: this.lines[end],\n                column: this.columns[end]\n            }\n        };\n    }\n};\n\nmodule.exports = OffsetToLocation;\n","var TYPE = require('../tokenizer').TYPE;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\n\nmodule.exports = function readSequence(recognizer) {\n    var children = this.createList();\n    var child = null;\n    var context = {\n        recognizer: recognizer,\n        space: null,\n        ignoreWS: false,\n        ignoreWSAfter: false\n    };\n\n    this.scanner.skipSC();\n\n    while (!this.scanner.eof) {\n        switch (this.scanner.tokenType) {\n            case COMMENT:\n                this.scanner.next();\n                continue;\n\n            case WHITESPACE:\n                if (context.ignoreWS) {\n                    this.scanner.next();\n                } else {\n                    context.space = this.WhiteSpace();\n                }\n                continue;\n        }\n\n        child = recognizer.getNode.call(this, context);\n\n        if (child === undefined) {\n            break;\n        }\n\n        if (context.space !== null) {\n            children.push(context.space);\n            context.space = null;\n        }\n\n        children.push(child);\n\n        if (context.ignoreWSAfter) {\n            context.ignoreWSAfter = false;\n            context.ignoreWS = true;\n        } else {\n            context.ignoreWS = false;\n        }\n    }\n\n    return children;\n};\n","var OffsetToLocation = require('../common/OffsetToLocation');\nvar SyntaxError = require('../common/SyntaxError');\nvar TokenStream = require('../common/TokenStream');\nvar List = require('../common/List');\nvar tokenize = require('../tokenizer');\nvar constants = require('../tokenizer/const');\nvar findWhiteSpaceStart = require('../tokenizer/utils').findWhiteSpaceStart;\nvar sequence = require('./sequence');\nvar noop = function() {};\n\nvar TYPE = constants.TYPE;\nvar NAME = constants.NAME;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar HASH = TYPE.Hash;\nvar PERCENTAGE = TYPE.Percentage;\nvar NUMBER = TYPE.Number;\nvar NUMBERSIGN = 0x0023; // U+0023 NUMBER SIGN (#)\nvar NULL = 0;\n\nfunction createParseContext(name) {\n    return function() {\n        return this[name]();\n    };\n}\n\nfunction processConfig(config) {\n    var parserConfig = {\n        context: {},\n        scope: {},\n        atrule: {},\n        pseudo: {}\n    };\n\n    if (config.parseContext) {\n        for (var name in config.parseContext) {\n            switch (typeof config.parseContext[name]) {\n                case 'function':\n                    parserConfig.context[name] = config.parseContext[name];\n                    break;\n\n                case 'string':\n                    parserConfig.context[name] = createParseContext(config.parseContext[name]);\n                    break;\n            }\n        }\n    }\n\n    if (config.scope) {\n        for (var name in config.scope) {\n            parserConfig.scope[name] = config.scope[name];\n        }\n    }\n\n    if (config.atrule) {\n        for (var name in config.atrule) {\n            var atrule = config.atrule[name];\n\n            if (atrule.parse) {\n                parserConfig.atrule[name] = atrule.parse;\n            }\n        }\n    }\n\n    if (config.pseudo) {\n        for (var name in config.pseudo) {\n            var pseudo = config.pseudo[name];\n\n            if (pseudo.parse) {\n                parserConfig.pseudo[name] = pseudo.parse;\n            }\n        }\n    }\n\n    if (config.node) {\n        for (var name in config.node) {\n            parserConfig[name] = config.node[name].parse;\n        }\n    }\n\n    return parserConfig;\n}\n\nmodule.exports = function createParser(config) {\n    var parser = {\n        scanner: new TokenStream(),\n        locationMap: new OffsetToLocation(),\n\n        filename: '<unknown>',\n        needPositions: false,\n        onParseError: noop,\n        onParseErrorThrow: false,\n        parseAtrulePrelude: true,\n        parseRulePrelude: true,\n        parseValue: true,\n        parseCustomProperty: false,\n\n        readSequence: sequence,\n\n        createList: function() {\n            return new List();\n        },\n        createSingleNodeList: function(node) {\n            return new List().appendData(node);\n        },\n        getFirstListNode: function(list) {\n            return list && list.first();\n        },\n        getLastListNode: function(list) {\n            return list.last();\n        },\n\n        parseWithFallback: function(consumer, fallback) {\n            var startToken = this.scanner.tokenIndex;\n\n            try {\n                return consumer.call(this);\n            } catch (e) {\n                if (this.onParseErrorThrow) {\n                    throw e;\n                }\n\n                var fallbackNode = fallback.call(this, startToken);\n\n                this.onParseErrorThrow = true;\n                this.onParseError(e, fallbackNode);\n                this.onParseErrorThrow = false;\n\n                return fallbackNode;\n            }\n        },\n\n        lookupNonWSType: function(offset) {\n            do {\n                var type = this.scanner.lookupType(offset++);\n                if (type !== WHITESPACE) {\n                    return type;\n                }\n            } while (type !== NULL);\n\n            return NULL;\n        },\n\n        eat: function(tokenType) {\n            if (this.scanner.tokenType !== tokenType) {\n                var offset = this.scanner.tokenStart;\n                var message = NAME[tokenType] + ' is expected';\n\n                // tweak message and offset\n                switch (tokenType) {\n                    case IDENT:\n                        // when identifier is expected but there is a function or url\n                        if (this.scanner.tokenType === FUNCTION || this.scanner.tokenType === URL) {\n                            offset = this.scanner.tokenEnd - 1;\n                            message = 'Identifier is expected but function found';\n                        } else {\n                            message = 'Identifier is expected';\n                        }\n                        break;\n\n                    case HASH:\n                        if (this.scanner.isDelim(NUMBERSIGN)) {\n                            this.scanner.next();\n                            offset++;\n                            message = 'Name is expected';\n                        }\n                        break;\n\n                    case PERCENTAGE:\n                        if (this.scanner.tokenType === NUMBER) {\n                            offset = this.scanner.tokenEnd;\n                            message = 'Percent sign is expected';\n                        }\n                        break;\n\n                    default:\n                        // when test type is part of another token show error for current position + 1\n                        // e.g. eat(HYPHENMINUS) will fail on \"-foo\", but pointing on \"-\" is odd\n                        if (this.scanner.source.charCodeAt(this.scanner.tokenStart) === tokenType) {\n                            offset = offset + 1;\n                        }\n                }\n\n                this.error(message, offset);\n            }\n\n            this.scanner.next();\n        },\n\n        consume: function(tokenType) {\n            var value = this.scanner.getTokenValue();\n\n            this.eat(tokenType);\n\n            return value;\n        },\n        consumeFunctionName: function() {\n            var name = this.scanner.source.substring(this.scanner.tokenStart, this.scanner.tokenEnd - 1);\n\n            this.eat(FUNCTION);\n\n            return name;\n        },\n\n        getLocation: function(start, end) {\n            if (this.needPositions) {\n                return this.locationMap.getLocationRange(\n                    start,\n                    end,\n                    this.filename\n                );\n            }\n\n            return null;\n        },\n        getLocationFromList: function(list) {\n            if (this.needPositions) {\n                var head = this.getFirstListNode(list);\n                var tail = this.getLastListNode(list);\n                return this.locationMap.getLocationRange(\n                    head !== null ? head.loc.start.offset - this.locationMap.startOffset : this.scanner.tokenStart,\n                    tail !== null ? tail.loc.end.offset - this.locationMap.startOffset : this.scanner.tokenStart,\n                    this.filename\n                );\n            }\n\n            return null;\n        },\n\n        error: function(message, offset) {\n            var location = typeof offset !== 'undefined' && offset < this.scanner.source.length\n                ? this.locationMap.getLocation(offset)\n                : this.scanner.eof\n                    ? this.locationMap.getLocation(findWhiteSpaceStart(this.scanner.source, this.scanner.source.length - 1))\n                    : this.locationMap.getLocation(this.scanner.tokenStart);\n\n            throw new SyntaxError(\n                message || 'Unexpected input',\n                this.scanner.source,\n                location.offset,\n                location.line,\n                location.column\n            );\n        }\n    };\n\n    config = processConfig(config || {});\n    for (var key in config) {\n        parser[key] = config[key];\n    }\n\n    return function(source, options) {\n        options = options || {};\n\n        var context = options.context || 'default';\n        var ast;\n\n        tokenize(source, parser.scanner);\n        parser.locationMap.setSource(\n            source,\n            options.offset,\n            options.line,\n            options.column\n        );\n\n        parser.filename = options.filename || '<unknown>';\n        parser.needPositions = Boolean(options.positions);\n        parser.onParseError = typeof options.onParseError === 'function' ? options.onParseError : noop;\n        parser.onParseErrorThrow = false;\n        parser.parseAtrulePrelude = 'parseAtrulePrelude' in options ? Boolean(options.parseAtrulePrelude) : true;\n        parser.parseRulePrelude = 'parseRulePrelude' in options ? Boolean(options.parseRulePrelude) : true;\n        parser.parseValue = 'parseValue' in options ? Boolean(options.parseValue) : true;\n        parser.parseCustomProperty = 'parseCustomProperty' in options ? Boolean(options.parseCustomProperty) : false;\n\n        if (!parser.context.hasOwnProperty(context)) {\n            throw new Error('Unknown context `' + context + '`');\n        }\n\n        ast = parser.context[context].call(parser, options);\n\n        if (!parser.scanner.eof) {\n            parser.error();\n        }\n\n        return ast;\n    };\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   “sources” entry.  This value is prepended to the individual\n    //   entries in the “source” field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   “sourceRoot”, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","var SourceMapGenerator = require('source-map/lib/source-map-generator').SourceMapGenerator;\nvar trackNodes = {\n    Atrule: true,\n    Selector: true,\n    Declaration: true\n};\n\nmodule.exports = function generateSourceMap(handlers) {\n    var map = new SourceMapGenerator();\n    var line = 1;\n    var column = 0;\n    var generated = {\n        line: 1,\n        column: 0\n    };\n    var original = {\n        line: 0, // should be zero to add first mapping\n        column: 0\n    };\n    var sourceMappingActive = false;\n    var activatedGenerated = {\n        line: 1,\n        column: 0\n    };\n    var activatedMapping = {\n        generated: activatedGenerated\n    };\n\n    var handlersNode = handlers.node;\n    handlers.node = function(node) {\n        if (node.loc && node.loc.start && trackNodes.hasOwnProperty(node.type)) {\n            var nodeLine = node.loc.start.line;\n            var nodeColumn = node.loc.start.column - 1;\n\n            if (original.line !== nodeLine ||\n                original.column !== nodeColumn) {\n                original.line = nodeLine;\n                original.column = nodeColumn;\n\n                generated.line = line;\n                generated.column = column;\n\n                if (sourceMappingActive) {\n                    sourceMappingActive = false;\n                    if (generated.line !== activatedGenerated.line ||\n                        generated.column !== activatedGenerated.column) {\n                        map.addMapping(activatedMapping);\n                    }\n                }\n\n                sourceMappingActive = true;\n                map.addMapping({\n                    source: node.loc.source,\n                    original: original,\n                    generated: generated\n                });\n            }\n        }\n\n        handlersNode.call(this, node);\n\n        if (sourceMappingActive && trackNodes.hasOwnProperty(node.type)) {\n            activatedGenerated.line = line;\n            activatedGenerated.column = column;\n        }\n    };\n\n    var handlersChunk = handlers.chunk;\n    handlers.chunk = function(chunk) {\n        for (var i = 0; i < chunk.length; i++) {\n            if (chunk.charCodeAt(i) === 10) { // \\n\n                line++;\n                column = 0;\n            } else {\n                column++;\n            }\n        }\n\n        handlersChunk(chunk);\n    };\n\n    var handlersResult = handlers.result;\n    handlers.result = function() {\n        if (sourceMappingActive) {\n            map.addMapping(activatedMapping);\n        }\n\n        return {\n            css: handlersResult(),\n            map: map\n        };\n    };\n\n    return handlers;\n};\n","var sourceMap = require('./sourceMap');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction processChildren(node, delimeter) {\n    var list = node.children;\n    var prev = null;\n\n    if (typeof delimeter !== 'function') {\n        list.forEach(this.node, this);\n    } else {\n        list.forEach(function(node) {\n            if (prev !== null) {\n                delimeter.call(this, prev);\n            }\n\n            this.node(node);\n            prev = node;\n        }, this);\n    }\n}\n\nmodule.exports = function createGenerator(config) {\n    function processNode(node) {\n        if (hasOwnProperty.call(types, node.type)) {\n            types[node.type].call(this, node);\n        } else {\n            throw new Error('Unknown node type: ' + node.type);\n        }\n    }\n\n    var types = {};\n\n    if (config.node) {\n        for (var name in config.node) {\n            types[name] = config.node[name].generate;\n        }\n    }\n\n    return function(node, options) {\n        var buffer = '';\n        var handlers = {\n            children: processChildren,\n            node: processNode,\n            chunk: function(chunk) {\n                buffer += chunk;\n            },\n            result: function() {\n                return buffer;\n            }\n        };\n\n        if (options) {\n            if (typeof options.decorator === 'function') {\n                handlers = options.decorator(handlers);\n            }\n\n            if (options.sourceMap) {\n                handlers = sourceMap(handlers);\n            }\n        }\n\n        handlers.node(node);\n\n        return handlers.result();\n    };\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nfunction invokeForType(fn, type) {\n    return function(node, item, list) {\n        if (node.type === type) {\n            fn.call(this, node, item, list);\n        }\n    };\n}\n\nfunction getWalkersFromStructure(name, nodeType) {\n    var structure = nodeType.structure;\n    var walkers = [];\n\n    for (var key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        var fieldTypes = structure[key];\n        var walker = {\n            name: key,\n            type: false,\n            nullable: false\n        };\n\n        if (!Array.isArray(structure[key])) {\n            fieldTypes = [structure[key]];\n        }\n\n        for (var i = 0; i < fieldTypes.length; i++) {\n            var fieldType = fieldTypes[i];\n            if (fieldType === null) {\n                walker.nullable = true;\n            } else if (typeof fieldType === 'string') {\n                walker.type = 'node';\n            } else if (Array.isArray(fieldType)) {\n                walker.type = 'list';\n            }\n        }\n\n        if (walker.type) {\n            walkers.push(walker);\n        }\n    }\n\n    if (walkers.length) {\n        return {\n            context: nodeType.walkContext,\n            fields: walkers\n        };\n    }\n\n    return null;\n}\n\nfunction getTypesFromConfig(config) {\n    var types = {};\n\n    for (var name in config.node) {\n        if (hasOwnProperty.call(config.node, name)) {\n            var nodeType = config.node[name];\n\n            if (!nodeType.structure) {\n                throw new Error('Missed `structure` field in `' + name + '` node type definition');\n            }\n\n            types[name] = getWalkersFromStructure(name, nodeType);\n        }\n    }\n\n    return types;\n}\n\nfunction createTypeIterator(config, reverse) {\n    var fields = config.fields.slice();\n    var contextName = config.context;\n    var useContext = typeof contextName === 'string';\n\n    if (reverse) {\n        fields.reverse();\n    }\n\n    return function(node, context, walk) {\n        var prevContextValue;\n\n        if (useContext) {\n            prevContextValue = context[contextName];\n            context[contextName] = node;\n        }\n\n        for (var i = 0; i < fields.length; i++) {\n            var field = fields[i];\n            var ref = node[field.name];\n\n            if (!field.nullable || ref) {\n                if (field.type === 'list') {\n                    if (reverse) {\n                        ref.forEachRight(walk);\n                    } else {\n                        ref.forEach(walk);\n                    }\n                } else {\n                    walk(ref);\n                }\n            }\n        }\n\n        if (useContext) {\n            context[contextName] = prevContextValue;\n        }\n    };\n}\n\nfunction createFastTraveralMap(iterators) {\n    return {\n        Atrule: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block\n        },\n        Rule: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block\n        },\n        Declaration: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block,\n            DeclarationList: iterators.DeclarationList\n        }\n    };\n}\n\nmodule.exports = function createWalker(config) {\n    var types = getTypesFromConfig(config);\n    var iteratorsNatural = {};\n    var iteratorsReverse = {};\n\n    for (var name in types) {\n        if (hasOwnProperty.call(types, name) && types[name] !== null) {\n            iteratorsNatural[name] = createTypeIterator(types[name], false);\n            iteratorsReverse[name] = createTypeIterator(types[name], true);\n        }\n    }\n\n    var fastTraversalIteratorsNatural = createFastTraveralMap(iteratorsNatural);\n    var fastTraversalIteratorsReverse = createFastTraveralMap(iteratorsReverse);\n\n    var walk = function(root, options) {\n        function walkNode(node, item, list) {\n            enter.call(context, node, item, list);\n\n            if (iterators.hasOwnProperty(node.type)) {\n                iterators[node.type](node, context, walkNode);\n            }\n\n            leave.call(context, node, item, list);\n        }\n\n        var enter = noop;\n        var leave = noop;\n        var iterators = iteratorsNatural;\n        var context = {\n            root: root,\n            stylesheet: null,\n            atrule: null,\n            atrulePrelude: null,\n            rule: null,\n            selector: null,\n            block: null,\n            declaration: null,\n            function: null\n        };\n\n        if (typeof options === 'function') {\n            enter = options;\n        } else if (options) {\n            enter = ensureFunction(options.enter);\n            leave = ensureFunction(options.leave);\n\n            if (options.reverse) {\n                iterators = iteratorsReverse;\n            }\n\n            if (options.visit) {\n                if (fastTraversalIteratorsNatural.hasOwnProperty(options.visit)) {\n                    iterators = options.reverse\n                        ? fastTraversalIteratorsReverse[options.visit]\n                        : fastTraversalIteratorsNatural[options.visit];\n                } else if (!types.hasOwnProperty(options.visit)) {\n                    throw new Error('Bad value `' + options.visit + '` for `visit` option (should be: ' + Object.keys(types).join(', ') + ')');\n                }\n\n                enter = invokeForType(enter, options.visit);\n                leave = invokeForType(leave, options.visit);\n            }\n        }\n\n        if (enter === noop && leave === noop) {\n            throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n        }\n\n        // swap handlers in reverse mode to invert visit order\n        if (options.reverse) {\n            var tmp = enter;\n            enter = leave;\n            leave = tmp;\n        }\n\n        walkNode(root);\n    };\n\n    walk.find = function(ast, fn) {\n        var found = null;\n\n        walk(ast, function(node, item, list) {\n            if (found === null && fn.call(this, node, item, list)) {\n                found = node;\n            }\n        });\n\n        return found;\n    };\n\n    walk.findLast = function(ast, fn) {\n        var found = null;\n\n        walk(ast, {\n            reverse: true,\n            enter: function(node, item, list) {\n                if (found === null && fn.call(this, node, item, list)) {\n                    found = node;\n                }\n            }\n        });\n\n        return found;\n    };\n\n    walk.findAll = function(ast, fn) {\n        var found = [];\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found.push(node);\n            }\n        });\n\n        return found;\n    };\n\n    return walk;\n};\n","var List = require('../common/List');\n\nmodule.exports = function clone(node) {\n    var result = {};\n\n    for (var key in node) {\n        var value = node[key];\n\n        if (value) {\n            if (Array.isArray(value) || value instanceof List) {\n                value = value.map(clone);\n            } else if (value.constructor === Object) {\n                value = clone(value);\n            }\n        }\n\n        result[key] = value;\n    }\n\n    return result;\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar shape = {\n    generic: true,\n    types: {},\n    atrules: {},\n    properties: {},\n    parseContext: {},\n    scope: {},\n    atrule: ['parse'],\n    pseudo: ['parse'],\n    node: ['name', 'structure', 'parse', 'generate', 'walkContext']\n};\n\nfunction isObject(value) {\n    return value && value.constructor === Object;\n}\n\nfunction copy(value) {\n    if (isObject(value)) {\n        return Object.assign({}, value);\n    } else {\n        return value;\n    }\n}\nfunction extend(dest, src) {\n    for (var key in src) {\n        if (hasOwnProperty.call(src, key)) {\n            if (isObject(dest[key])) {\n                extend(dest[key], copy(src[key]));\n            } else {\n                dest[key] = copy(src[key]);\n            }\n        }\n    }\n}\n\nfunction mix(dest, src, shape) {\n    for (var key in shape) {\n        if (hasOwnProperty.call(shape, key) === false) {\n            continue;\n        }\n\n        if (shape[key] === true) {\n            if (key in src) {\n                if (hasOwnProperty.call(src, key)) {\n                    dest[key] = copy(src[key]);\n                }\n            }\n        } else if (shape[key]) {\n            if (isObject(shape[key])) {\n                var res = {};\n                extend(res, dest[key]);\n                extend(res, src[key]);\n                dest[key] = res;\n            } else if (Array.isArray(shape[key])) {\n                var res = {};\n                var innerShape = shape[key].reduce(function(s, k) {\n                    s[k] = true;\n                    return s;\n                }, {});\n                for (var name in dest[key]) {\n                    if (hasOwnProperty.call(dest[key], name)) {\n                        res[name] = {};\n                        if (dest[key] && dest[key][name]) {\n                            mix(res[name], dest[key][name], innerShape);\n                        }\n                    }\n                }\n                for (var name in src[key]) {\n                    if (hasOwnProperty.call(src[key], name)) {\n                        if (!res[name]) {\n                            res[name] = {};\n                        }\n                        if (src[key] && src[key][name]) {\n                            mix(res[name], src[key][name], innerShape);\n                        }\n                    }\n                }\n                dest[key] = res;\n            }\n        }\n    }\n    return dest;\n}\n\nmodule.exports = function(dest, src) {\n    return mix(dest, src, shape);\n};\n","var List = require('../common/List');\nvar SyntaxError = require('../common/SyntaxError');\nvar TokenStream = require('../common/TokenStream');\nvar Lexer = require('../lexer/Lexer');\nvar definitionSyntax = require('../definition-syntax');\nvar tokenize = require('../tokenizer');\nvar createParser = require('../parser/create');\nvar createGenerator = require('../generator/create');\nvar createConvertor = require('../convertor/create');\nvar createWalker = require('../walker/create');\nvar clone = require('../utils/clone');\nvar names = require('../utils/names');\nvar mix = require('./config/mix');\n\nfunction createSyntax(config) {\n    var parse = createParser(config);\n    var walk = createWalker(config);\n    var generate = createGenerator(config);\n    var convert = createConvertor(walk);\n\n    var syntax = {\n        List: List,\n        SyntaxError: SyntaxError,\n        TokenStream: TokenStream,\n        Lexer: Lexer,\n\n        vendorPrefix: names.vendorPrefix,\n        keyword: names.keyword,\n        property: names.property,\n        isCustomProperty: names.isCustomProperty,\n\n        definitionSyntax: definitionSyntax,\n        lexer: null,\n        createLexer: function(config) {\n            return new Lexer(config, syntax, syntax.lexer.structure);\n        },\n\n        tokenize: tokenize,\n        parse: parse,\n        walk: walk,\n        generate: generate,\n\n        find: walk.find,\n        findLast: walk.findLast,\n        findAll: walk.findAll,\n\n        clone: clone,\n        fromPlainObject: convert.fromPlainObject,\n        toPlainObject: convert.toPlainObject,\n\n        createSyntax: function(config) {\n            return createSyntax(mix({}, config));\n        },\n        fork: function(extension) {\n            var base = mix({}, config); // copy of config\n            return createSyntax(\n                typeof extension === 'function'\n                    ? extension(base, Object.assign)\n                    : mix(base, extension)\n            );\n        }\n    };\n\n    syntax.lexer = new Lexer({\n        generic: true,\n        types: config.types,\n        atrules: config.atrules,\n        properties: config.properties,\n        node: config.node\n    }, syntax);\n\n    return syntax;\n};\n\nexports.create = function(config) {\n    return createSyntax(mix({}, config));\n};\n","var List = require('../common/List');\n\nmodule.exports = function createConvertors(walk) {\n    return {\n        fromPlainObject: function(ast) {\n            walk(ast, {\n                enter: function(node) {\n                    if (node.children && node.children instanceof List === false) {\n                        node.children = new List().fromArray(node.children);\n                    }\n                }\n            });\n\n            return ast;\n        },\n        toPlainObject: function(ast) {\n            walk(ast, {\n                leave: function(node) {\n                    if (node.children && node.children instanceof List) {\n                        node.children = node.children.toArray();\n                    }\n                }\n            });\n\n            return ast;\n        }\n    };\n};\n","var mdnAtrules = require('mdn-data/css/at-rules.json');\nvar mdnProperties = require('mdn-data/css/properties.json');\nvar mdnSyntaxes = require('mdn-data/css/syntaxes.json');\nvar patch = require('./patch.json');\n\nfunction preprocessAtrules(dict) {\n    var result = Object.create(null);\n\n    for (var atruleName in dict) {\n        var atrule = dict[atruleName];\n        var descriptors = null;\n\n        if (atrule.descriptors) {\n            descriptors = Object.create(null);\n\n            for (var descriptor in atrule.descriptors) {\n                descriptors[descriptor] = atrule.descriptors[descriptor].syntax;\n            }\n        }\n\n        result[atruleName.substr(1)] = {\n            prelude: atrule.syntax.trim().match(/^@\\S+\\s+([^;\\{]*)/)[1].trim() || null,\n            descriptors\n        };\n    }\n\n    return result;\n}\n\nfunction buildDictionary(dict, patchDict) {\n    var result = {};\n\n    // copy all syntaxes for an original dict\n    for (var key in dict) {\n        result[key] = dict[key].syntax;\n    }\n\n    // apply a patch\n    for (var key in patchDict) {\n        if (key in dict) {\n            if (patchDict[key].syntax) {\n                result[key] = patchDict[key].syntax;\n            } else {\n                delete result[key];\n            }\n        } else {\n            if (patchDict[key].syntax) {\n                result[key] = patchDict[key].syntax;\n            }\n        }\n    }\n\n    return result;\n}\n\nmodule.exports = {\n    types: buildDictionary(mdnSyntaxes, patch.syntaxes),\n    atrules: preprocessAtrules(mdnAtrules),\n    properties: buildDictionary(mdnProperties, patch.properties)\n};\n","var cmpChar = require('../../tokenizer').cmpChar;\nvar isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction checkInteger(offset, disallowSign) {\n    var pos = this.scanner.tokenStart + offset;\n    var code = this.scanner.source.charCodeAt(pos);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            this.error('Number sign is not allowed');\n        }\n        pos++;\n    }\n\n    for (; pos < this.scanner.tokenEnd; pos++) {\n        if (!isDigit(this.scanner.source.charCodeAt(pos))) {\n            this.error('Integer is expected', pos);\n        }\n    }\n}\n\nfunction checkTokenIsInteger(disallowSign) {\n    return checkInteger.call(this, 0, disallowSign);\n}\n\nfunction expectCharCode(offset, code) {\n    if (!cmpChar(this.scanner.source, this.scanner.tokenStart + offset, code)) {\n        var msg = '';\n\n        switch (code) {\n            case N:\n                msg = 'N is expected';\n                break;\n            case HYPHENMINUS:\n                msg = 'HyphenMinus is expected';\n                break;\n        }\n\n        this.error(msg, this.scanner.tokenStart + offset);\n    }\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB() {\n    var offset = 0;\n    var sign = 0;\n    var type = this.scanner.tokenType;\n\n    while (type === WHITESPACE || type === COMMENT) {\n        type = this.scanner.lookupType(++offset);\n    }\n\n    if (type !== NUMBER) {\n        if (this.scanner.isDelim(PLUSSIGN, offset) ||\n            this.scanner.isDelim(HYPHENMINUS, offset)) {\n            sign = this.scanner.isDelim(PLUSSIGN, offset) ? PLUSSIGN : HYPHENMINUS;\n\n            do {\n                type = this.scanner.lookupType(++offset);\n            } while (type === WHITESPACE || type === COMMENT);\n\n            if (type !== NUMBER) {\n                this.scanner.skip(offset);\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n            }\n        } else {\n            return null;\n        }\n    }\n\n    if (offset > 0) {\n        this.scanner.skip(offset);\n    }\n\n    if (sign === 0) {\n        type = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n        if (type !== PLUSSIGN && type !== HYPHENMINUS) {\n            this.error('Number sign is expected');\n        }\n    }\n\n    checkTokenIsInteger.call(this, sign !== 0);\n    return sign === HYPHENMINUS ? '-' + this.consume(NUMBER) : this.consume(NUMBER);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = {\n    name: 'AnPlusB',\n    structure: {\n        a: [String, null],\n        b: [String, null]\n    },\n    parse: function() {\n        /* eslint-disable brace-style*/\n        var start = this.scanner.tokenStart;\n        var a = null;\n        var b = null;\n\n        // <integer>\n        if (this.scanner.tokenType === NUMBER) {\n            checkTokenIsInteger.call(this, ALLOW_SIGN);\n            b = this.consume(NUMBER);\n        }\n\n        // -n\n        // -n <signed-integer>\n        // -n ['+' | '-'] <signless-integer>\n        // -n- <signless-integer>\n        // <dashndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT && cmpChar(this.scanner.source, this.scanner.tokenStart, HYPHENMINUS)) {\n            a = '-1';\n\n            expectCharCode.call(this, 1, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // -n\n                // -n <signed-integer>\n                // -n ['+' | '-'] <signless-integer>\n                case 2:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // -n- <signless-integer>\n                case 3:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // <dashndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n                    checkInteger.call(this, 3, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + 2);\n            }\n        }\n\n        // '+'? n\n        // '+'? n <signed-integer>\n        // '+'? n ['+' | '-'] <signless-integer>\n        // '+'? n- <signless-integer>\n        // '+'? <ndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT || (this.scanner.isDelim(PLUSSIGN) && this.scanner.lookupType(1) === IDENT)) {\n            var sign = 0;\n            a = '1';\n\n            // just ignore a plus\n            if (this.scanner.isDelim(PLUSSIGN)) {\n                sign = 1;\n                this.scanner.next();\n            }\n\n            expectCharCode.call(this, 0, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // '+'? n\n                // '+'? n <signed-integer>\n                // '+'? n ['+' | '-'] <signless-integer>\n                case 1:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // '+'? n- <signless-integer>\n                case 2:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // '+'? <ndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n                    checkInteger.call(this, 2, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + sign + 1);\n            }\n        }\n\n        // <ndashdigit-dimension>\n        // <ndash-dimension> <signless-integer>\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        else if (this.scanner.tokenType === DIMENSION) {\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n            var sign = code === PLUSSIGN || code === HYPHENMINUS;\n\n            for (var i = this.scanner.tokenStart + sign; i < this.scanner.tokenEnd; i++) {\n                if (!isDigit(this.scanner.source.charCodeAt(i))) {\n                    break;\n                }\n            }\n\n            if (i === this.scanner.tokenStart + sign) {\n                this.error('Integer is expected', this.scanner.tokenStart + sign);\n            }\n\n            expectCharCode.call(this, i - this.scanner.tokenStart, N);\n            a = this.scanner.source.substring(start, i);\n\n            // <n-dimension>\n            // <n-dimension> <signed-integer>\n            // <n-dimension> ['+' | '-'] <signless-integer>\n            if (i + 1 === this.scanner.tokenEnd) {\n                this.scanner.next();\n                b = consumeB.call(this);\n            } else {\n                expectCharCode.call(this, i - this.scanner.tokenStart + 1, HYPHENMINUS);\n\n                // <ndash-dimension> <signless-integer>\n                if (i + 2 === this.scanner.tokenEnd) {\n                    this.scanner.next();\n                    this.scanner.skipSC();\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n                    b = '-' + this.consume(NUMBER);\n                }\n                // <ndashdigit-dimension>\n                else {\n                    checkInteger.call(this, i - this.scanner.tokenStart + 2, DISALLOW_SIGN);\n                    this.scanner.next();\n                    b = this.scanner.substrToCursor(i + 1);\n                }\n            }\n        } else {\n            this.error();\n        }\n\n        if (a !== null && a.charCodeAt(0) === PLUSSIGN) {\n            a = a.substr(1);\n        }\n\n        if (b !== null && b.charCodeAt(0) === PLUSSIGN) {\n            b = b.substr(1);\n        }\n\n        return {\n            type: 'AnPlusB',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            a: a,\n            b: b\n        };\n    },\n    generate: function(node) {\n        var a = node.a !== null && node.a !== undefined;\n        var b = node.b !== null && node.b !== undefined;\n\n        if (a) {\n            this.chunk(\n                node.a === '+1' ? '+n' : // eslint-disable-line operator-linebreak, indent\n                node.a ===  '1' ?  'n' : // eslint-disable-line operator-linebreak, indent\n                node.a === '-1' ? '-n' : // eslint-disable-line operator-linebreak, indent\n                node.a + 'n'             // eslint-disable-line operator-linebreak, indent\n            );\n\n            if (b) {\n                b = String(node.b);\n                if (b.charAt(0) === '-' || b.charAt(0) === '+') {\n                    this.chunk(b.charAt(0));\n                    this.chunk(b.substr(1));\n                } else {\n                    this.chunk('+');\n                    this.chunk(b);\n                }\n            }\n        } else {\n            this.chunk(String(node.b));\n        }\n    }\n};\n","var tokenizer = require('../../tokenizer');\nvar TYPE = tokenizer.TYPE;\n\nvar WhiteSpace = TYPE.WhiteSpace;\nvar Semicolon = TYPE.Semicolon;\nvar LeftCurlyBracket = TYPE.LeftCurlyBracket;\nvar Delim = TYPE.Delim;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction getOffsetExcludeWS() {\n    if (this.scanner.tokenIndex > 0) {\n        if (this.scanner.lookupType(-1) === WhiteSpace) {\n            return this.scanner.tokenIndex > 1\n                ? this.scanner.getTokenStart(this.scanner.tokenIndex - 1)\n                : this.scanner.firstCharOffset;\n        }\n    }\n\n    return this.scanner.tokenStart;\n}\n\n// 0, 0, false\nfunction balanceEnd() {\n    return 0;\n}\n\n// LEFTCURLYBRACKET, 0, false\nfunction leftCurlyBracket(tokenType) {\n    return tokenType === LeftCurlyBracket ? 1 : 0;\n}\n\n// LEFTCURLYBRACKET, SEMICOLON, false\nfunction leftCurlyBracketOrSemicolon(tokenType) {\n    return tokenType === LeftCurlyBracket || tokenType === Semicolon ? 1 : 0;\n}\n\n// EXCLAMATIONMARK, SEMICOLON, false\nfunction exclamationMarkOrSemicolon(tokenType, source, offset) {\n    if (tokenType === Delim && source.charCodeAt(offset) === EXCLAMATIONMARK) {\n        return 1;\n    }\n\n    return tokenType === Semicolon ? 1 : 0;\n}\n\n// 0, SEMICOLON, true\nfunction semicolonIncluded(tokenType) {\n    return tokenType === Semicolon ? 2 : 0;\n}\n\nmodule.exports = {\n    name: 'Raw',\n    structure: {\n        value: String\n    },\n    parse: function(startToken, mode, excludeWhiteSpace) {\n        var startOffset = this.scanner.getTokenStart(startToken);\n        var endOffset;\n\n        this.scanner.skip(\n            this.scanner.getRawLength(startToken, mode || balanceEnd)\n        );\n\n        if (excludeWhiteSpace && this.scanner.tokenStart > startOffset) {\n            endOffset = getOffsetExcludeWS.call(this);\n        } else {\n            endOffset = this.scanner.tokenStart;\n        }\n\n        return {\n            type: 'Raw',\n            loc: this.getLocation(startOffset, endOffset),\n            value: this.scanner.source.substring(startOffset, endOffset)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    },\n\n    mode: {\n        default: balanceEnd,\n        leftCurlyBracket: leftCurlyBracket,\n        leftCurlyBracketOrSemicolon: leftCurlyBracketOrSemicolon,\n        exclamationMarkOrSemicolon: exclamationMarkOrSemicolon,\n        semicolonIncluded: semicolonIncluded\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar ATKEYWORD = TYPE.AtKeyword;\nvar SEMICOLON = TYPE.Semicolon;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\nvar RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracketOrSemicolon, true);\n}\n\nfunction isDeclarationBlockAtrule() {\n    for (var offset = 1, type; type = this.scanner.lookupType(offset); offset++) {\n        if (type === RIGHTCURLYBRACKET) {\n            return true;\n        }\n\n        if (type === LEFTCURLYBRACKET ||\n            type === ATKEYWORD) {\n            return false;\n        }\n    }\n\n    return false;\n}\n\nmodule.exports = {\n    name: 'Atrule',\n    structure: {\n        name: String,\n        prelude: ['AtrulePrelude', 'Raw', null],\n        block: ['Block', null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var nameLowerCase;\n        var prelude = null;\n        var block = null;\n\n        this.eat(ATKEYWORD);\n\n        name = this.scanner.substrToCursor(start + 1);\n        nameLowerCase = name.toLowerCase();\n        this.scanner.skipSC();\n\n        // parse prelude\n        if (this.scanner.eof === false &&\n            this.scanner.tokenType !== LEFTCURLYBRACKET &&\n            this.scanner.tokenType !== SEMICOLON) {\n            if (this.parseAtrulePrelude) {\n                prelude = this.parseWithFallback(this.AtrulePrelude.bind(this, name), consumeRaw);\n\n                // turn empty AtrulePrelude into null\n                if (prelude.type === 'AtrulePrelude' && prelude.children.head === null) {\n                    prelude = null;\n                }\n            } else {\n                prelude = consumeRaw.call(this, this.scanner.tokenIndex);\n            }\n\n            this.scanner.skipSC();\n        }\n\n        switch (this.scanner.tokenType) {\n            case SEMICOLON:\n                this.scanner.next();\n                break;\n\n            case LEFTCURLYBRACKET:\n                if (this.atrule.hasOwnProperty(nameLowerCase) &&\n                    typeof this.atrule[nameLowerCase].block === 'function') {\n                    block = this.atrule[nameLowerCase].block.call(this);\n                } else {\n                    // TODO: should consume block content as Raw?\n                    block = this.Block(isDeclarationBlockAtrule.call(this));\n                }\n\n                break;\n        }\n\n        return {\n            type: 'Atrule',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            prelude: prelude,\n            block: block\n        };\n    },\n    generate: function(node) {\n        this.chunk('@');\n        this.chunk(node.name);\n\n        if (node.prelude !== null) {\n            this.chunk(' ');\n            this.node(node.prelude);\n        }\n\n        if (node.block) {\n            this.node(node.block);\n        } else {\n            this.chunk(';');\n        }\n    },\n    walkContext: 'atrule'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar SEMICOLON = TYPE.Semicolon;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n\nmodule.exports = {\n    name: 'AtrulePrelude',\n    structure: {\n        children: [[]]\n    },\n    parse: function(name) {\n        var children = null;\n\n        if (name !== null) {\n            name = name.toLowerCase();\n        }\n\n        this.scanner.skipSC();\n\n        if (this.atrule.hasOwnProperty(name) &&\n            typeof this.atrule[name].prelude === 'function') {\n            // custom consumer\n            children = this.atrule[name].prelude.call(this);\n        } else {\n            // default consumer\n            children = this.readSequence(this.scope.AtrulePrelude);\n        }\n\n        this.scanner.skipSC();\n\n        if (this.scanner.eof !== true &&\n            this.scanner.tokenType !== LEFTCURLYBRACKET &&\n            this.scanner.tokenType !== SEMICOLON) {\n            this.error('Semicolon or block is expected');\n        }\n\n        if (children === null) {\n            children = this.createList();\n        }\n\n        return {\n            type: 'AtrulePrelude',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    },\n    walkContext: 'atrulePrelude'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar STRING = TYPE.String;\nvar COLON = TYPE.Colon;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\nvar DOLLARSIGN = 0x0024;       // U+0024 DOLLAR SIGN ($)\nvar ASTERISK = 0x002A;         // U+002A ASTERISK (*)\nvar EQUALSSIGN = 0x003D;       // U+003D EQUALS SIGN (=)\nvar CIRCUMFLEXACCENT = 0x005E; // U+005E (^)\nvar VERTICALLINE = 0x007C;     // U+007C VERTICAL LINE (|)\nvar TILDE = 0x007E;            // U+007E TILDE (~)\n\nfunction getAttributeName() {\n    if (this.scanner.eof) {\n        this.error('Unexpected end of input');\n    }\n\n    var start = this.scanner.tokenStart;\n    var expectIdent = false;\n    var checkColon = true;\n\n    if (this.scanner.isDelim(ASTERISK)) {\n        expectIdent = true;\n        checkColon = false;\n        this.scanner.next();\n    } else if (!this.scanner.isDelim(VERTICALLINE)) {\n        this.eat(IDENT);\n    }\n\n    if (this.scanner.isDelim(VERTICALLINE)) {\n        if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 1) !== EQUALSSIGN) {\n            this.scanner.next();\n            this.eat(IDENT);\n        } else if (expectIdent) {\n            this.error('Identifier is expected', this.scanner.tokenEnd);\n        }\n    } else if (expectIdent) {\n        this.error('Vertical line is expected');\n    }\n\n    if (checkColon && this.scanner.tokenType === COLON) {\n        this.scanner.next();\n        this.eat(IDENT);\n    }\n\n    return {\n        type: 'Identifier',\n        loc: this.getLocation(start, this.scanner.tokenStart),\n        name: this.scanner.substrToCursor(start)\n    };\n}\n\nfunction getOperator() {\n    var start = this.scanner.tokenStart;\n    var code = this.scanner.source.charCodeAt(start);\n\n    if (code !== EQUALSSIGN &&        // =\n        code !== TILDE &&             // ~=\n        code !== CIRCUMFLEXACCENT &&  // ^=\n        code !== DOLLARSIGN &&        // $=\n        code !== ASTERISK &&          // *=\n        code !== VERTICALLINE         // |=\n    ) {\n        this.error('Attribute selector (=, ~=, ^=, $=, *=, |=) is expected');\n    }\n\n    this.scanner.next();\n\n    if (code !== EQUALSSIGN) {\n        if (!this.scanner.isDelim(EQUALSSIGN)) {\n            this.error('Equal sign is expected');\n        }\n\n        this.scanner.next();\n    }\n\n    return this.scanner.substrToCursor(start);\n}\n\n// '[' <wq-name> ']'\n// '[' <wq-name> <attr-matcher> [ <string-token> | <ident-token> ] <attr-modifier>? ']'\nmodule.exports = {\n    name: 'AttributeSelector',\n    structure: {\n        name: 'Identifier',\n        matcher: [String, null],\n        value: ['String', 'Identifier', null],\n        flags: [String, null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var matcher = null;\n        var value = null;\n        var flags = null;\n\n        this.eat(LEFTSQUAREBRACKET);\n        this.scanner.skipSC();\n\n        name = getAttributeName.call(this);\n        this.scanner.skipSC();\n\n        if (this.scanner.tokenType !== RIGHTSQUAREBRACKET) {\n            // avoid case `[name i]`\n            if (this.scanner.tokenType !== IDENT) {\n                matcher = getOperator.call(this);\n\n                this.scanner.skipSC();\n\n                value = this.scanner.tokenType === STRING\n                    ? this.String()\n                    : this.Identifier();\n\n                this.scanner.skipSC();\n            }\n\n            // attribute flags\n            if (this.scanner.tokenType === IDENT) {\n                flags = this.scanner.getTokenValue();\n                this.scanner.next();\n\n                this.scanner.skipSC();\n            }\n        }\n\n        this.eat(RIGHTSQUAREBRACKET);\n\n        return {\n            type: 'AttributeSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            matcher: matcher,\n            value: value,\n            flags: flags\n        };\n    },\n    generate: function(node) {\n        var flagsPrefix = ' ';\n\n        this.chunk('[');\n        this.node(node.name);\n\n        if (node.matcher !== null) {\n            this.chunk(node.matcher);\n\n            if (node.value !== null) {\n                this.node(node.value);\n\n                // space between string and flags is not required\n                if (node.value.type === 'String') {\n                    flagsPrefix = '';\n                }\n            }\n        }\n\n        if (node.flags !== null) {\n            this.chunk(flagsPrefix);\n            this.chunk(node.flags);\n        }\n\n        this.chunk(']');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar SEMICOLON = TYPE.Semicolon;\nvar ATKEYWORD = TYPE.AtKeyword;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\nvar RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, null, true);\n}\nfunction consumeRule() {\n    return this.parseWithFallback(this.Rule, consumeRaw);\n}\nfunction consumeRawDeclaration(startToken) {\n    return this.Raw(startToken, rawMode.semicolonIncluded, true);\n}\nfunction consumeDeclaration() {\n    if (this.scanner.tokenType === SEMICOLON) {\n        return consumeRawDeclaration.call(this, this.scanner.tokenIndex);\n    }\n\n    var node = this.parseWithFallback(this.Declaration, consumeRawDeclaration);\n\n    if (this.scanner.tokenType === SEMICOLON) {\n        this.scanner.next();\n    }\n\n    return node;\n}\n\nmodule.exports = {\n    name: 'Block',\n    structure: {\n        children: [[\n            'Atrule',\n            'Rule',\n            'Declaration'\n        ]]\n    },\n    parse: function(isDeclaration) {\n        var consumer = isDeclaration ? consumeDeclaration : consumeRule;\n\n        var start = this.scanner.tokenStart;\n        var children = this.createList();\n\n        this.eat(LEFTCURLYBRACKET);\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case RIGHTCURLYBRACKET:\n                    break scan;\n\n                case WHITESPACE:\n                case COMMENT:\n                    this.scanner.next();\n                    break;\n\n                case ATKEYWORD:\n                    children.push(this.parseWithFallback(this.Atrule, consumeRaw));\n                    break;\n\n                default:\n                    children.push(consumer.call(this));\n            }\n        }\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTCURLYBRACKET);\n        }\n\n        return {\n            type: 'Block',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('{');\n        this.children(node, function(prev) {\n            if (prev.type === 'Declaration') {\n                this.chunk(';');\n            }\n        });\n        this.chunk('}');\n    },\n    walkContext: 'block'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\n\nmodule.exports = {\n    name: 'Brackets',\n    structure: {\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var children = null;\n\n        this.eat(LEFTSQUAREBRACKET);\n\n        children = readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTSQUAREBRACKET);\n        }\n\n        return {\n            type: 'Brackets',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('[');\n        this.children(node);\n        this.chunk(']');\n    }\n};\n","var CDC = require('../../tokenizer').TYPE.CDC;\n\nmodule.exports = {\n    name: 'CDC',\n    structure: [],\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(CDC); // -->\n\n        return {\n            type: 'CDC',\n            loc: this.getLocation(start, this.scanner.tokenStart)\n        };\n    },\n    generate: function() {\n        this.chunk('-->');\n    }\n};\n","var CDO = require('../../tokenizer').TYPE.CDO;\n\nmodule.exports = {\n    name: 'CDO',\n    structure: [],\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(CDO); // <!--\n\n        return {\n            type: 'CDO',\n            loc: this.getLocation(start, this.scanner.tokenStart)\n        };\n    },\n    generate: function() {\n        this.chunk('<!--');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// '.' ident\nmodule.exports = {\n    name: 'ClassSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        if (!this.scanner.isDelim(FULLSTOP)) {\n            this.error('Full stop is expected');\n        }\n\n        this.scanner.next();\n\n        return {\n            type: 'ClassSelector',\n            loc: this.getLocation(this.scanner.tokenStart - 1, this.scanner.tokenEnd),\n            name: this.consume(IDENT)\n        };\n    },\n    generate: function(node) {\n        this.chunk('.');\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nvar GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nvar TILDE = 0x007E;           // U+007E TILDE (~)\n\n// + | > | ~ | /deep/\nmodule.exports = {\n    name: 'Combinator',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n        switch (code) {\n            case GREATERTHANSIGN:\n            case PLUSSIGN:\n            case TILDE:\n                this.scanner.next();\n                break;\n\n            case SOLIDUS:\n                this.scanner.next();\n\n                if (this.scanner.tokenType !== IDENT || this.scanner.lookupValue(0, 'deep') === false) {\n                    this.error('Identifier `deep` is expected');\n                }\n\n                this.scanner.next();\n\n                if (!this.scanner.isDelim(SOLIDUS)) {\n                    this.error('Solidus is expected');\n                }\n\n                this.scanner.next();\n                break;\n\n            default:\n                this.error('Combinator is expected');\n        }\n\n        return {\n            type: 'Combinator',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar COMMENT = TYPE.Comment;\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\n// '/*' .* '*/'\nmodule.exports = {\n    name: 'Comment',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var end = this.scanner.tokenEnd;\n\n        this.eat(COMMENT);\n\n        if ((end - start + 2) >= 2 &&\n            this.scanner.source.charCodeAt(end - 2) === ASTERISK &&\n            this.scanner.source.charCodeAt(end - 1) === SOLIDUS) {\n            end -= 2;\n        }\n\n        return {\n            type: 'Comment',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start + 2, end)\n        };\n    },\n    generate: function(node) {\n        this.chunk('/*');\n        this.chunk(node.value);\n        this.chunk('*/');\n    }\n};\n","var isCustomProperty = require('../../utils/names').isCustomProperty;\nvar TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar IDENT = TYPE.Ident;\nvar HASH = TYPE.Hash;\nvar COLON = TYPE.Colon;\nvar SEMICOLON = TYPE.Semicolon;\nvar DELIM = TYPE.Delim;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\nvar NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nvar DOLLARSIGN = 0x0024;      // U+0024 DOLLAR SIGN ($)\nvar AMPERSAND = 0x0026;       // U+0026 ANPERSAND (&)\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\nfunction consumeValueRaw(startToken) {\n    return this.Raw(startToken, rawMode.exclamationMarkOrSemicolon, true);\n}\n\nfunction consumeCustomPropertyRaw(startToken) {\n    return this.Raw(startToken, rawMode.exclamationMarkOrSemicolon, false);\n}\n\nfunction consumeValue() {\n    var startValueToken = this.scanner.tokenIndex;\n    var value = this.Value();\n\n    if (value.type !== 'Raw' &&\n        this.scanner.eof === false &&\n        this.scanner.tokenType !== SEMICOLON &&\n        this.scanner.isDelim(EXCLAMATIONMARK) === false &&\n        this.scanner.isBalanceEdge(startValueToken) === false) {\n        this.error();\n    }\n\n    return value;\n}\n\nmodule.exports = {\n    name: 'Declaration',\n    structure: {\n        important: [Boolean, String],\n        property: String,\n        value: ['Value', 'Raw']\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var startToken = this.scanner.tokenIndex;\n        var property = readProperty.call(this);\n        var customProperty = isCustomProperty(property);\n        var parseValue = customProperty ? this.parseCustomProperty : this.parseValue;\n        var consumeRaw = customProperty ? consumeCustomPropertyRaw : consumeValueRaw;\n        var important = false;\n        var value;\n\n        this.scanner.skipSC();\n        this.eat(COLON);\n\n        if (!customProperty) {\n            this.scanner.skipSC();\n        }\n\n        if (parseValue) {\n            value = this.parseWithFallback(consumeValue, consumeRaw);\n        } else {\n            value = consumeRaw.call(this, this.scanner.tokenIndex);\n        }\n\n        if (this.scanner.isDelim(EXCLAMATIONMARK)) {\n            important = getImportant.call(this);\n            this.scanner.skipSC();\n        }\n\n        // Do not include semicolon to range per spec\n        // https://drafts.csswg.org/css-syntax/#declaration-diagram\n\n        if (this.scanner.eof === false &&\n            this.scanner.tokenType !== SEMICOLON &&\n            this.scanner.isBalanceEdge(startToken) === false) {\n            this.error();\n        }\n\n        return {\n            type: 'Declaration',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            important: important,\n            property: property,\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.property);\n        this.chunk(':');\n        this.node(node.value);\n\n        if (node.important) {\n            this.chunk(node.important === true ? '!important' : '!' + node.important);\n        }\n    },\n    walkContext: 'declaration'\n};\n\nfunction readProperty() {\n    var start = this.scanner.tokenStart;\n    var prefix = 0;\n\n    // hacks\n    if (this.scanner.tokenType === DELIM) {\n        switch (this.scanner.source.charCodeAt(this.scanner.tokenStart)) {\n            case ASTERISK:\n            case DOLLARSIGN:\n            case PLUSSIGN:\n            case NUMBERSIGN:\n            case AMPERSAND:\n                this.scanner.next();\n                break;\n\n            // TODO: not sure we should support this hack\n            case SOLIDUS:\n                this.scanner.next();\n                if (this.scanner.isDelim(SOLIDUS)) {\n                    this.scanner.next();\n                }\n                break;\n        }\n    }\n\n    if (prefix) {\n        this.scanner.skip(prefix);\n    }\n\n    if (this.scanner.tokenType === HASH) {\n        this.eat(HASH);\n    } else {\n        this.eat(IDENT);\n    }\n\n    return this.scanner.substrToCursor(start);\n}\n\n// ! ws* important\nfunction getImportant() {\n    this.eat(DELIM);\n    this.scanner.skipSC();\n\n    var important = this.consume(IDENT);\n\n    // store original value in case it differ from `important`\n    // for better original source restoring and hacks like `!ie` support\n    return important === 'important' ? true : important;\n}\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar SEMICOLON = TYPE.Semicolon;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.semicolonIncluded, true);\n}\n\nmodule.exports = {\n    name: 'DeclarationList',\n    structure: {\n        children: [[\n            'Declaration'\n        ]]\n    },\n    parse: function() {\n        var children = this.createList();\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case WHITESPACE:\n                case COMMENT:\n                case SEMICOLON:\n                    this.scanner.next();\n                    break;\n\n                default:\n                    children.push(this.parseWithFallback(this.Declaration, consumeRaw));\n            }\n        }\n\n        return {\n            type: 'DeclarationList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function(prev) {\n            if (prev.type === 'Declaration') {\n                this.chunk(';');\n            }\n        });\n    }\n};\n","var consumeNumber = require('../../tokenizer/utils').consumeNumber;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar DIMENSION = TYPE.Dimension;\n\nmodule.exports = {\n    name: 'Dimension',\n    structure: {\n        value: String,\n        unit: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var numberEnd = consumeNumber(this.scanner.source, start);\n\n        this.eat(DIMENSION);\n\n        return {\n            type: 'Dimension',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start, numberEnd),\n            unit: this.scanner.source.substring(numberEnd, this.scanner.tokenStart)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n        this.chunk(node.unit);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// <function-token> <sequence> )\nmodule.exports = {\n    name: 'Function',\n    structure: {\n        name: String,\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var name = this.consumeFunctionName();\n        var nameLowerCase = name.toLowerCase();\n        var children;\n\n        children = recognizer.hasOwnProperty(nameLowerCase)\n            ? recognizer[nameLowerCase].call(this, recognizer)\n            : readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTPARENTHESIS);\n        }\n\n        return {\n            type: 'Function',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n        this.chunk('(');\n        this.children(node);\n        this.chunk(')');\n    },\n    walkContext: 'function'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar HASH = TYPE.Hash;\n\n// '#' ident\nmodule.exports = {\n    name: 'HexColor',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(HASH);\n\n        return {\n            type: 'HexColor',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start + 1)\n        };\n    },\n    generate: function(node) {\n        this.chunk('#');\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\n\nmodule.exports = {\n    name: 'Identifier',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        return {\n            type: 'Identifier',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            name: this.consume(IDENT)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar HASH = TYPE.Hash;\n\n// <hash-token>\nmodule.exports = {\n    name: 'IdSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        // TODO: check value is an ident\n        this.eat(HASH);\n\n        return {\n            type: 'IdSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start + 1)\n        };\n    },\n    generate: function(node) {\n        this.chunk('#');\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\nvar COLON = TYPE.Colon;\nvar DELIM = TYPE.Delim;\n\nmodule.exports = {\n    name: 'MediaFeature',\n    structure: {\n        name: String,\n        value: ['Identifier', 'Number', 'Dimension', 'Ratio', null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var value = null;\n\n        this.eat(LEFTPARENTHESIS);\n        this.scanner.skipSC();\n\n        name = this.consume(IDENT);\n        this.scanner.skipSC();\n\n        if (this.scanner.tokenType !== RIGHTPARENTHESIS) {\n            this.eat(COLON);\n            this.scanner.skipSC();\n\n            switch (this.scanner.tokenType) {\n                case NUMBER:\n                    if (this.lookupNonWSType(1) === DELIM) {\n                        value = this.Ratio();\n                    } else {\n                        value = this.Number();\n                    }\n\n                    break;\n\n                case DIMENSION:\n                    value = this.Dimension();\n                    break;\n\n                case IDENT:\n                    value = this.Identifier();\n\n                    break;\n\n                default:\n                    this.error('Number, dimension, ratio or identifier is expected');\n            }\n\n            this.scanner.skipSC();\n        }\n\n        this.eat(RIGHTPARENTHESIS);\n\n        return {\n            type: 'MediaFeature',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk('(');\n        this.chunk(node.name);\n        if (node.value !== null) {\n            this.chunk(':');\n            this.node(node.value);\n        }\n        this.chunk(')');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nmodule.exports = {\n    name: 'MediaQuery',\n    structure: {\n        children: [[\n            'Identifier',\n            'MediaFeature',\n            'WhiteSpace'\n        ]]\n    },\n    parse: function() {\n        this.scanner.skipSC();\n\n        var children = this.createList();\n        var child = null;\n        var space = null;\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case COMMENT:\n                    this.scanner.next();\n                    continue;\n\n                case WHITESPACE:\n                    space = this.WhiteSpace();\n                    continue;\n\n                case IDENT:\n                    child = this.Identifier();\n                    break;\n\n                case LEFTPARENTHESIS:\n                    child = this.MediaFeature();\n                    break;\n\n                default:\n                    break scan;\n            }\n\n            if (space !== null) {\n                children.push(space);\n                space = null;\n            }\n\n            children.push(child);\n        }\n\n        if (child === null) {\n            this.error('Identifier or parenthesis is expected');\n        }\n\n        return {\n            type: 'MediaQuery',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var COMMA = require('../../tokenizer').TYPE.Comma;\n\nmodule.exports = {\n    name: 'MediaQueryList',\n    structure: {\n        children: [[\n            'MediaQuery'\n        ]]\n    },\n    parse: function(relative) {\n        var children = this.createList();\n\n        this.scanner.skipSC();\n\n        while (!this.scanner.eof) {\n            children.push(this.MediaQuery(relative));\n\n            if (this.scanner.tokenType !== COMMA) {\n                break;\n            }\n\n            this.scanner.next();\n        }\n\n        return {\n            type: 'MediaQueryList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function() {\n            this.chunk(',');\n        });\n    }\n};\n","var NUMBER = require('../../tokenizer').TYPE.Number;\n\nmodule.exports = {\n    name: 'Number',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        return {\n            type: 'Number',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            value: this.consume(NUMBER)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","// '/' | '*' | ',' | ':' | '+' | '-'\nmodule.exports = {\n    name: 'Operator',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.scanner.next();\n\n        return {\n            type: 'Operator',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\nmodule.exports = {\n    name: 'Parentheses',\n    structure: {\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var children = null;\n\n        this.eat(LEFTPARENTHESIS);\n\n        children = readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTPARENTHESIS);\n        }\n\n        return {\n            type: 'Parentheses',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('(');\n        this.children(node);\n        this.chunk(')');\n    }\n};\n","var consumeNumber = require('../../tokenizer/utils').consumeNumber;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar PERCENTAGE = TYPE.Percentage;\n\nmodule.exports = {\n    name: 'Percentage',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var numberEnd = consumeNumber(this.scanner.source, start);\n\n        this.eat(PERCENTAGE);\n\n        return {\n            type: 'Percentage',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start, numberEnd)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n        this.chunk('%');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// : [ <ident> | <function-token> <any-value>? ) ]\nmodule.exports = {\n    name: 'PseudoClassSelector',\n    structure: {\n        name: String,\n        children: [['Raw'], null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = null;\n        var name;\n        var nameLowerCase;\n\n        this.eat(COLON);\n\n        if (this.scanner.tokenType === FUNCTION) {\n            name = this.consumeFunctionName();\n            nameLowerCase = name.toLowerCase();\n\n            if (this.pseudo.hasOwnProperty(nameLowerCase)) {\n                this.scanner.skipSC();\n                children = this.pseudo[nameLowerCase].call(this);\n                this.scanner.skipSC();\n            } else {\n                children = this.createList();\n                children.push(\n                    this.Raw(this.scanner.tokenIndex, null, false)\n                );\n            }\n\n            this.eat(RIGHTPARENTHESIS);\n        } else {\n            name = this.consume(IDENT);\n        }\n\n        return {\n            type: 'PseudoClassSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk(':');\n        this.chunk(node.name);\n\n        if (node.children !== null) {\n            this.chunk('(');\n            this.children(node);\n            this.chunk(')');\n        }\n    },\n    walkContext: 'function'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// :: [ <ident> | <function-token> <any-value>? ) ]\nmodule.exports = {\n    name: 'PseudoElementSelector',\n    structure: {\n        name: String,\n        children: [['Raw'], null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = null;\n        var name;\n        var nameLowerCase;\n\n        this.eat(COLON);\n        this.eat(COLON);\n\n        if (this.scanner.tokenType === FUNCTION) {\n            name = this.consumeFunctionName();\n            nameLowerCase = name.toLowerCase();\n\n            if (this.pseudo.hasOwnProperty(nameLowerCase)) {\n                this.scanner.skipSC();\n                children = this.pseudo[nameLowerCase].call(this);\n                this.scanner.skipSC();\n            } else {\n                children = this.createList();\n                children.push(\n                    this.Raw(this.scanner.tokenIndex, null, false)\n                );\n            }\n\n            this.eat(RIGHTPARENTHESIS);\n        } else {\n            name = this.consume(IDENT);\n        }\n\n        return {\n            type: 'PseudoElementSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('::');\n        this.chunk(node.name);\n\n        if (node.children !== null) {\n            this.chunk('(');\n            this.children(node);\n            this.chunk(')');\n        }\n    },\n    walkContext: 'function'\n};\n","var isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar NUMBER = TYPE.Number;\nvar DELIM = TYPE.Delim;\nvar SOLIDUS = 0x002F;  // U+002F SOLIDUS (/)\nvar FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// Terms of <ratio> should be a positive numbers (not zero or negative)\n// (see https://drafts.csswg.org/mediaqueries-3/#values)\n// However, -o-min-device-pixel-ratio takes fractional values as a ratio's term\n// and this is using by various sites. Therefore we relax checking on parse\n// to test a term is unsigned number without an exponent part.\n// Additional checking may be applied on lexer validation.\nfunction consumeNumber() {\n    this.scanner.skipWS();\n\n    var value = this.consume(NUMBER);\n\n    for (var i = 0; i < value.length; i++) {\n        var code = value.charCodeAt(i);\n        if (!isDigit(code) && code !== FULLSTOP) {\n            this.error('Unsigned number is expected', this.scanner.tokenStart - value.length + i);\n        }\n    }\n\n    if (Number(value) === 0) {\n        this.error('Zero number is not allowed', this.scanner.tokenStart - value.length);\n    }\n\n    return value;\n}\n\n// <positive-integer> S* '/' S* <positive-integer>\nmodule.exports = {\n    name: 'Ratio',\n    structure: {\n        left: String,\n        right: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var left = consumeNumber.call(this);\n        var right;\n\n        this.scanner.skipWS();\n\n        if (!this.scanner.isDelim(SOLIDUS)) {\n            this.error('Solidus is expected');\n        }\n        this.eat(DELIM);\n        right = consumeNumber.call(this);\n\n        return {\n            type: 'Ratio',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            left: left,\n            right: right\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.left);\n        this.chunk('/');\n        this.chunk(node.right);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracket, true);\n}\n\nfunction consumePrelude() {\n    var prelude = this.SelectorList();\n\n    if (prelude.type !== 'Raw' &&\n        this.scanner.eof === false &&\n        this.scanner.tokenType !== LEFTCURLYBRACKET) {\n        this.error();\n    }\n\n    return prelude;\n}\n\nmodule.exports = {\n    name: 'Rule',\n    structure: {\n        prelude: ['SelectorList', 'Raw'],\n        block: ['Block']\n    },\n    parse: function() {\n        var startToken = this.scanner.tokenIndex;\n        var startOffset = this.scanner.tokenStart;\n        var prelude;\n        var block;\n\n        if (this.parseRulePrelude) {\n            prelude = this.parseWithFallback(consumePrelude, consumeRaw);\n        } else {\n            prelude = consumeRaw.call(this, startToken);\n        }\n\n        block = this.Block(true);\n\n        return {\n            type: 'Rule',\n            loc: this.getLocation(startOffset, this.scanner.tokenStart),\n            prelude: prelude,\n            block: block\n        };\n    },\n    generate: function(node) {\n        this.node(node.prelude);\n        this.node(node.block);\n    },\n    walkContext: 'rule'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar COMMA = TYPE.Comma;\n\nmodule.exports = {\n    name: 'SelectorList',\n    structure: {\n        children: [[\n            'Selector',\n            'Raw'\n        ]]\n    },\n    parse: function() {\n        var children = this.createList();\n\n        while (!this.scanner.eof) {\n            children.push(this.Selector());\n\n            if (this.scanner.tokenType === COMMA) {\n                this.scanner.next();\n                continue;\n            }\n\n            break;\n        }\n\n        return {\n            type: 'SelectorList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function() {\n            this.chunk(',');\n        });\n    },\n    walkContext: 'selector'\n};\n","var STRING = require('../../tokenizer').TYPE.String;\n\nmodule.exports = {\n    name: 'String',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        return {\n            type: 'String',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            value: this.consume(STRING)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar ATKEYWORD = TYPE.AtKeyword;\nvar CDO = TYPE.CDO;\nvar CDC = TYPE.CDC;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, null, false);\n}\n\nmodule.exports = {\n    name: 'StyleSheet',\n    structure: {\n        children: [[\n            'Comment',\n            'CDO',\n            'CDC',\n            'Atrule',\n            'Rule',\n            'Raw'\n        ]]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = this.createList();\n        var child;\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case WHITESPACE:\n                    this.scanner.next();\n                    continue;\n\n                case COMMENT:\n                    // ignore comments except exclamation comments (i.e. /*! .. */) on top level\n                    if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 2) !== EXCLAMATIONMARK) {\n                        this.scanner.next();\n                        continue;\n                    }\n\n                    child = this.Comment();\n                    break;\n\n                case CDO: // <!--\n                    child = this.CDO();\n                    break;\n\n                case CDC: // -->\n                    child = this.CDC();\n                    break;\n\n                // CSS Syntax Module Level 3\n                // §2.2 Error handling\n                // At the \"top level\" of a stylesheet, an <at-keyword-token> starts an at-rule.\n                case ATKEYWORD:\n                    child = this.parseWithFallback(this.Atrule, consumeRaw);\n                    break;\n\n                // Anything else starts a qualified rule ...\n                default:\n                    child = this.parseWithFallback(this.Rule, consumeRaw);\n            }\n\n            children.push(child);\n        }\n\n        return {\n            type: 'StyleSheet',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    },\n    walkContext: 'stylesheet'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar ASTERISK = 0x002A;     // U+002A ASTERISK (*)\nvar VERTICALLINE = 0x007C; // U+007C VERTICAL LINE (|)\n\nfunction eatIdentifierOrAsterisk() {\n    if (this.scanner.tokenType !== IDENT &&\n        this.scanner.isDelim(ASTERISK) === false) {\n        this.error('Identifier or asterisk is expected');\n    }\n\n    this.scanner.next();\n}\n\n// ident\n// ident|ident\n// ident|*\n// *\n// *|ident\n// *|*\n// |ident\n// |*\nmodule.exports = {\n    name: 'TypeSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        if (this.scanner.isDelim(VERTICALLINE)) {\n            this.scanner.next();\n            eatIdentifierOrAsterisk.call(this);\n        } else {\n            eatIdentifierOrAsterisk.call(this);\n\n            if (this.scanner.isDelim(VERTICALLINE)) {\n                this.scanner.next();\n                eatIdentifierOrAsterisk.call(this);\n            }\n        }\n\n        return {\n            type: 'TypeSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var isHexDigit = require('../../tokenizer').isHexDigit;\nvar cmpChar = require('../../tokenizer').cmpChar;\nvar TYPE = require('../../tokenizer').TYPE;\nvar NAME = require('../../tokenizer').NAME;\n\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nvar QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nvar U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction eatHexSequence(offset, allowDash) {\n    for (var pos = this.scanner.tokenStart + offset, len = 0; pos < this.scanner.tokenEnd; pos++) {\n        var code = this.scanner.source.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && len !== 0) {\n            if (eatHexSequence.call(this, offset + len + 1, false) === 0) {\n                this.error();\n            }\n\n            return -1;\n        }\n\n        if (!isHexDigit(code)) {\n            this.error(\n                allowDash && len !== 0\n                    ? 'HyphenMinus' + (len < 6 ? ' or hex digit' : '') + ' is expected'\n                    : (len < 6 ? 'Hex digit is expected' : 'Unexpected input'),\n                pos\n            );\n        }\n\n        if (++len > 6) {\n            this.error('Too many hex digits', pos);\n        };\n    }\n\n    this.scanner.next();\n    return len;\n}\n\nfunction eatQuestionMarkSequence(max) {\n    var count = 0;\n\n    while (this.scanner.isDelim(QUESTIONMARK)) {\n        if (++count > max) {\n            this.error('Too many question marks');\n        }\n\n        this.scanner.next();\n    }\n}\n\nfunction startsWith(code) {\n    if (this.scanner.source.charCodeAt(this.scanner.tokenStart) !== code) {\n        this.error(NAME[code] + ' is expected');\n    }\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nfunction scanUnicodeRange() {\n    var hexLength = 0;\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (this.scanner.isDelim(PLUSSIGN)) {\n        this.scanner.next();\n\n        if (this.scanner.tokenType === IDENT) {\n            hexLength = eatHexSequence.call(this, 0, true);\n            if (hexLength > 0) {\n                eatQuestionMarkSequence.call(this, 6 - hexLength);\n            }\n            return;\n        }\n\n        if (this.scanner.isDelim(QUESTIONMARK)) {\n            this.scanner.next();\n            eatQuestionMarkSequence.call(this, 5);\n            return;\n        }\n\n        this.error('Hex digit or question mark is expected');\n        return;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (this.scanner.tokenType === NUMBER) {\n        startsWith.call(this, PLUSSIGN);\n        hexLength = eatHexSequence.call(this, 1, true);\n\n        if (this.scanner.isDelim(QUESTIONMARK)) {\n            eatQuestionMarkSequence.call(this, 6 - hexLength);\n            return;\n        }\n\n        if (this.scanner.tokenType === DIMENSION ||\n            this.scanner.tokenType === NUMBER) {\n            startsWith.call(this, HYPHENMINUS);\n            eatHexSequence.call(this, 1, false);\n            return;\n        }\n\n        return;\n    }\n\n    // u <dimension-token> '?'*\n    if (this.scanner.tokenType === DIMENSION) {\n        startsWith.call(this, PLUSSIGN);\n        hexLength = eatHexSequence.call(this, 1, true);\n\n        if (hexLength > 0) {\n            eatQuestionMarkSequence.call(this, 6 - hexLength);\n        }\n\n        return;\n    }\n\n    this.error();\n}\n\nmodule.exports = {\n    name: 'UnicodeRange',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        // U or u\n        if (!cmpChar(this.scanner.source, start, U)) {\n            this.error('U is expected');\n        }\n\n        if (!cmpChar(this.scanner.source, start + 1, PLUSSIGN)) {\n            this.error('Plus sign is expected');\n        }\n\n        this.scanner.next();\n        scanUnicodeRange.call(this);\n\n        return {\n            type: 'UnicodeRange',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var isWhiteSpace = require('../../tokenizer').isWhiteSpace;\nvar cmpStr = require('../../tokenizer').cmpStr;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// <url-token> | <function-token> <string> )\nmodule.exports = {\n    name: 'Url',\n    structure: {\n        value: ['String', 'Raw']\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var value;\n\n        switch (this.scanner.tokenType) {\n            case URL:\n                var rawStart = start + 4;\n                var rawEnd = this.scanner.tokenEnd - 1;\n\n                while (rawStart < rawEnd && isWhiteSpace(this.scanner.source.charCodeAt(rawStart))) {\n                    rawStart++;\n                }\n\n                while (rawStart < rawEnd && isWhiteSpace(this.scanner.source.charCodeAt(rawEnd - 1))) {\n                    rawEnd--;\n                }\n\n                value = {\n                    type: 'Raw',\n                    loc: this.getLocation(rawStart, rawEnd),\n                    value: this.scanner.source.substring(rawStart, rawEnd)\n                };\n\n                this.eat(URL);\n                break;\n\n            case FUNCTION:\n                if (!cmpStr(this.scanner.source, this.scanner.tokenStart, this.scanner.tokenEnd, 'url(')) {\n                    this.error('Function name must be `url`');\n                }\n\n                this.eat(FUNCTION);\n                this.scanner.skipSC();\n                value = this.String();\n                this.scanner.skipSC();\n                this.eat(RIGHTPARENTHESIS);\n                break;\n\n            default:\n                this.error('Url or Function is expected');\n        }\n\n        return {\n            type: 'Url',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk('url');\n        this.chunk('(');\n        this.node(node.value);\n        this.chunk(')');\n    }\n};\n","var WHITESPACE = require('../../tokenizer').TYPE.WhiteSpace;\nvar SPACE = Object.freeze({\n    type: 'WhiteSpace',\n    loc: null,\n    value: ' '\n});\n\nmodule.exports = {\n    name: 'WhiteSpace',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        this.eat(WHITESPACE);\n        return SPACE;\n\n        // return {\n        //     type: 'WhiteSpace',\n        //     loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n        //     value: this.consume(WHITESPACE)\n        // };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","module.exports = {\n    AnPlusB: require('./AnPlusB'),\n    Atrule: require('./Atrule'),\n    AtrulePrelude: require('./AtrulePrelude'),\n    AttributeSelector: require('./AttributeSelector'),\n    Block: require('./Block'),\n    Brackets: require('./Brackets'),\n    CDC: require('./CDC'),\n    CDO: require('./CDO'),\n    ClassSelector: require('./ClassSelector'),\n    Combinator: require('./Combinator'),\n    Comment: require('./Comment'),\n    Declaration: require('./Declaration'),\n    DeclarationList: require('./DeclarationList'),\n    Dimension: require('./Dimension'),\n    Function: require('./Function'),\n    HexColor: require('./HexColor'),\n    Identifier: require('./Identifier'),\n    IdSelector: require('./IdSelector'),\n    MediaFeature: require('./MediaFeature'),\n    MediaQuery: require('./MediaQuery'),\n    MediaQueryList: require('./MediaQueryList'),\n    Nth: require('./Nth'),\n    Number: require('./Number'),\n    Operator: require('./Operator'),\n    Parentheses: require('./Parentheses'),\n    Percentage: require('./Percentage'),\n    PseudoClassSelector: require('./PseudoClassSelector'),\n    PseudoElementSelector: require('./PseudoElementSelector'),\n    Ratio: require('./Ratio'),\n    Raw: require('./Raw'),\n    Rule: require('./Rule'),\n    Selector: require('./Selector'),\n    SelectorList: require('./SelectorList'),\n    String: require('./String'),\n    StyleSheet: require('./StyleSheet'),\n    TypeSelector: require('./TypeSelector'),\n    UnicodeRange: require('./UnicodeRange'),\n    Url: require('./Url'),\n    Value: require('./Value'),\n    WhiteSpace: require('./WhiteSpace')\n};\n","module.exports = {\n    name: 'Nth',\n    structure: {\n        nth: ['AnPlusB', 'Identifier'],\n        selector: ['SelectorList', null]\n    },\n    parse: function(allowOfClause) {\n        this.scanner.skipSC();\n\n        var start = this.scanner.tokenStart;\n        var end = start;\n        var selector = null;\n        var query;\n\n        if (this.scanner.lookupValue(0, 'odd') || this.scanner.lookupValue(0, 'even')) {\n            query = this.Identifier();\n        } else {\n            query = this.AnPlusB();\n        }\n\n        this.scanner.skipSC();\n\n        if (allowOfClause && this.scanner.lookupValue(0, 'of')) {\n            this.scanner.next();\n\n            selector = this.SelectorList();\n\n            if (this.needPositions) {\n                end = this.getLastListNode(selector.children).loc.end.offset;\n            }\n        } else {\n            if (this.needPositions) {\n                end = query.loc.end.offset;\n            }\n        }\n\n        return {\n            type: 'Nth',\n            loc: this.getLocation(start, end),\n            nth: query,\n            selector: selector\n        };\n    },\n    generate: function(node) {\n        this.node(node.nth);\n        if (node.selector !== null) {\n            this.chunk(' of ');\n            this.node(node.selector);\n        }\n    }\n};\n","module.exports = {\n    name: 'Selector',\n    structure: {\n        children: [[\n            'TypeSelector',\n            'IdSelector',\n            'ClassSelector',\n            'AttributeSelector',\n            'PseudoClassSelector',\n            'PseudoElementSelector',\n            'Combinator',\n            'WhiteSpace'\n        ]]\n    },\n    parse: function() {\n        var children = this.readSequence(this.scope.Selector);\n\n        // nothing were consumed\n        if (this.getFirstListNode(children) === null) {\n            this.error('Selector is expected');\n        }\n\n        return {\n            type: 'Selector',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","module.exports = {\n    name: 'Value',\n    structure: {\n        children: [[]]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = this.readSequence(this.scope.Value);\n\n        return {\n            type: 'Value',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var data = require('../../../data');\n\nmodule.exports = {\n    generic: true,\n    types: data.types,\n    atrules: data.atrules,\n    properties: data.properties,\n    node: require('../node')\n};\n","var cmpChar = require('../../tokenizer').cmpChar;\nvar cmpStr = require('../../tokenizer').cmpStr;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar STRING = TYPE.String;\nvar NUMBER = TYPE.Number;\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar HASH = TYPE.Hash;\nvar DIMENSION = TYPE.Dimension;\nvar PERCENTAGE = TYPE.Percentage;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar COMMA = TYPE.Comma;\nvar DELIM = TYPE.Delim;\nvar NUMBERSIGN = 0x0023;  // U+0023 NUMBER SIGN (#)\nvar ASTERISK = 0x002A;    // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar SOLIDUS = 0x002F;     // U+002F SOLIDUS (/)\nvar U = 0x0075;           // U+0075 LATIN SMALL LETTER U (u)\n\nmodule.exports = function defaultRecognizer(context) {\n    switch (this.scanner.tokenType) {\n        case HASH:\n            return this.HexColor();\n\n        case COMMA:\n            context.space = null;\n            context.ignoreWSAfter = true;\n            return this.Operator();\n\n        case LEFTPARENTHESIS:\n            return this.Parentheses(this.readSequence, context.recognizer);\n\n        case LEFTSQUAREBRACKET:\n            return this.Brackets(this.readSequence, context.recognizer);\n\n        case STRING:\n            return this.String();\n\n        case DIMENSION:\n            return this.Dimension();\n\n        case PERCENTAGE:\n            return this.Percentage();\n\n        case NUMBER:\n            return this.Number();\n\n        case FUNCTION:\n            return cmpStr(this.scanner.source, this.scanner.tokenStart, this.scanner.tokenEnd, 'url(')\n                ? this.Url()\n                : this.Function(this.readSequence, context.recognizer);\n\n        case URL:\n            return this.Url();\n\n        case IDENT:\n            // check for unicode range, it should start with u+ or U+\n            if (cmpChar(this.scanner.source, this.scanner.tokenStart, U) &&\n                cmpChar(this.scanner.source, this.scanner.tokenStart + 1, PLUSSIGN)) {\n                return this.UnicodeRange();\n            } else {\n                return this.Identifier();\n            }\n\n        case DELIM:\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n            if (code === SOLIDUS ||\n                code === ASTERISK ||\n                code === PLUSSIGN ||\n                code === HYPHENMINUS) {\n                return this.Operator(); // TODO: replace with Delim\n            }\n\n            // TODO: produce a node with Delim node type\n\n            if (code === NUMBERSIGN) {\n                this.error('Hex or identifier is expected', this.scanner.tokenStart + 1);\n            }\n\n            break;\n    }\n};\n","module.exports = {\n    getNode: require('./default')\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar DELIM = TYPE.Delim;\nvar IDENT = TYPE.Ident;\nvar DIMENSION = TYPE.Dimension;\nvar PERCENTAGE = TYPE.Percentage;\nvar NUMBER = TYPE.Number;\nvar HASH = TYPE.Hash;\nvar COLON = TYPE.Colon;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nvar FULLSTOP = 0x002E;        // U+002E FULL STOP (.)\nvar GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nvar VERTICALLINE = 0x007C;    // U+007C VERTICAL LINE (|)\nvar TILDE = 0x007E;           // U+007E TILDE (~)\n\nfunction getNode(context) {\n    switch (this.scanner.tokenType) {\n        case LEFTSQUAREBRACKET:\n            return this.AttributeSelector();\n\n        case HASH:\n            return this.IdSelector();\n\n        case COLON:\n            if (this.scanner.lookupType(1) === COLON) {\n                return this.PseudoElementSelector();\n            } else {\n                return this.PseudoClassSelector();\n            }\n\n        case IDENT:\n            return this.TypeSelector();\n\n        case NUMBER:\n        case PERCENTAGE:\n            return this.Percentage();\n\n        case DIMENSION:\n            // throws when .123ident\n            if (this.scanner.source.charCodeAt(this.scanner.tokenStart) === FULLSTOP) {\n                this.error('Identifier is expected', this.scanner.tokenStart + 1);\n            }\n            break;\n\n        case DELIM:\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n            switch (code) {\n                case PLUSSIGN:\n                case GREATERTHANSIGN:\n                case TILDE:\n                    context.space = null;\n                    context.ignoreWSAfter = true;\n                    return this.Combinator();\n\n                case SOLIDUS:  // /deep/\n                    return this.Combinator();\n\n                case FULLSTOP:\n                    return this.ClassSelector();\n\n                case ASTERISK:\n                case VERTICALLINE:\n                    return this.TypeSelector();\n\n                case NUMBERSIGN:\n                    return this.IdSelector();\n            }\n\n            break;\n    }\n};\n\nmodule.exports = {\n    getNode: getNode\n};\n","// https://drafts.csswg.org/css-images-4/#element-notation\n// https://developer.mozilla.org/en-US/docs/Web/CSS/element\nmodule.exports = function() {\n    this.scanner.skipSC();\n\n    var children = this.createSingleNodeList(\n        this.IdSelector()\n    );\n\n    this.scanner.skipSC();\n\n    return children;\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('../node/Raw').mode;\n\nvar COMMA = TYPE.Comma;\n\n// var( <ident> , <value>? )\nmodule.exports = function() {\n    var children = this.createList();\n\n    this.scanner.skipSC();\n\n    // NOTE: Don't check more than a first argument is an ident, rest checks are for lexer\n    children.push(this.Identifier());\n\n    this.scanner.skipSC();\n\n    if (this.scanner.tokenType === COMMA) {\n        children.push(this.Operator());\n        children.push(this.parseCustomProperty\n            ? this.Value(null)\n            : this.Raw(this.scanner.tokenIndex, rawMode.exclamationMarkOrSemicolon, false)\n        );\n    }\n\n    return children;\n};\n","module.exports = {\n    AtrulePrelude: require('./atrulePrelude'),\n    Selector: require('./selector'),\n    Value: require('./value')\n};\n","module.exports = {\n    getNode: require('./default'),\n    '-moz-element': require('../function/element'),\n    'element': require('../function/element'),\n    'expression': require('../function/expression'),\n    'var': require('../function/var')\n};\n","// legacy IE function\n// expression( <any-value> )\nmodule.exports = function() {\n    return this.createSingleNodeList(\n        this.Raw(this.scanner.tokenIndex, null, false)\n    );\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar STRING = TYPE.String;\nvar IDENT = TYPE.Ident;\nvar URL = TYPE.Url;\nvar FUNCTION = TYPE.Function;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nmodule.exports = {\n    parse: {\n        prelude: function() {\n            var children = this.createList();\n\n            this.scanner.skipSC();\n\n            switch (this.scanner.tokenType) {\n                case STRING:\n                    children.push(this.String());\n                    break;\n\n                case URL:\n                case FUNCTION:\n                    children.push(this.Url());\n                    break;\n\n                default:\n                    this.error('String or url() is expected');\n            }\n\n            if (this.lookupNonWSType(0) === IDENT ||\n                this.lookupNonWSType(0) === LEFTPARENTHESIS) {\n                children.push(this.WhiteSpace());\n                children.push(this.MediaQueryList());\n            }\n\n            return children;\n        },\n        block: null\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nfunction consumeRaw() {\n    return this.createSingleNodeList(\n        this.Raw(this.scanner.tokenIndex, null, false)\n    );\n}\n\nfunction parentheses() {\n    this.scanner.skipSC();\n\n    if (this.scanner.tokenType === IDENT &&\n        this.lookupNonWSType(1) === COLON) {\n        return this.createSingleNodeList(\n            this.Declaration()\n        );\n    }\n\n    return readSequence.call(this);\n}\n\nfunction readSequence() {\n    var children = this.createList();\n    var space = null;\n    var child;\n\n    this.scanner.skipSC();\n\n    scan:\n    while (!this.scanner.eof) {\n        switch (this.scanner.tokenType) {\n            case WHITESPACE:\n                space = this.WhiteSpace();\n                continue;\n\n            case COMMENT:\n                this.scanner.next();\n                continue;\n\n            case FUNCTION:\n                child = this.Function(consumeRaw, this.scope.AtrulePrelude);\n                break;\n\n            case IDENT:\n                child = this.Identifier();\n                break;\n\n            case LEFTPARENTHESIS:\n                child = this.Parentheses(parentheses, this.scope.AtrulePrelude);\n                break;\n\n            default:\n                break scan;\n        }\n\n        if (space !== null) {\n            children.push(space);\n            space = null;\n        }\n\n        children.push(child);\n    }\n\n    return children;\n}\n\nmodule.exports = {\n    parse: {\n        prelude: function() {\n            var children = readSequence.call(this);\n\n            if (this.getFirstListNode(children) === null) {\n                this.error('Condition is expected');\n            }\n\n            return children;\n        },\n        block: function() {\n            return this.Block(false);\n        }\n    }\n};\n","module.exports = {\n    parse: function selectorList() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n","var ALLOW_OF_CLAUSE = true;\n\nmodule.exports = {\n    parse: function nthWithOfClause() {\n        return this.createSingleNodeList(\n            this.Nth(ALLOW_OF_CLAUSE)\n        );\n    }\n};\n","var DISALLOW_OF_CLAUSE = false;\n\nmodule.exports = {\n    parse: function nth() {\n        return this.createSingleNodeList(\n            this.Nth(DISALLOW_OF_CLAUSE)\n        );\n    }\n};\n","function merge() {\n    var dest = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n        var src = arguments[i];\n        for (var key in src) {\n            dest[key] = src[key];\n        }\n    }\n\n    return dest;\n}\n\nmodule.exports = require('./create').create(\n    merge(\n        require('./config/lexer'),\n        require('./config/parser'),\n        require('./config/walker')\n    )\n);\n","module.exports = {\n    parseContext: {\n        default: 'StyleSheet',\n        stylesheet: 'StyleSheet',\n        atrule: 'Atrule',\n        atrulePrelude: function(options) {\n            return this.AtrulePrelude(options.atrule ? String(options.atrule) : null);\n        },\n        mediaQueryList: 'MediaQueryList',\n        mediaQuery: 'MediaQuery',\n        rule: 'Rule',\n        selectorList: 'SelectorList',\n        selector: 'Selector',\n        block: function() {\n            return this.Block(true);\n        },\n        declarationList: 'DeclarationList',\n        declaration: 'Declaration',\n        value: 'Value'\n    },\n    scope: require('../scope'),\n    atrule: require('../atrule'),\n    pseudo: require('../pseudo'),\n    node: require('../node')\n};\n","module.exports = {\n    'font-face': require('./font-face'),\n    'import': require('./import'),\n    'media': require('./media'),\n    'page': require('./page'),\n    'supports': require('./supports')\n};\n","module.exports = {\n    parse: {\n        prelude: null,\n        block: function() {\n            return this.Block(true);\n        }\n    }\n};\n","module.exports = {\n    parse: {\n        prelude: function() {\n            return this.createSingleNodeList(\n                this.MediaQueryList()\n            );\n        },\n        block: function() {\n            return this.Block(false);\n        }\n    }\n};\n","module.exports = {\n    parse: {\n        prelude: function() {\n            return this.createSingleNodeList(\n                this.SelectorList()\n            );\n        },\n        block: function() {\n            return this.Block(true);\n        }\n    }\n};\n","module.exports = {\n    'dir': require('./dir'),\n    'has': require('./has'),\n    'lang': require('./lang'),\n    'matches': require('./matches'),\n    'not': require('./not'),\n    'nth-child': require('./nth-child'),\n    'nth-last-child': require('./nth-last-child'),\n    'nth-last-of-type': require('./nth-last-of-type'),\n    'nth-of-type': require('./nth-of-type'),\n    'slotted': require('./slotted')\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n","module.exports = require('./common/selectorList');\n","module.exports = require('./common/selectorList');\n","module.exports = require('./common/nthWithOfClause');\n","module.exports = require('./common/nthWithOfClause');\n","module.exports = require('./common/nth');\n","module.exports = require('./common/nth');\n","module.exports = {\n    parse: function compoundSelector() {\n        return this.createSingleNodeList(\n            this.Selector()\n        );\n    }\n};\n","module.exports = {\n    node: require('../node')\n};\n","import isNumber from 'lodash.isnumber'\nimport isPlainObject from 'lodash.isplainobject'\nimport isString from 'lodash.isstring'\nimport { parse, walk, lexer } from 'css-tree'\nimport nonAnimatable from './nonAnimatable.json'\nimport popularIndex from './popularIndex.json'\nimport mdnProperties from 'css-tree/node_modules/mdn-data/css/properties.json'\nimport mdnSyntaxes from 'css-tree/node_modules/mdn-data/css/syntaxes.json'\nimport patch from 'css-tree/data/patch.json'\n\nconst properties = []\nObject.keys(lexer.properties).forEach((key) => {\n  if (!nonAnimatable.includes(key)) {\n    properties.push(key)\n  }\n})\n\nconst isAnimatable = (value, returnCssProperty = false) => {\n  let property = value.toLowerCase().trim()\n  if (property === 'cssoffset') {\n    property = property.substr(3)\n  }\n  if (properties.includes(property)) {\n    return returnCssProperty ? property : true\n  }\n  if (property.includes('-')) {\n    return returnCssProperty ? '' : false\n  }\n  property = property.replace(/-/g, '')\n  for (const prop of properties) {\n    if (property === prop.replace(/-/g, '')) {\n      return returnCssProperty ? prop : true\n    }\n  }\n  return returnCssProperty ? '' : false\n}\n\nconst cssToJs = (value, webAnimationsAPI = true) => {\n  let property = isAnimatable(value, true)\n  if (!property) {\n    return ''\n  }\n  if (webAnimationsAPI) {\n    if (property === 'float' || property === 'offset') {\n      property = 'css-' + property\n    }\n  }\n  return property.replace(/-([a-z])/g, (match, letter) => {\n    return letter.toUpperCase()\n  })\n}\n\nconst jsToCss = (value) => {\n  return isAnimatable(value, true)\n}\n\nconst popular = (start = 0, end = 10) => {\n  const popular = []\n  let notInPopular\n  if (end >= popularIndex.length) {\n    notInPopular = properties.filter((property) => !popularIndex.includes(properties.indexOf(property)))\n  }\n  for (let i = start; i < end; i++) {\n    if (popularIndex[i] || popularIndex[i] === 0) {\n      popular.push(properties[popularIndex[i]])\n    } else {\n      const property = notInPopular[i - popularIndex.length]\n      if (!property) {\n        break\n      }\n      popular.push(property)\n    }\n  }\n  return popular\n}\n\nconst syntaxes = { main: '', links: {}, order: [] }\n\nconst getSyntaxes = (syntax) => {\n  const propertyMatches = syntax.match(/<'[a-zA-Z0-9-()]+'>/g)\n  if (Array.isArray(propertyMatches)) {\n    propertyMatches.forEach((key) => {\n      const prop = key.slice(2, -2)\n      const propertySyntax = mdnProperties[prop]\n      syntaxes[key] = propertySyntax.syntax\n      syntaxes.order.push(key)\n      getSyntaxes(propertySyntax.syntax)\n    })\n  }\n  const syntaxMatches = syntax.match(/<[a-zA-Z0-9-()]+>/g)\n  if (Array.isArray(syntaxMatches)) {\n    syntaxMatches.forEach((key) => {\n      const prop = key.slice(1, -1)\n      if (!syntaxes[key]) {\n        const syntaxSyntax = mdnSyntaxes[prop]\n        const patchSyntax = patch.syntaxes[prop]\n        if (syntaxSyntax) {\n          syntaxes[key] = syntaxSyntax.syntax\n          syntaxes.order.push(key)\n          getSyntaxes(syntaxSyntax.syntax)\n        } else if (patchSyntax) {\n          syntaxes[key] = patchSyntax.syntax\n          syntaxes.order.push(key)\n          getSyntaxes(patchSyntax.syntax)\n        } else if (!['url-token', 'any-value', 'function-token', 'hex-color', 'declaration-value', 'hash-token', 'zero'].includes(prop)) {\n          syntaxes.links[key] = 'https://developer.mozilla.org/docs/Web/CSS/' + prop.replace(/flex/, 'flex_value')\n        }\n      }\n    })\n  }\n}\n\nconst syntax = (value) => {\n  for (const member in syntaxes) delete syntaxes[member]\n  syntaxes.main = ''\n  syntaxes.links = {}\n  syntaxes.order = []\n  const property = isAnimatable(value, true)\n  if (property) {\n    const syntax = mdnProperties[property].syntax\n    syntaxes.main = syntax\n    getSyntaxes(syntax)\n  } else {\n    syntaxes.main = `Error: ${value} is not an animatable CSS property.`\n  }\n  return syntaxes\n}\n\nconst validate = (obj, returnError = true) => {\n  const errors = []\n  if (!isPlainObject(obj)) {\n    errors.push({ name: 'TypeError', message: 'Argument is not a plain object.' })\n  } else {\n    for (let [key, value] of Object.entries(obj)) {\n      if (!isString(value) && !isNumber(value)) {\n        errors.push({ name: 'TypeError', message: 'Property value must be a string or a number. ' + typeof value + ' given.' })\n      } else {\n        const property = isAnimatable(key, true)\n        if (!property) {\n          errors.push({ name: 'MatchError', message: key + ' is not an animatable CSS property.' })\n        } else {\n          let ast\n          try {\n            ast = parse(`${property}: ${value}`, {\n              context: 'declaration',\n              onParseError: (error) => {\n                errors.push(error)\n              },\n            })\n            walk(ast, {\n              visit: 'Declaration',\n              enter: function (node) {\n                const error = lexer.matchDeclaration(node).error\n                if (error) {\n                  errors.push(error)\n                }\n              },\n            })\n          } catch (error) {\n            errors.push(error)\n          }\n        }\n      }\n    }\n  }\n  return !errors.length ? true : returnError ? errors[errors.length - 1] : false\n}\n\nconst propertyFormat = (property, format) => {\n  switch (format) {\n    case 'css':\n      property = jsToCss(property)\n      break\n    case 'js':\n      property = cssToJs(property, false)\n      break\n    default:\n      property = cssToJs(property)\n  }\n  return property\n}\n\nconst sanitize = (obj, format = 'waapi') => {\n  format = format.toString().toLowerCase()\n  let sanitized = {}\n  if (Array.isArray(obj)) {\n    sanitized = []\n    obj.forEach((key) => {\n      const property = isAnimatable(key, true)\n      if (property) {\n        sanitized.push(propertyFormat(property, format))\n      }\n    })\n  } else if (isPlainObject(obj)) {\n    for (let [key, value] of Object.entries(obj)) {\n      const object = {}\n      object[key] = value\n      if (validate(object, false)) {\n        sanitized[propertyFormat(key, format)] = value\n      }\n    }\n  } else if (isString(obj)) {\n    switch (format) {\n      case 'css':\n        return jsToCss(obj)\n      case 'js':\n        return cssToJs(obj, false)\n      default:\n        return cssToJs(obj)\n    }\n  }\n  return sanitized\n}\n\nexport default {\n  properties: properties,\n  cssToJs: cssToJs,\n  jsToCss: jsToCss,\n  isAnimatable: isAnimatable,\n  popular: popular,\n  syntax: syntax,\n  validate: validate,\n  sanitize: sanitize,\n}\n","import functions from './functions'\n\nexport default {\n  properties: functions.properties.map((val) => functions.cssToJs(val)),\n  propertiesCSS: functions.properties,\n  propertiesJS: functions.properties.map((val) => functions.cssToJs(val, false)),\n}\n","import arrays from './arrays'\nimport functions from './functions'\n\nexport const properties = arrays.properties\nexport const propertiesCSS = arrays.propertiesCSS\nexport const propertiesJS = arrays.propertiesJS\nexport const cssToJs = functions.cssToJs\nexport const jsToCss = functions.jsToCss\nexport const isAnimatable = functions.isAnimatable\nexport const popular = functions.popular\nexport const syntax = functions.syntax\nexport const validate = functions.validate\nexport const sanitize = functions.sanitize\n"],"names":["objectToString","Object","prototype","toString","value","isObjectLike","call","funcProto","Function","objectProto","funcToString","hasOwnProperty","objectCtorString","getPrototype","func","transform","arg","overArg","getPrototypeOf","result","e","isHostObject","proto","Ctor","constructor","isArray","Array","createItem","data","prev","next","allocateCursor","node","cursor","cursors","releaseCursor","List","this","head","tail","updateCursors","prevOld","prevNew","nextOld","nextNew","getSize","size","fromArray","array","i","length","item","toArray","push","toJSON","isEmpty","first","last","each","fn","context","undefined","forEach","eachRight","forEachRight","nextUntil","start","prevUntil","some","map","appendData","filter","clear","copy","insert","prepend","prependData","append","before","Error","insertData","remove","pop","unshift","shift","prependList","list","insertList","appendList","replace","oldItem","newItemOrList","name","message","error","create","SyntaxError","errorStack","defineProperty","get","stack","sourceFragment","extraLines","processLines","end","lines","slice","line","idx","num","String","maxNumLength","join","source","split","column","startLine","Math","max","endLine","min","cutLeft","substr","match","OFFSET_CORRECTION","MAX_LINE_LENGTH","Boolean","offset","createCustomError","isNaN","parseError","TYPE","EOF","Ident","AtKeyword","Hash","BadString","Url","BadUrl","Delim","Number","Percentage","Dimension","WhiteSpace","CDO","CDC","Colon","Semicolon","Comma","LeftSquareBracket","RightSquareBracket","LeftParenthesis","RightParenthesis","LeftCurlyBracket","RightCurlyBracket","Comment","NAME","keys","reduce","key","isDigit","code","isUppercaseLetter","isLowercaseLetter","isLetter","isNonAscii","isNameStart","isNonPrintable","isNewline","isWhiteSpace","isValidEscape","second","CATEGORY","charCodeCategory","Eof","Digit","NameStart","NonPrintable","isHexDigit","isName","isIdentifierStart","third","isNumberStart","isBOM","charCodeDef","getCharCode","charCodeAt","getNewlineLength","cmpChar","testStr","referenceCode","findDecimalNumberEnd","consumeEscaped","maxOffset","consumeName","consumeNumber","sign","consumeBadUrlRemnants","cmpStr","referenceStr","testCode","findWhiteSpaceStart","findWhiteSpaceEnd","constants","utils","WHITESPACE","COMMENT","TokenStream","offsetAndType","balance","reset","eof","tokenIndex","tokenType","tokenStart","firstCharOffset","tokenEnd","lookupType","tokenCount","lookupOffset","lookupValue","getTokenStart","getRawLength","startToken","mode","balanceEnd","loop","isBalanceEdge","pos","isDelim","getTokenValue","substring","getTokenLength","substrToCursor","skipWS","skipTokenCount","skip","skipSC","dump","type","chunk","noop","generate","decorate","forceBraces","compact","multiplier","combinator","terms","term","explicit","generateSequence","disallowEmpty","comma","opts","generateTypeOpts","options","getLocation","point","loc","referenceName","reference","syntax","matchResult","details","tokens","longestMatch","mismatchOffset","entries","css","fromMatchResult","badNode","rawMessage","keywords","properties","isCustomProperty","str","getVendorPrefix","secondDashIndex","indexOf","keyword","toLowerCase","custom","vendor","freeze","basename","prefix","property","hack","vendorPrefix","SafeUint32Array","Uint32Array","buffer","charCodeDefinitions","tokenize","stream","sourceLength","consumeNumericToken","consumeIdentLikeToken","nameStartOffset","consumeUrlToken","consumeStringToken","endingCodePoint","nextCode","adoptBuffer","balanceCloseType","balanceStart","balancePrev","require$$0","DELIM","IDENT","NUMBER","DIMENSION","token","getNextToken","checkInteger","valueOffset","disallowSign","consumeB","offset_","startsWith","hexSequence","allowDash","hexlen","withQuestionMarkSequence","consumed","tokenizer","cssWideKeywords","calcFunctionNames","charCode","index","eqStr","actual","expected","eqStrAny","isPostfixIeHack","outOfRange","numEnd","consumeFunction","startIdx","calc","expectedTokenType","dimension","numberEnd","reverseSolidusOffset","unit","zero","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token","string","ident","custom-ident","custom-property-name","hex-color","id-selector","an-plus-b","urange","consumedHexLength","declaration-value","level","scan","any-value","angle","deg","grad","rad","turn","decibel","db","frequency","hz","khz","flex","fr","px","mm","cm","in","pt","pc","q","em","ex","ch","rem","vh","vw","vmin","vmax","vm","resolution","dpi","dpcm","dppx","x","semitones","st","time","s","ms","percentage","number","integer","-ms-legacy-expression","input","Tokenizer","nextCharCode","nextNonWsCode","findWsEnd","substringToPos","eat","fromCharCode","peek","charAt","NAME_CHAR","createCharMap","test","COMBINATOR_PRECEDENCE"," ","&&","||","|","scanSpaces","scanWord","scanNumber","scanString","readMultiplierRange","maybeMultiplied","range","readMultiplier","maybeToken","readType","readTypeRange","regroupTerms","combinators","createGroup","sort","a","b","subgroupStart","splice","readImplicitGroup","prevToken","prevTokenPos","readKeywordOrFunction","readGroup","readProperty","parse","ensureFunction","enter","leave","walk","tokenStream","astToTokens","decorator","handlers","curNode","len","nodes","children","tmp","prepareTokens","nodesOffset","nodesIndex","currentNode","MATCH","MISMATCH","DISALLOW_EMPTY","createCondition","thenBranch","elseBranch","else","then","isFunctionType","isEnumCapatible","buildMatchGraph","buildGroupMatchGraph","atLeastOneTermMatched","all","thenClause","newGroupTerm","matchTerm","buildMultiplierMatchGraph","syntaxTree","ref","matchGraph","reverseList","areStringsEqualCaseInsensitive","isCommaContextStart","isCommaContextEnd","internalMatch","state","syntaxes","moveToNextToken","nextIndex","stateSnapshotFromSyntax","nextState","matchStack","syntaxStack","thenStack","pushThenStack","pushElseStack","elseStack","addTokenToMatch","syntaxStash","closeSyntax","iterationCount","exitReason","mask","matchFlag","lastTokenIndex","floor","syntaxDict","dictSyntax","keywordName","console","warn","reason","iterations","host","hostStack","getTrace","shouldPutToTrace","matched","hasMatch","matchNode","testNode","trace","isType","isProperty","isKeyword","matchFragments","lexer","ast","fragments","findFragments","getFirstMatchNode","getLastMatchNode","parent","isValidNumber","isFinite","isValidLocation","createNodeStructureChecker","fields","valid","fieldType","processStructure","nodeType","structure","docs","docsTypes","fieldTypes","check","SyntaxReferenceError","MatchError","require$$1","matchAsTree","require$$2","getStructureFromConfig","config","cssWideKeywordsWithExpression","dumpMapSyntax","syntaxAsAst","buildMatchResult","matchSyntax","useCommon","valueHasVar","valueCommonSyntax","Lexer","generic","atrules","types","addType_","addAtrule_","addProperty_","checkStructure","collectWarning","warns","createDescriptor","descriptor","prelude","descriptors","res","matchAtrulePrelude","atruleName","atrule","names","atrulePreludeSyntax","getAtrulePrelude","matchAtruleDescriptor","descriptorName","atruleEntry","atruleDescriptorSyntax","matchDeclaration","matchProperty","propertyName","propertySyntax","getProperty","matchType","typeName","typeSyntax","getType","findValueFragments","search","findDeclarationValueFragments","declaration","findAllFragments","visit","apply","bind","getAtruleDescriptor","declarators","validate","broken","brokenMap","brokenTypes","brokenProperties","pretty","JSON","stringify","require$$3","OffsetToLocation","columns","linesAndColumnsComputed","setSource","startOffset","startColumn","ensureLinesAndColumnsComputed","computeLinesAndColumns","filename","getLocationRange","recognizer","createList","child","space","ignoreWS","ignoreWSAfter","scanner","getNode","FUNCTION","URL","HASH","PERCENTAGE","createParseContext","parser","locationMap","needPositions","onParseError","onParseErrorThrow","parseAtrulePrelude","parseRulePrelude","parseValue","parseCustomProperty","readSequence","sequence","createSingleNodeList","getFirstListNode","getLastListNode","parseWithFallback","consumer","fallback","fallbackNode","lookupNonWSType","consume","consumeFunctionName","getLocationFromList","location","parserConfig","scope","pseudo","parseContext","processConfig","positions","intToCharMap","TypeError","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","base64","exports","aArgs","aName","aDefaultValue","arguments","urlRegexp","dataUrlRegexp","urlParse","aUrl","scheme","auth","port","path","urlGenerate","aParsedUrl","url","normalize","aPath","part","isAbsolute","parts","up","aRoot","aPathUrl","aRootUrl","joined","lastIndexOf","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","aStr","mappingA","mappingB","onlyCompareOriginal","cmp","originalLine","originalColumn","generatedColumn","generatedLine","onlyCompareGenerated","sourceRoot","sourceURL","sourceMapURL","parsed","has","hasNativeMap","Map","ArraySet","_array","_set","aArray","aAllowDuplicates","set","add","getOwnPropertyNames","sStr","util","toSetString","isDuplicate","at","aIdx","MappingList","_sorted","_last","unsortedForEach","aCallback","aThisArg","aMapping","lineA","lineB","columnA","columnB","compareByGeneratedPositionsInflated","SourceMapGenerator","_file","getArg","_sourceRoot","_skipValidation","_sources","_names","_mappings","_sourcesContents","_version","fromSourceMap","aSourceMapConsumer","generator","file","eachMapping","mapping","newMapping","generated","relative","original","addMapping","sources","sourceFile","sourceRelative","content","sourceContentFor","setSourceContent","_validateMapping","aSourceFile","aSourceContent","applySourceMap","aSourceMapPath","newSources","newNames","originalPositionFor","aGenerated","aOriginal","aSource","_serializeMappings","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","mappings","base64VLQ","_generateSourcesContent","aSources","aSourceRoot","version","sourcesContent","trackNodes","Atrule","Selector","Declaration","processChildren","delimeter","processNode","sourceMap","sourceMappingActive","activatedGenerated","activatedMapping","handlersNode","nodeLine","nodeColumn","handlersChunk","handlersResult","invokeForType","getWalkersFromStructure","walkers","walker","nullable","walkContext","createTypeIterator","reverse","contextName","useContext","prevContextValue","field","createFastTraveralMap","iterators","StyleSheet","Rule","Block","DeclarationList","getTypesFromConfig","iteratorsNatural","iteratorsReverse","fastTraversalIteratorsNatural","fastTraversalIteratorsReverse","root","stylesheet","atrulePrelude","rule","selector","block","function","walkNode","find","found","findLast","findAll","clone","shape","isObject","assign","extend","dest","src","mix","innerShape","k","createSyntax","createParser","createWalker","createGenerator","convert","fromPlainObject","toPlainObject","createConvertor","definitionSyntax","createLexer","fork","extension","base","buildDictionary","dict","patchDict","mdnSyntaxes","patch","trim","preprocessAtrules","mdnAtrules","mdnProperties","checkTokenIsInteger","expectCharCode","msg","getOffsetExcludeWS","excludeWhiteSpace","endOffset","default","leftCurlyBracket","leftCurlyBracketOrSemicolon","exclamationMarkOrSemicolon","semicolonIncluded","rawMode","ATKEYWORD","SEMICOLON","LEFTCURLYBRACKET","RIGHTCURLYBRACKET","consumeRaw","Raw","isDeclarationBlockAtrule","nameLowerCase","AtrulePrelude","STRING","COLON","LEFTSQUAREBRACKET","RIGHTSQUAREBRACKET","getAttributeName","expectIdent","checkColon","getOperator","matcher","flags","Identifier","flagsPrefix","consumeRule","consumeRawDeclaration","consumeDeclaration","isDeclaration","consumeValueRaw","consumeCustomPropertyRaw","consumeValue","startValueToken","Value","important","customProperty","getImportant","RIGHTPARENTHESIS","LEFTPARENTHESIS","Ratio","MediaFeature","COMMA","MediaQuery","left","right","consumePrelude","SelectorList","eatIdentifierOrAsterisk","eatHexSequence","eatQuestionMarkSequence","count","scanUnicodeRange","hexLength","rawStart","rawEnd","SPACE","AnPlusB","AttributeSelector","require$$4","Brackets","require$$5","require$$6","require$$7","ClassSelector","require$$8","Combinator","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","HexColor","require$$15","require$$16","IdSelector","require$$17","require$$18","require$$19","MediaQueryList","require$$20","Nth","nth","allowOfClause","query","require$$22","Operator","require$$23","Parentheses","require$$24","require$$25","PseudoClassSelector","require$$26","PseudoElementSelector","require$$27","require$$28","require$$29","require$$30","require$$32","require$$33","require$$34","TypeSelector","require$$35","UnicodeRange","require$$36","require$$37","-moz-element","element","expression","var","parentheses","merge","mediaQueryList","mediaQuery","selectorList","declarationList","font-face","import","media","page","supports","dir","lang","matches","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","slotted","nonAnimatable","includes","isAnimatable","returnCssProperty","prop","cssToJs","webAnimationsAPI","letter","toUpperCase","jsToCss","main","links","order","getSyntaxes","propertyMatches","syntaxMatches","syntaxSyntax","patchSyntax","obj","returnError","errors","isPlainObject","isString","isNumber","propertyFormat","format","popular","notInPopular","popularIndex","member","sanitize","sanitized","object","functions","val","propertiesCSS","propertiesJS","arrays"],"mappings":"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"}